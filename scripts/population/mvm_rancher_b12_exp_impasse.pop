// can you find the banana?
#base       robot_standard.pop
#base       robot_giant.pop
#base       robot_moonlight.pop

WaveSchedule
{
    StartingCurrency                                800
    CanBotsAttackWhileInSpawnRoom                   No
    RespawnWaveTime                                 2
    Advanced                                        1
    NoRomevisionCosmetics                           1
    FlagEscortCountOffset                           -2
    WaveStartCountdown                              5
    SentryBusterFriendlyFire                        1
    TextPrintTime                                   0
    UseOriginalAnimsForUnintendedClassWeapons       1
    SniperAllowHeadshots                            1
    // MaxRedPlayers                                   5
    PrecacheGeneric                                 materials/colorcorrection/voidfields.raw
    PrecacheSound                                   vo\mvm\norm\spy_mvm_cheers07.mp3
    PrecacheSound                                   replay\cameracontrolerror.wav
    PrecacheSound                                   vo\mvm\mght\heavy_mvm_m_domination16.mp3
    PrecacheSound                                   mvm\mvm_money_vanish.wav
    PrecacheSound                                   ui/rd_2base_alarm.wav
    PrecacheSound                                   ui/cyoa_node_activate.wav
    PrecacheSound voidling_entrance.mp3
    PrecacheSound the_end.mp3
    PrecacheSound voidling_laugh.mp3
    PrecacheSound void_fall_ability.mp3
    PrecacheSound reaching_for_a_finality.mp3
    PrecacheSound tank_park.mp3
    PrecacheSound tank_startup.mp3
    PrecacheSound "the_asparagus_beyond_the_obscure.mp3"
    PrecacheSound "t-error_on_the_dance_floor.mp3"
    PrecacheSound "sky_fall_trigger.mp3"
    PrecacheSound "hard-struck.mp3"
    PrecacheSound "yet_here_we_are_at_an_impasse.mp3"
    PrecacheSound "encore_vote_process.mp3"
    PrecacheSound "break_expectations.mp3"
    // PrecacheSound "eisoptrophobia.wav"
    PrecacheModel                                   models/props_mvm/indicator/indicator_circle_long.mdl
    PrecacheModel                                   models/pauling/items/spytech_phone.mdl
    PrecacheModel                                   models/bots/boss_bot/boss_tank_ubered.mdl
    PrecacheModel                                   models/bots/soldier_boss/bot_soldier_boss_gibby.mdl
    PrecacheModel                                   models/bots/heavy/bot_heavy_gibby.mdl
    PrecacheModel                                   "models/props_halloween/halloween_demoeye.mdl"
    PrecacheModel "models/bots/boss_bot/combat_tank/combat_tank_fireball.mdl"
    PrecacheModel "models/player/items/all_class/ghostly_gibus_heavy.mdl"
    PrecacheModel "models/props_halloween/eyeball_projectile.mdl"
    PrecacheModel models/bots/heavy_boss/bot_heavy_gray_boss.mdl
    PrecacheModel "models/bots/boss_bot/bomb_mechanism.mdl"

	// Combat tank precache
	PrecacheModel "models/bots/boss_bot/combat_tank_mk2/mk2_combat_tank_chassis.mdl"
	PrecacheModel "models/bots/boss_bot/combat_tank_mk2/mk2_minigun.mdl"
	PrecacheModel "models/bots/boss_bot/combat_tank_mk2/mk2_fireball.mdl"

    // PrecacheModel                                   models/weapons/c_models/new_zealium/c_blackbox.mdl
    PrecacheModel                                   models/rcat/rcat_level2.mdl
    PrecacheModel                                   models/props_mvm/robot_spawnpoint_warning.mdl
    LuaScriptFile                                   "scripts\impasse_mechanic.lua"
    LuaScriptFile                                   scripts\snurperweapons.lua

    /////////////////////////////CUSTOM SOUNDS //////////////////////////
    CustomScriptSounds
    {
        Drone.Beep.Regular
        {
            channel         CHAN_STATIC
            volume          1
            pitch           50,75
            soundlevel      SNDLVL_95dB

            rndwave
            {
                wave    player\cyoa_pda_beep8.wav
                wave    player\cyoa_pda_beep5.wav
                wave    player\cyoa_pda_beep2.wav
            }
        }
    }
    /////////////////////////////CUSTOM WEAPONS//////////////////////////
    CustomWeapon
    {
        ////////////////////////NPC WEAPONRY//////////////////////////
        heavy.boss.nuclear
        {
            OriginalItemName                        TF_WEAPON_PIPEBOMBLAUNCHER
            "damage bonus"                          2
            "blast radius increased"                2
            "use large smoke explosion"             1
            "mult projectile scale"                 1.8
            "projectile spread angle penalty"       60
            "Projectile speed decreased"            3.40
            "damage causes airblast"                1
            "faster reload rate"                    0.1
            "custom kill icon"                      megaton
            "energy weapon no deflect"              1
        }
        void.dash.explosion
        {
            OriginalItemName                        TF_WEAPON_ROCKETLAUNCHER
            "damage bonus"                          2.5
            "blast radius increased"                1.80
            "use large smoke explosion"             1
            "mult projectile scale"                 1.8
            "damage causes airblast"                1
            "airblast pushback scale"               3.5
            "custom kill icon"                      megaton
            "projectile sound"                      "mvm\giant_soldier\giant_soldier_explode.wav"
            "energy weapon no deflect"              1
            "projectile detonate time" 0.05
        }
        void.laser.death
        {
            OriginalItemName "The Cow Mangler 5000"
            "damage bonus" 1.25
            "blast radius decreased" 0.50
            "projectile detonate time" 0.05
        }
        void.homing.rocket
        {
            OriginalItemName "The Direct Hit"
        }

        ////////////////////////PLAYER WEAPONRY/////////////////////////
        "The Primal Protector"
        {
            OriginalItemName                "Ali Baba's Wee Booties"
            "cannot be upgraded"            1
            "custom item model"             models/empty.mdl
            "max health additive bonus"     5
            "special item description"      "Trade being raw DPS to be more of a Supportive Burst Tank That Eats Crits For Breakfast!"
            "special item description 3"    "Buffs : +65% Damage Bonus For Shotguns | Always Mini-Crit using melees. | Melee Kills Drops Small Health Packs | Steak Grants Crits Instead"
        }

        "The Broken Oath"
        {
            OriginalItemName                "The Quick-Fix"
            "medigun attack enemy"          1.25
            "fire input on hit"             popscript^$brokenAttack
            // "fire input on hit ally"    popscript^$fixup
            "medigun particle"              passtime_beam
            "medigun particle enemy"        ~bombonomicon_spell_trail
            "uber duration bonus"           -2
            "special item description"      "Become a medic of death by dealing damage with your medigun!"
            "special item description 2"    "Dealing damage will fill up your thresholds which when reached, will grant you buffs/Super Uber!"
            "special item description 3"    "BUT! Don't forget your duties as a medic! Be decisive between damaging and healing."
        }

        //
        "The Power-Player"
        {
            OriginalItemName                TF_WEAPON_PDA_ENGINEER_BUILD
            "special item description"      "The Power-Player grants strong power ups when activated"
            "special item description 2"    "To activate a power up, simply [TAUNT] when reaching a tier"
            "special item description 3"    "Every Building starts at lvl 2 in compensation of losing your Build Canteens."
        }

        //
        "THE BLAST-BASH DASH-BACK"
        {
            OriginalItemName                    "The Tide Turner"
            "fire input on hit"                 popscript^$blastBash
            "item color rgb"                    223424
            "dmg taken from blast reduced"      0.90
            "dmg taken from fire reduced"       0.90
            "special item description"          "A Custom Weapon made with [hybrid-knight] in mind!"
            "special item description 2"        "You gain 3 [SUPERCHARGES] under your crosshair. Bashing with an available [SUPERCHARGE] will grant you powerful buffs"
            "special item description 3"        "[BUFFS] : [UBERCHARGE | SPEEDBOOST | INSTANTLY RELOAD YOUR PRIMARY]"
            "special item description 4"        "If the meter is empty, Wait for 30 seconds to get a free [SUPERCHARGE] or kill 6 enemies!"
        }

        "^^^ Warning: Cannot Use Power Up Canteens"
        {
            OriginalItemName    "Battery Canteens"
        }

        "The Doppelsapper"
        {
            OriginalItemName                "Festive Sapper"
            "fire input on effect"          popscript^$sapperCopy
            mod_disguise_consumes_cloak     1
            "special item description"      "Sap a target and when the target dies, you'll become the target."
            "special item description 2"    "This weapon desires patience and dependent to your target, you'll be powerfully rewarded!"
            "special item description 3"    "TIP: Although Giants are very strong, Commons can be as effective! Ex. having an extra heavy on your team!"
        }
    }

    PlayerItemEquipSpawnTemplate
    {
        Name        medic_offense
        ItemName    "The Broken Oath"
    }

    PlayerItemEquipSpawnTemplate
    {
        Name        demo_explosive_shield
        ItemName    "THE BLAST-BASH DASH-BACK"
    }

    PlayerItemEquipSpawnTemplate
    {
        Name        engineer_action_template
        ItemName    "The Power-Player"
    }

    PlayerItemEquipSpawnTemplate
    {
        Name    HeavyWeaponsTemplate
        ItemName    "The Primal Protector"
    }

    PlayerItemEquipSpawnTemplate
    {
        Name    SpyVariablesTemplate
        ItemName    "The Doppelsapper"
    }

    //////////////////////////////////
    ExtraLoadoutItems
    {
        Engineer
        {
            PDA         "The Power-Player"
            Action      "^^^ Warning: Cannot Use Power Up Canteens"
        }

        Medic
        {
            Secondary       "The Broken Oath"
        }

        Demoman
        {
            Secondary       "THE BLAST-BASH DASH-BACK"
        }

        HeavyWeapons
        {
            Primary     "The Primal Protector"
        }

        // Spy
        // {
        //     Building    "The Doppelsapper"
        //     // Melee       testknife
        // }
    }

    ///////////////////////////////////
    DisallowUpgrade
    {
        Upgrade             "generate rage on heal"
        MaxLevel            0
        CheckAllSlots       1
        ItemName            "The Broken Oath"
    }

    DisallowUpgrade
    {
        Upgrade             "charge recharge rate increased"
        MaxLevel            0
        CheckAllSlots       1
        ItemName            "THE BLAST-BASH DASH-BACK"
    }

    DisallowUpgrade
    {
        Upgrade             "robo sapper"
        MaxLevel            0
        CheckAllSlots       1
        ItemName            "The Doppelsapper"
    }

    // DisallowUpgrade
    // {
    // Upgrade             "dmg taken from crit reduced"
    // MaxLevel            0
    // CheckAllSlots       1
    // ItemName            "The Primal Protector"
    // }
    DisallowUpgrade
    {
        Upgrade             "robo sapper"
        MaxLevel            0
        CheckAllSlots       1
        ItemName            "The Doppelganger"
    }

    /////////////////////////////////////////////////////////////////////
    ExtraSpawnPoint
    {
        Name                spawnbot_boss_support	// sounds like some sort of mobocracy? nah...
        TeamNum             3
        X                   -123
        Y                   3350
        Z                   137
        StartDisabled       1
    } 

    ExtraSpawnPoint
    {
        Name        fakehealth	// sounds like some sort of mobocracy? nah...
        TeamNum     3
        X           1603
        Y           2823
        Z           552
    }

    ExtraTankPath
    {
        Name "cinematic_cutscene"

        Node "713 -549 576"
        Node "511 -699 628"
    }
    ExtraTankPath
    {
        Name "face_scene"

        Node "125 -500 900"
        Node "-118 -500 900"
    }
    
    PointTemplates
    {
        commanderBlabber
        {
            OnSpawnOutput
            {
                Target      blabber
                Action      Trigger
                Delay       0.0
            }

            info_target
            {
                targetname      penis
            }

            logic_relay
            {
                targetname      blabber
                Ontrigger       player,$PlaySoundToSelf,vo\mvm\mght\soldier_mvm_m_helpmecapture02.mp3,0,1
                Ontrigger       "player,$DisplayTextChat,{FFC0CB}Corrupted Commander Of The Sky {reset} : Rally 'round. Help me capture this point!,0,1"
            }
        }

        soldier_tag
        {
            KeepAlive       1

            OnSpawnOutput
            {
                Target      soldier
                Action      SetParent
                Param       !activator
                Delay       0.02
            }

            // OnSpawnOutput
            // {
            // Target      yeet
            // Action      $SetFakeParent
            // Param       !activator
            // Delay       0.02
            // }
            OnParentKilledOutput
            {
                Target      @p@scout
                Action      $ChangeAttributes
                Param       goforbomb
                Delay       0.0
            }

            // OnParentKilledOutput
            // {
            // Target      soldierded
            // Action      trigger
            // Delay       0.2
            // }
            info_target
            {
                targetname      soldier
                origin          "50 0 60"
            }

            // prop_dynamic
            // {
            // "targetname" "yeet"
            // "model"      "models\bots\heavy_boss\bot_heavy_boss.mdl"
            // "origin"     "400 0 200"
            // "disableshadows" "1"
            // }
            logic_relay
            {
                targetname      soldierded
                Ontrigger       player,$PlaySoundToSelf,vo\mvm\mght\soldier_mvm_m_laughlong01.mp3,0,1
                Ontrigger       "player,$DisplayTextChat,{FFC0CB}The Void Oppressionist Laughs,0,1"
                OnTrigger       !activator,$Suicide,,4,1
                OnTrigger       twipmoment,Kill,,0.02,1
                OnTrigger       twippush,Kill,,0.02,1
            }

            trigger_teleport
            {
                targetname          twipmoment
                origin              "0 0 0"
                target              soldier
                mins                "-6000 -6000 -900"
                maxs                "6000 6000 900"
                filtername          onlySupports
                spawnflags          64
                startdisabled       1
            }

            filter_tf_bot_has_tag
            {
                targetname      onlySupports
                tags            bot
                Negated         0
            }

            point_push
            {
                targetname          twippush
                origin              "-50 0 100"
                magnitude           500
                radius              200
                // "launchDirection" "90 0 0"
                filtername          onlySupports
                StartDisabled       1
                spawnflags          8
            }

            trigger_add_tf_player_condition
            {
                targetname          twipmoment
                origin              "20 0 160"
                mins                "-200 -200 -200"
                maxs                "200 200 200"
                filtername          onlySupports
                spawnflags          64
                condition           71
                duration            0.5
                startdisabled       1
            }

            trigger_add_tf_player_condition
            {
                targetname          twipmoment
                origin              "20 0 160"
                mins                "-200 -200 -200"
                maxs                "200 200 200"
                filtername          onlySupports
                spawnflags          64
                condition           32
                duration            4
                startdisabled       1
            }

            logic_relay
            {
                targetname      twipper
                ontrigger       twipmoment,Enable,,0,-1
                ontrigger       twipmoment,Disable,,0.22,-1
                ontrigger       twippush,Enable,,0,-1
                ontrigger       twippush,Disable,,0.55,-1
            }

            logic_case
            {
                targetname      soldierability
                OnCase01        @p@soldier,$ChangeAttributes,RAINDOWNTHEHELLFIRE,0.0,-1
                OnCase02        @p@soldier,$ChangeAttributes,GETOVERHERE,0.0,-1
                OnCase03        @p@soldier,$ChangeAttributes,GETOVERHERE,0.0,-1
                OnCase04        @p@soldier,$ChangeAttributes,RAINDOWNTHEHELLFIRE,0.0,-1
            }
        }

        heavyboss
        {
            KeepAlive       1

            OnSpawnOutput
            {
                Target      heavy
                Action      SetParent
                Param       !activator
                Delay       0.02
            }

            info_target
            {
                targetname      heavy
            }

            logic_case
            {
                targetname      heavyability
                OnCase01        @p@heavy,$ChangeAttributes,gonnaTurnYallIntoSwissCheese,0.0,-1
                OnCase02        @p@heavy,$ChangeAttributes,projectileShotgun,0.0,-1
                OnCase03        @p@heavy,$ChangeAttributes,projectileShotgun,0.0,-1
                OnCase04        @p@heavy,$ChangeAttributes,gonnaTurnYallIntoSwissCheese,0.0,-1
            }

            tf_point_weapon_mimic
            {
                targetname      boombaclot
                origin          "0 0 110"
                angles          "90 0 0"
                teamnum         3
                $firetime       1
                $weaponname     heavy.boss.nuclear
            }

            OnSpawnOutput
            {
                Target      boombaclot
                Action      $SetOwner
                Param       !activator
                Delay       0
            }

            logic_relay
            {
                targetname      sticky
                OnTrigger       boombaclot,$StartFiring,,0,-1
                OnTrigger       area_indicate_heavy,Enable,,2,-1
                ontrigger       player,$PlaySoundToSelf,mvm\sentrybuster\mvm_sentrybuster_spin.wav,2,-1
                ontrigger       "area_indicate,AddOutput,skin 0,3.5,-1"
                OnTrigger       boombaclot,$StopFiring,,3,-1
                OnTrigger       boombaclot,DetonateStickies,,4,-1
                OnTrigger       area_indicate_heavy,Disable,,4,-1
                ontrigger       player,$PlaySoundToSelf,mvm\sentrybuster\mvm_sentrybuster_explode.wav,4,-1
                ontrigger       player,$PlaySoundToSelf,vo\mvm\mght\heavy_mvm_m_award09.mp3,0,-1
            }

            prop_dynamic
            {
                targetname              area_indicate_heavy
                model                   models/props_mvm/indicator/indicator_circle_long.mdl
                origin                  "0 0 0"
                Skin                    1
                modelscale              5
                solid                   0
                defaultanim             start
                disablebonefollowers    1
                StartDisabled           1
                disableshadows          1
            }
        }

        engi_tag
        {
            OnSpawnOutput
            {
                Target      engi
                Action      SetParent
                Param       !activator
                Delay       0.02
            }

            info_target
            {
                targetname      engi
            }
        }

        config
        {
            NoFixup     1

            filter_activator_tfteam
            {
                targetname      blurobots
                teamnum         3
            }
        }

        //////////////Custom Weapons Tempaltes///////////////
        HeavyWeaponsTemplate
        {
            OnSpawnOutput
            {
                Target      popscript
                Action      $strongestMannVariables
                Delay       0.0
            }
        }

        SpyVariablesTemplate
        {
            OnSpawnOutput
            {
                Target      popscript
                Action      $spyVariables
                Delay       0.0
            }
        }

        demo_explosive_shield
        {
            OnSpawnOutput
            {
                Target      popscript
                Action      $demoShieldVariables
                Delay       0.2
            }
        }

        medic_offense
        {
            OnSpawnOutput
            {
                Target      popscript
                Action      $setVariablesMedic
                Param       !activator
                Delay       0.2
            }
        }

        engineer_action_template
        {
            OnSpawnOutput
            {
                Target      popscript
                Action      $disableCanteens
                Param       !activator
                Delay       0.0
            }

            OnSpawnOutput
            {
                Target      popscript
                Action      $pointsChecker
                Param       !activator
                Delay       0.6
            }

            OnSpawnOutput
            {
                Target      popscript
                Action      $powerhouseAction
                Param       !activator
                Delay       0.4
            }

            OnSpawnOutput
            {
                Target      !activator
                Action      $DisplayTextChat
                Param       "{blue}INFO : Kill Enemies with your weapons or sentry to increase your power meter."
                Delay       3
            }

            OnSpawnOutput
            {
                Target      !activator
                Action      $DisplayTextChat
                Param       "{blue}INFO : {red}Taunt {blue}To Use A Power-Up. There are {yellow}3 tiers {blue}of powerups."
                Delay       6
            }

            OnSpawnOutput
            {
                Target      triggerrefresh
                Action      Open
            }

            func_door	// From Encounter BSP! Cause how the hell does that work????
            {
                targetname          triggerrefresh
                rendermode          10
                spawnflags          4108
                speed               1
                wait                0.01
                onfullyclosed       !self,open,,0,-1
            }

            trigger_multiple	// From Encounter BSP! Cause how the hell does that work???? why you need a damn door for this to work?
            {
                targetname      sentryDetect
                parentname      triggerrefresh
                mins            "-96 -96 -96"
                maxs            "96 96 96"
                // "filtername" "sentrygun"
                spawnflags      64
                // "StartDisabled" "1"
                onstarttouch    popscript,$sentry_Detection,,0,-1
            }
            // filter_activator_class
            // {
            // "targetname" "sentrygun"
            // "filterclass" "obj_sentrygun"
            // }
        }

        /////////////////////////////////////////////////////
        danger
        {
            OnSpawnOutput
            {
                Target      info_danger
                Action      Show
                Delay       1.5
            }

            OnSpawnOutput
            {
                Target      info_danger2
                Action      Show
                Delay       5.2
            }

            training_annotation
            {
                targetname      info_danger
                display_text    "Target Has Arrived!"
                lifetime        3.5
            }

            training_annotation
            {
                targetname      info_danger2
                display_text    "Defeat The Target To Drop Tank's Uber!"
                lifetime        3.5
            }
        }

        sentrynest	// for the wave 2 engi
        {
            OnSpawnOutput
            {
                Target      sentrygusher
                Action      SetBuilder
                Param       !activator
                Delay       0.02
            }

            obj_sentrygun
            {
                targetname          sentrygusher
                TeamNum             3
                defaultupgrade      3
                origin              "0 75 0"
            }

            obj_teleporter
            {
                TeamNum             3
                defaultupgrade      2
                origin              "0 -75 0"
                $TeleportWhere      small
            }

            obj_dispenser
            {
                TeamNum             3
                defaultupgrade      2
                origin              "70 -40 0"
                $radiusmult         4
                $ratemult           1.8
            }
        }

        janitorCleanup
        {
            NoFixup     1
            env_fade
			{
				"targetname" "fadefordrama"
				"duration" "2.5"
				"holdtime" "60"
				"rendercolor" "0 0 0"
				"spawnflags" "0"
			}
			env_fade
			{
				"targetname" "holddrama"
				"duration" "20"
				"holdtime" "10"
				"rendercolor" "0 0 0"
				"spawnflags" "1"
			}
            logic_relay
			{
				"targetname" "drama"
				"OnTrigger"	"fadefordrama,fade,,0,-1"
				"OnTrigger" "holddrama,fade,,40,-1"
			}
            OnSpawnOutput
            {
                Target path_tank_share19
                Action AddOutput
                Param "OnPass popscript:$StopWarTank::0.1:-1"
                Delay 0.22
            }
            logic_relay
            {
                "targetname" "failedEncore"

                ontrigger pop_point,$PauseWaveSpawn,voteset,0,-1
                ontrigger pop_point,$PauseWaveSpawn,chat,0,-1

            }
            logic_relay
            {
                "targetname" "hurtbarn"
                "OnTrigger"  @p@broadsideofabarn,$TakeDamage,3000,-1
            }
            prop_dynamic
            {
                "targetname" "bringing_in_the_boom"

                "model"      "models/props_trainyard/cart_bomb_separate.mdl"
                "angles" "0 0 0"
                "modelscale" "1.5"
                "origin"     "1280.0 -3136.0 781"
                "disableshadows" "1"
                "solid" "0"
                "startdisabled" "1"
            }
            info_target
            {
                "targetname" "devtest"
                "origin"     "-424 1203 482"
            }
            info_target
            {
                targetname hereswaldo
                origin "777 4132 704"
            }
            info_particle_system
            {
                "targetname"   "shenanigans"
                "parentname"   ""
                "origin"       "1376 -4311 1607"
                "effect_name"  "hammer_bell_ring_shockwave"
                "start_active" "0"
            }
            logic_relay
            {
                "targetname" "fixSky"

                "OnTrigger" "worldspawn,runscriptcode,SetSkyboxTexture(`sky_dusk_01`),0,-1"
            }
            OnSpawnOutput
            {
                Target      saucer
                Action      kill
            }
            tf_point_nav_interface
            {
                "targetname" "sweep"
            }

            point_populator_interface
            {
                targetname      pop_point
            }

            logic_relay
            {
                targetname      amongus
                ontrigger       "player,$DisplayTextChat,{FFC0CB}M[ANAGE]MENT : Materialize Oppressionist-And-Opportunist Of [REDACTED]. So long. Team Fortress.,0,1"
            }

            trigger_add_tf_player_condition
            {
                spawnflags      1
                origin          "-1279 2227 640"
                mins            "-300 -300 -300"
                maxs            "300 300 300"
                condition       6
                duration        -1
            }
            filter_activator_tfteam
            {
                targetname      redteam
                teamnum         2
            }
			OnSpawnOutput
			{
				Target powerup_kill
				Action Enable
				Delay 0.5
			}
			logic_timer
			{
				targetname "powerup_kill"
				RefireTime 0.1
				"OnTimer" "item_powerup_rune,Kill,,0,-1"
			}
        }

        // mechanics///////////////////////////////////////////////////////////////////////
        combattank_bomb
        {
            KeepAlive 1
            OnParentKilledOutput
            {
                Target cleanuptheshtuff
                Action Trigger
                Delay 0.0
            }
            OnSpawnOutput
            {
                Target combattanker
                Action SetParent
                Param !activator
                Delay 0.5
            }
            OnSpawnOutput
            {
                Target bringing_in_the_boom
                Action SetParent
                Param !activator
                Delay 0.0
            }
            OnSpawnOutput
            {
                Target popscript
                Action $location
                Param !activator
                Delay 0.0
            }
            OnSpawnOutput
            {
                Target path_tank_barn3
                Action AddOutput
                Param "OnPass popscript:$CustomBombDeploy::0:-1"
                Delay 0.25
            }
            OnSpawnOutput
            {
                Target bringing_in_the_boom
                Action SetParentAttachmentMaintainOffset
                Param "turret"
                Delay 0.22
            }

            logic_relay
            {
                targetname delaycauseiforgor

                ontrigger portalization,Start,,0,1
                ontrigger "Player,$PlaySoundToSelf,misc\halloween\merasmus_appear.wav,0,1"

                ontrigger suddenlyafuckingbomb,Trigger,,3,1
                ontrigger popscript,$fixup,,0,1
            }
            logic_relay
            {
                targetname cleanuptheshtuff

                ontrigger custom_bomb_deploy,CancelPending,,0,-1
                ontrigger custom_bomb_deploy,Kill,,0.1,-1
                ontrigger bringing_in_the_boom*,Kill,,0.2,-1
                ontrigger imabouttoblow,Kill,,0.2,-1
            }
            logic_relay
            {
                targetname "custom_bomb_deploy"
                
                ontrigger imabouttoblow,Start,,2,-1
                ontrigger boss_deploy_relay,Trigger,,8,-1
            }
            info_particle_system
            {
                "targetname" "imabouttoblow"
                "origin" "0 0 205"
                // "angles" "-90 0 0"
                "effect_name" "charge_up"
            }
            info_particle_system
            {
                "targetname" "portalization"
                "origin" "0 0 210"
                // "angles" "-90 0 0"
                "effect_name" "eyeboss_tp_vortex"
            }
            logic_relay
            {
                "targetname" "suddenlyafuckingbomb"

                ontrigger imabouttoblow,Start,,0,1
                ontrigger portalization,Stop,,2.5,1
                ontrigger imabouttoblow,Stop,,2.5,1

                ontrigger    "chkchk,PlaySound,,0.0,1"
                ontrigger    Player,$PlaySoundToSelf,mvm\mvm_bomb_warning.wav,2.5,1
                ontrigger urtank,StartShake,,2.5,1

                ontrigger    bringing_in_the_boom,Enable,,2.5,1
                ontrigger    bombshower,Show,,2.5,1

                ontrigger @p@combattanker,SetSpeed,10,2,1
                ontrigger @p@combattanker,SetSpeed,30,3,1
                ontrigger @p@combattanker,SetSpeed,50,4,1
                ontrigger @p@combattanker,SetSpeed,80,5,1

            }
            ambient_generic
            {
                "targetname" "chkchk"
                "message"    "tank_startup.mp3"
                "health"     "10"
                "pitch"      "100"
                "spawnflags" "17"
            }
            env_shake
            { //inputs: StartShake, StopShake
                "targetname" "urtank"
                "spawnflags" "5" //1 global, 4 players in air, 8 phys obj, 16 ropes
                "amplitude"  "10"
                "duration"   "1"
                "frequency"  "10"
                "radius"     "2000"
                "origin"     "0 0 0"
            }
            info_target
            {
                "targetname" "combattanker"
                "origin"     "0 0 0"
            }
            training_annotation
            {
                "targetname"   "bombshower"
                "display_text" "THE COMBAT TANK HAS BEEN GIVEN A BOMB!"
                "lifetime"     "5"
                "origin"       "0 0 10"
            }
        }
        uberTank
        {
            OnSpawnOutput
            {
                Target      uberON
                Action      trigger
                Delay       0.02
            }
            NoFixup     1

            logic_relay
            {
                targetname      uberON
                OnTrigger       tankboss_harvester,Skin,2,0,-1
                OnTrigger       tankboss_harvester,SetDamageFilter,filter_interdimensional,0,-1
            }

            logic_relay
            {
                targetname      uberOff
                OnTrigger       tankboss_harvester,SetDamageFilter,filter_red,0,-1
                OnTrigger       Player,$PlaySoundToSelf,player\invulnerable_off.wav,0,-1
                OnTrigger       tankboss_harvester,Skin,0,0,-1
                OnTrigger       UberNotif,show,,1,-1
            }

            training_annotation
            {
                targetname      UberNotif
                display_text    "Uber Disabled"
                lifetime        3
                origin          "0 0 0"
            }

            filter_activator_name
            {
                targetname      filter_interdimensional
                filtername      screwyouandscrewyourdamage
                Negated         0
            }
        }

        extras
        {
            OnSpawnOutput
            {
                Target      player
                Action      $DisplayTextChat
                Param       "{FFC0CB}Manage : ...But the maintainer isn't here yet now, is he? :)"
                Delay       6
            }

            OnSpawnOutput
            {
                Target      player
                Action      $DisplayTextChat
                Param       "{FFC0CB}Manage : Better finish off the fodder. {red}FAST."
                Delay       10
            }

            OnSpawnOutput
            {
                Target wave3warning
                Action show
                Delay 10
            }

            info_target
            {
                targetname      nuggets
                origin          "0 0 0"
            }
        }

        unstablecharge
        {
            KeepAlive       1

            OnParentKilledOutput
            {
                Target      boomtime
                Action      trigger
            }

            trigger_hurt
            {
                targetname          blastzone
                origin              "0 0 0"
                angles              "0 0 0"
                mins                "-270 -270 -120"
                maxs                "270 270 120"
                damagetype          64
                damage              10
                spawnflags          1
                filtername          redteam
                StartDisabled       1
            }

            filter_activator_tfteam
            {
                targetname      redteam
                teamnum         2
            }

            logic_relay
            {
                targetname      boomtime
                ontrigger       blastzone,Enable,,0,-1
                ontrigger       blastzone,Kill,,0.03,-1
                OnTrigger       bigblast,start,,0,-1
                OnTrigger       bigblast,Kill,,2,-1
                OnTrigger       shake,StartShake,,0,-1
                OnTrigger       shake,Kill,,2,-1
                OnTrigger       !self,Kill,,5,-1
            }

            info_particle_system
            {
                targetname      bigblast
                origin          "0 0 90"
                angles          "0 0 0"
                effect_name     cinefx_goldrush
            }

            env_shake
            {
                targetname      shake
                amplitude       7
                duration        1.5
                frequency       255
                radius          300
                spawnflags      4
            }
        }

        barragezone_sound
        {
            OnSpawnOutput
            {
                Target      beepboop
                Action      PlaySound
                Delay       0.2
            }

            OnSpawnOutput
            {
                Target      beepboop
                Action      Kill
                Delay       3
            }

            ambient_generic
            {
                targetname      beepboop
                health          80
                message         ui/rd_2base_alarm.wav
                pitch           100
                spawnflags      17
            }
        }

        barragezone
        {
            KeepAlive       1

            // OnSpawnOutput
            // {
            // Target randomize
            // Action PickRandom
            // Delay 0.05
            // }
            OnSpawnOutput
            {
                Target      jello
                Action      Trigger
                Delay       0.05
            }

            OnSpawnOutput
            {
                Target      area_indicate
                Action      $SetLocalAngles
                Param       "0 0 0"
                Delay       0.05
            }

            OnSpawnOutput
            {
                Target      crateflair
                Action      $SetFakeParent
                Param       area_indicate
                Delay       0.02
            }

            OnSpawnOutput
            {
                Target      gooners
                Action      Show
                Delay       0.1
            }

            training_annotation
            {
                targetname      gooners
                display_text    !
                lifetime        0.8
                origin          "0 0 15"
            }

            logic_relay
            {
                targetname      jello
                OnTrigger       "crateflair,$AddWeaponAttribute,projectile spread angle penalty|15,1,1"
                OnTrigger       "crateflair,$AddWeaponAttribute,Projectile speed decreased|1.50,1,1"
                OnTrigger       area_indicate,Enable,,0.2,1
                OnTrigger       crateflair,$StartFiring|25,,3,1
                OnTrigger       area_indicate,Disable,,10,7
                OnTrigger       crateflair,$StopFiring,,7,1
                OnTrigger       area_indicate,Kill,,7.2,1
                OnTrigger       crateflair,kill,,7.2,1
                OnTrigger       !self,kill,,7.2,1
                OnTrigger       "area_indicate,$SetLocalAngles,0 0 0,0.02,1"
                OnTrigger       crateflair,$SetFakeParent,area_indicate,0.02,1
            }

            prop_dynamic
            {
                targetname              area_indicate
                model                   models/props_mvm/indicator/indicator_circle_long.mdl
                origin                  "0 0 5"
                Skin                    1
                modelscale              2.9
                solid                   0
                defaultanim             start
                disablebonefollowers    1
                StartDisabled           1
                disableshadows          1
            }

            tf_point_weapon_mimic
            {
                targetname              crateflair
                teamnum                 3
                damage                  100
                splashradius            100
                $fakeparentoffset       "0 0 0"
                $fakeparentrotation     "90 0 0"
                $weaponname             "The Cow Mangler 5000"
                $firetime               0.50
                $preventshootparent     1
                // "FireSound" "weapons/mortar/mortar_shell_incomming1.wav"
            }
        }

        barragezone_void
        {
            KeepAlive       1

            // OnSpawnOutput
            // {
            // Target randomize
            // Action PickRandom
            // Delay 0.05
            // }
            OnSpawnOutput
            {
                Target      jello_void
                Action      Trigger
                Delay       0.05
            }

            OnSpawnOutput
            {
                Target      area_indicate
                Action      $SetLocalAngles
                Param       "0 0 0"
                Delay       0.05
            }

            OnSpawnOutput
            {
                Target      crateflair
                Action      $SetFakeParent
                Param       area_indicate
                Delay       0.02
            }

            OnSpawnOutput
            {
                Target      gooners
                Action      Show
                Delay       0.1
            }

            training_annotation
            {
                targetname      gooners
                display_text    !
                lifetime        1
                origin          "0 0 15"
            }

            trigger_once
            {
                mins            "-60 -60 -60"
                maxs            "60 60 60"
                spawnflags      1
                Ontrigger       area_indicate,$SetFakeParent,!activator,0,1
                Ontrigger       area_indicate,$ClearFakeParent,,7,1
                Ontrigger       "area_indicate,AddOutput,skin 0,7,1"
                Ontrigger       gooners,$SetFakeParent,!activator,0,1
                Ontrigger       gooners,$ClearFakeParent,,7,1
            }

            logic_relay
            {
                targetname      jello_void
                OnTrigger       "crateflair,$AddWeaponAttribute,projectile spread angle penalty|15,1,1"
                OnTrigger       "crateflair,$AddWeaponAttribute,Projectile speed decreased|1.50,1,1"
                OnTrigger       area_indicate,Enable,,0.2,1
                OnTrigger       crateflair,$StartFiring|25,,9,1
                OnTrigger       area_indicate,Disable,,15,7
                OnTrigger       crateflair,$StopFiring,,12,1
                OnTrigger       area_indicate,Kill,,12.2,1
                OnTrigger       crateflair,kill,,12.2,1
                OnTrigger       !self,kill,,12.2,1
                OnTrigger       "area_indicate,$SetLocalAngles,0 0 0,0.02,1"
                OnTrigger       crateflair,$SetFakeParent,area_indicate,0.02,1
            }

            prop_dynamic
            {
                targetname              area_indicate
                model                   models/props_mvm/indicator/indicator_circle_long.mdl
                origin                  "0 0 5"
                Skin                    1
                modelscale              2.9
                solid                   0
                defaultanim             start
                disablebonefollowers    1
                StartDisabled           1
                disableshadows          1
            }

            tf_point_weapon_mimic
            {
                targetname              crateflair
                teamnum                 3
                damage                  100
                splashradius            100
                $fakeparentoffset       "0 0 0"
                $fakeparentrotation     "90 0 0"
                $weaponname             "The Cow Mangler 5000"
                $firetime               0.70
                $preventshootparent     1
                // "FireSound" "weapons/mortar/mortar_shell_incomming1.wav"
            }
        }

        fakehealth_pos	// to hide the lil guy
        {
            info_target
            {
                targetname      pos
            }
        }

        fakehealth
        {
            OnSpawnOutput
            {
                Target      fakehealth
                Action      SetParent
                Param       !activator
                Delay       0.04
            }

            OnParentKilledOutput
            {
                Target      @p@doppelganger
                Action      $Suicide
                Delay       0.02
            }

            info_target
            {
                targetname      fakehealth
                origin          "0 0 0"
            }
        }

        fakeboss_theme
        {
            OnSpawnOutput
            {
                Target      mvm
                Action      PlaySound
            }

            ambient_generic	// from trespasser, but suddenly gets a remix even tho its just a 4/4 beat lmoa
            {
                targetname      mvm
                spawnflags      17
                radius          99999
                pitch           100
                spinup          70
                spindown        74
                message         #music\rd_finale.wav
                health          8.5
            }
        }

        amongusphase_location
        {
            info_target
            {
                targetname      phase2
                origin          "0 0 0"
            }
        }

        sv_cheats_activate
        {
            OnSpawnOutput
            {
                Target      cheat_switch_ACTIVATED
                Action      Trigger
                Delay       4.02
            }

            // OnSpawnOutput
            // {
            // Target popscript
            // Action "$tablePlayers"
            // Delay 0.02
            // }
            OnSpawnOutput
            {
                Target      doppelganger
                Action      SetParent
                Param       !activator
                Delay       0.02
            }

            OnParentKilledOutput
            {
                Target      @p@doppelganger
                Action      $CancelPending
            }

            OnParentKilledOutput
            {
                Target      cheat_switch_ACTIVATED
                Action      Kill
            }

            OnParentKilledOutput
            {
                Target      loop
                Action      Kill
            }
            KeepAlive       1

            info_target
            {
                targetname      doppelganger
                origin          "0 0 0"
            }

            logic_relay
            {
                targetname      cheat_switch_ACTIVATED
                OnTrigger       !activator,$ChangeAttributes,dontshootorelseyoufuckupthesystem,5.8,-1
                OnTrigger       !activator,$ChangeAttributes,cheat_switch,6,-1
                OnTrigger       loop,Trigger,,6.1,-1
            }

            logic_relay
            {
                targetname      loop
                OnTrigger       cheat_switch_ACTIVATED,Trigger,,0,-1
            }

            logic_relay
            {
                targetname      kill_relays
                OnTrigger       cheat_switch_ACTIVATED,Kill,,0.5,1
                OnTrigger       cheat_switch_ACTIVATED,$CancelPending,,0.02,1
                OnTrigger       loop,Kill,,0.5,1
                OnTrigger       @p@doppelganger,$ChangeAttributes,uhoh_jammed,0,1
            }

            logic_relay
            {
                targetname      phasetwomode
                OnTrigger       !activator,$ChangeAttributes,amongus,0.02,-1
                OnTrigger       !activator,$SetFakeParent,phase2,0.02,1
                OnTrigger       !activator,$ClearFakeParent,phase2,5,1
            }
        }

        // Tank Follower Mechainc
        followTankPT
        {
            KeepAlive       1
            NoFixup         1

            OnSpawnOutput
            {
                Target      popscript
                Action      $setFollow
                Delay       0.05
            }

            OnParentKilledOutput
            {
                Target      cancelfollow
                Action      Trigger
                Delay       0.5
            }

            logic_relay
            {
                targetname      cancelfollow
                OnTrigger       popscript,$cancelFollow,,0,-1
                OnTrigger       tankposfollow,Kill,,0.02,-1
                OnTrigger       cancelfollow,Kill,,0.05,-1
            }

            info_target
            {
                targetname      tankposfollow
                origin          "0 0 10"
            }
        }

        killallbots
        {
            OnSpawnOutput
            {
                Target      sweepthosebots*
                Action      Enable
                Delay       0.04
            }

            OnSpawnOutput
            {
                Target      stopMusic
                Action      Trigger
                Delay       0.02
            }

            trigger_hurt	// just ensures the bots dies
            {
                TargetName          sweepthosebots
                origin              "0 0 0"
                mins                "-10000 -10000 -10000"
                maxs                "10000 10000 10000"
                damage              80000
                damagecap           80000
                damagemodel         0
                damagetype          1
                filtername          bluteam
                nodmgforce          1
                spawnflags          1
                StartDisabled       1
            }

            filter_activator_tfteam
            {
                targetname      bluteam
                teamnum         3
            }
        }
    }

    PointTemplates	// Musical Tempalates
    {
        ostHandler
        {
            OnSpawnOutput
            {
                Target      wave_finish_relay
                Action      AddOutput
                Param       "ontrigger stopMusic:trigger::0:-1"
                Delay       0.0
            }

            ambient_generic
            {
                targetname      wavetrack1
                message         #the_asparagus_beyond_the_obscure.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      wavetrack2
                message         #t-error_on_the_dance_floor.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      wavetrack3
                message         #sky_fall_trigger.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      wavetrack4
                message         #hard-struck.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      wavetrack5
                message         #yet_here_we_are_at_an_impasse.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      encoreVote
                message         #encore_vote_process.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      wavetrackEncore
                message         #break_expectations.mp3
                health          10
                pitch           100
                spawnflags      17
            }
            ambient_generic
            {
                targetname      EncoreFake
                message         #break_expectations.mp3
                health          10
                pitch           100
                spawnflags      17
                spindown        90
            }
            ambient_generic
            {
                targetname      wavetrackEncorePart2
                message         #reaching_for_a_finality.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            // Logicsicks
            logic_timer
            {
                targetname          waveOST1_Play
                RefireTime          134
                StartDisabled       1
                OnTimer             wavetrack1,PlaySound,,0,-1
                OnTimer             wavetrack1,StopSound,,133.8,-1
                OnTimer             waveOST1_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOST2_Play
                RefireTime          111.0
                StartDisabled       1
                OnTimer             wavetrack2,PlaySound,,0,-1
                OnTimer             wavetrack2,StopSound,,110,-1
                OnTimer             waveOST2_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOST3_Play
                RefireTime          123.0
                StartDisabled       1
                OnTimer             wavetrack3,PlaySound,,0,-1
                OnTimer             wavetrack3,StopSound,,122,-1
                OnTimer             waveOST3_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOST4_Play
                RefireTime          120.0
                StartDisabled       1
                OnTimer             wavetrack4,PlaySound,,0,-1
                OnTimer             wavetrack4,StopSound,,119,-1
                OnTimer             waveOST4_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOST5_Play
                RefireTime          281
                StartDisabled       1
                OnTimer             wavetrack5,PlaySound,,0,-1
                OnTimer             wavetrack5,StopSound,,280,-1
                OnTimer             waveOST5_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOSTencore_Play
                RefireTime          221
                StartDisabled       1
                OnTimer             wavetrackEncore,PlaySound,,0,-1
                OnTimer             wavetrackEncore,StopSound,,220,-1
                OnTimer             waveOSTencore_Play,ResetTimer,,0,-1
            }

            logic_timer
            {
                targetname          waveOSTencore2_EVIL
                RefireTime          416
                StartDisabled       1
                OnTimer             wavetrackEncorePart2,PlaySound,,0,-1
                OnTimer             wavetrackEncorePart2,StopSound,,415,-1
                OnTimer             waveOSTencore2_EVIL,ResetTimer,,0,-1
            }

            // stopHandler
            logic_relay
            {
                targetname      stopMusic
                OnTrigger       waveOST*,CancelPending,,0,-1
                OnTrigger       waveOST*,Disable,,0,-1
                OnTrigger       waveOST*,ResetTimer,,0,-1
                OnTrigger       wavetrack*,StopSound,,0,-1
            }

            /////////////////////////////////Run Music------------------
            logic_relay
            {
                targetname      music1
                OnTrigger       waveOST1_Play,Enable,,0,-1
                OnTrigger       waveOST1_Play,FireTimer,,0.02,-1
            }

            logic_relay
            {
                targetname      music2
                OnTrigger       waveOST2_Play,Enable,,0,-1
                OnTrigger       waveOST2_Play,FireTimer,,0.02,-1
            }

            logic_relay
            {
                targetname      music3
                OnTrigger       waveOST3_Play,Enable,,0,-1
                OnTrigger       waveOST3_Play,FireTimer,,0.02,-1
            }

            logic_relay
            {
                targetname      music4
                OnTrigger       waveOST4_Play,Enable,,0,-1
                OnTrigger       waveOST4_Play,FireTimer,,0.02,-1
            }

            logic_relay
            {
                targetname      music5
                OnTrigger       waveOST5_Play,Enable,,0,-1
                OnTrigger       waveOST5_Play,FireTimer,,0.02,-1
            }

            logic_relay
            {
                targetname      musicEncore
                OnTrigger       waveOSTencore_Play,Enable,,0,-1
                OnTrigger       waveOSTencore_Play,FireTimer,,0.02,-1
            }
            logic_relay
            {
                targetname      musicEncoreEvil
                OnTrigger       waveOSTencore2_EVIL,Enable,,0,-1
                OnTrigger       waveOSTencore2_EVIL,FireTimer,,0.02,-1
            }
        }

        textHandler
        {
            logic_relay
            {
                targetname      warning
                ontrigger       "player,$DisplayTextChat, ,0,1"
            }
        }
    }

    PointTemplates
    {
        // Encore Mode shit here
        encoremode
        {
            env_fade
            {
                targetname              fade
                duration                5
                holdtime                3
                renderamt               255
                ReverseFadeDuration     5
                rendercolor             "0 0 0"
            }

            env_fade
            {
                targetname              fadeout1
                duration                5
                holdtime                3
                renderamt               255
                ReverseFadeDuration     5
                rendercolor             "0 0 0"
                spawnflags              1
            }

            // --YEAH SHIT HITS THE FAN HERE
            env_fade
            {
                targetname              fadeout2
                duration                2
                holdtime                2
                renderamt               255
                ReverseFadeDuration     2
                rendercolor             "0 0 0"
                spawnflags              1
            }

            env_shake
            {
                spawnflags      29
                amplitude       5
                duration        10
                frequency       15
                targetname      ithastarted
            }

            color_correction
            {
                targetname          voidSeeded
                origin              "-477, 273, 514"
                minfalloff          -1
                maxfalloff          -1
                fadeInDuration      1
                fadeOutDuration     1
                StartDisabled       1
                filename            materials/colorcorrection/voidfields.raw
                maxweight           0.8
            }

            // >FIRE ON THE SIDE Teleporters behind
            info_particle_system
            {
                targetname      tele1
                parentname      ""
                origin          "1174 -2084 660"
                effect_name     teleporter_mvm_bot_persist
                start_active    0
            }

            info_particle_system
            {
                targetname      tele2
                parentname      ""
                origin          "-267 -3256 655"
                effect_name     teleporter_mvm_bot_persist
                start_active    0
            }

            info_particle_system
            {
                targetname      tele3
                parentname      ""
                origin          "-1656 -2658 517"
                effect_name     teleporter_mvm_bot_persist
                start_active    0
            }

            ambient_generic
            {
                targetname      tpsfx
                message         mvm\mvm_tele_deliver.wav
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      tpsfx2
                message         mvm\mvm_tele_deliver.wav
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      tpsfx3
                message         mvm\mvm_tele_deliver.wav
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      start
                message         mvm/mvm_revive.wav
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      start
                message         mvm/giant_heavy/giant_heavy_entrance.wav
                health          10
                pitch           100
                spawnflags      17
            }

            ambient_generic
            {
                targetname      youregonnadie
                message         vo\mvm_mann_up_mode02.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            logic_relay
            {
                targetname      wavebarCycler
                OnTrigger       popscript,$encoreWaveCycler,,0,1
                OnTrigger       bignet,RunScriptFile,snurper_encorewavebar.nut,0,1
            }

            logic_relay
            {
                targetname      wave1
                OnTrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(0)0.02-1"
            }

            logic_relay
            {
                targetname      wave2
                OnTrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(1)0.02-1"
            }

            logic_relay
            {
                targetname      wave3
                OnTrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(2)0.02-1"
            }

            logic_relay
            {
                targetname      wave4
                OnTrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(3)0.02-1"
            }

            logic_relay
            {
                targetname      fadeToEncore
                ontrigger       fade,Fade,,0,-1
                ontrigger       fadeout1,Fade,,7,-1
            }

            logic_relay
            {
                targetname      encoreFilter
                ontrigger       popscript,$killCycle,,0,-1
                ontrigger       fadeout2,Fade,,0,-1
                ontrigger       start,PlaySound,,0,-1
                ontrigger       ithastarted,StartShake,,0.02,-1
                ontrigger       voidSeeded,Enable,,0.02,-1
            }

            logic_relay
            {
                targetname      encoreEffects
                OnTrigger       player,$PlaySoundToSelf,mvm\mvm_warning.wav,14,-1
                OnTrigger       youregonnadie,PlaySound,,18,-1
                Ontrigger       tele1,Start,,23,-1
                Ontrigger       tele2,Start,,24,-1
                Ontrigger       tele3,Start,,25,-1
                Ontrigger       tpsfx,PlaySound,,23,-1
                Ontrigger       tpsfx2,PlaySound,,24,-1
                Ontrigger       tpsfx3,PlaySound,,25,-1
                // "OnTrigger"  "tpsfx,PlaySound,delay,refires"
            }

            logic_relay
            {
                targetname      encer
                ontrigger       relay_clear_bombpath,Disable,,0,1
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWaves.ClearWaveIcons()121"
            }

            info_target
            {
                targetname      peniser
                origin          "1599 2289 517"
            }
        }

        encore_Uber
        {
            OnSpawnOutput
            {
                Target      popopel
                Action      SetParent
                Param       !activator
                Delay       0.02
            }

            OnSpawnOutput
            {
                Target      uberONr
                Action      Trigger
                Delay       0.22
            }

            logic_relay
            {
                targetname      uberONr
                OnTrigger       @p@popopel,$AddCond,51,0.22,-1
                // OnTrigger       @p@popopel,SetDamageFilter,filter_interdimensional,0,-1
            }

            logic_relay
            {
                targetname      uberOffr
                OnTrigger       @p@popopel,$RemoveCond,51,0,-1
                OnTrigger       Player,$PlaySoundToSelf,player\invulnerable_off.wav,0,-1
                // OnTrigger       @p@popopel,Skin,0,0,-1
                OnTrigger       UberNoti2,show,,1,-1
            }

            info_target
            {
                targetname      popopel
                origin          "0 0 0"
            }

            training_annotation
            {
                targetname      UberNoti2
                display_text    "Uber Disabled"
                lifetime        3
                origin          "0 0 0"
            }

            filter_activator_name
            {
                targetname      filter_interdimensional
                filtername      screwyouandscrewyourdamage
                Negated         0
            }
        }

        encore_target
        {
            KeepAlive       1

            OnSpawnOutput
            {
                Target      warn3
                Action      show
                Delay       1
            }

            OnSpawnOutput
            {
                target      infop1
                Action      show
                Delay       2
            }

            OnSpawnOutput
            {
                target      infop2
                Action      show
                Delay       7
            }

            OnSpawnOutput
            {
                Target      player
                Action      $PlaySoundToSelf
                Param       vo\mvm\norm\engineer_mvm_gunslingertriplepunchfinal01.mp3
                Delay       5
            }

            OnSpawnOutput
            {
                Target      player
                Action      $DisplayTextChat
                Param       "{FFC0CB}The Maintainer's Maintainer{fbeccb}: YEEEEEEEEEEE-HAW!"
                Delay       5.2
            }

            OnSpawnOutput
            {
                target      infop2
                Action      show
                Delay       4.52
            }

            OnParentKilledOutput
            {
                Target      uberOffr*
                Action      Trigger
            }

            training_annotation
            {
                targetname      infop1
                display_text    "Target Has Arrived!"
                lifetime        3.5
            }

            training_annotation
            {
                targetname      infop2
                display_text    "Defeat The Target To Drop Maintainer's Uber!"
                lifetime        3.5
            }
        }
        encore_fakehealthbar
        {
            info_target
            {
                "targetname" "broadsideofabarn"
                "origin"     "0 0 0"
            }
            trigger_multiple
            {
                "targetname" "insignificant"
                "parentname" ""
                "origin"	 "0 0 0"
                "mins"	   "-100 -100 -100"
                "maxs"	   "100 100 100"
                "spawnflags" "64" //1: players; 64 everything
                "wait"	   "0.2"

                "OnTrigger"  "broadsideofabarn,SetParent,!activator,0,1"
            }
        }
        encore_glow 
        {
            tf_glow
            {
                GlowColor       "0 0 255 255"
                target          !parent
                targetname      pernis
                Mode            0
            }
        }

        encore_glow_not_sv
        {
            tf_glow
            {
                GlowColor       "0 0 255 255"
                target          !parent
                targetname      pernis
                Mode            0
            }
        }

        encore_logic
        { 
            // training_annotation
            // {
            //     targetname      relax
            //     display_text    "You have been given time. Refill your canteens or buy some upgrades."
            //     lifetime        5
            //     origin          "-1271 2079 640"
            // }
            training_annotation
            {
                targetname      relax
                display_text    "You have been given time. Refill your canteens or buy some upgrades."
                lifetime        5
                origin          "-925 -697 546"
            }

            ambient_generic
            {
                targetname      transition
                message         mvm\mvm_warning.wav
                health          10
                pitch           85
                spawnflags      17
            }

            ambient_generic
            {
                targetname      transition
                message         mvm/giant_heavy/giant_heavy_entrance.wav
                health          10
                pitch           100
                spawnflags      17
            }
            training_annotation
            {
                "targetname"   "wave3warning"
                "display_text" "Eradicate the fodder quickly to spawn in THE MAINTAINER"
                "lifetime"     "5"
                "origin"       "-325 -1750 592"
            }
            logic_relay
            {
                targetname      stopwave1
                ontrigger       pop_point,$PauseWaveSpawn,support1,0,-1
                ontrigger       pop_point,$KillWavespawn,support1,0,-1
                ontrigger       pop_point,$FinishWavespawn,intermission1,10,-1
                ontrigger       "player,$DisplayTextChat,{FFC0CB}Mission-name. Wave1.pop {red}EXPURGATED-//,0,-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWaves.ClearWaveIcons()0-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(1)7-1"
                ontrigger       transition,PlaySound,,7,-1
                ontrigger       transition,StopSound,,10,-1
                ontrigger       "player,$DisplayTextChat,{FFC0CB}Loading {red}Mission-name. Wave2.pop...,7,-1"
            }

            logic_relay
            {
                targetname      stopwave2

                ontrigger       relay_open_front_upgrade,trigger,,0,-1

                ontrigger       pop_point,$KillWavespawn,support2,0,-1
                ontrigger       pop_point,$PauseWaveSpawn,support2,0,-1
                ontrigger       pop_point,$FinishWavespawn,intermission2,45,-1
                ontrigger       stopMusic,trigger,,0,1
                ontrigger       player,$playsoundtoself,vo/mvm_get_to_upgrade01.mp3,7,-1

                ontrigger       "player,$DisplayTextChat,{FFC0CB}Mission-name. Wave2.pop {red}EXPURGATED-//,0,-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWaves.ClearWaveIcons()0-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(2)5-1"
                ontrigger       transition,PlaySound,,5,-1
                ontrigger       "player,$DisplayTextChat,{FFC0CB}Loading {red}Mission-name. Wave3.pop...,5,-1"
                ontrigger       "player,$DisplayTextChat,{FFC0CB}...,10,-1"
                ontrigger       "player,$DisplayTextChat,{FFC0CB}Processing... Estimated 25 seconds.,15,-1"
                ontrigger       relax,show,,7,-1
                ontrigger       relay_close_front_upgrade,trigger,,45,-1

                ontrigger       player,$playsoundtoself,vo/mvm_general_wav_start01.mp3,40,-1 

                ontrigger       transition,StopSound,,10,-1
                ontrigger       EncoreFake,PlaySound,,35,-1
                ontrigger       EncoreFake,StopSound,,40,-1

                ontrigger       musicEncoreEvil,trigger,,45,-1
            }
            training_annotation
            {
                "targetname"   "wave4shenanigans"
                "display_text" "The bots have switched routes! They're approaching at the bridge"
                "lifetime"     "5"
                "origin"       "-305 -1899 681"
            }
            logic_relay
            {
                targetname      stopwave3
                ontrigger       route_middle,Trigger,,0,-1
                ontrigger       sweep,recomputeblockers,,0.22,-1
                ontrigger       wave4shenanigans,Show,,0.44,-1
                ontrigger       popscript,$fillchatwithspace,,1.25,-1


                ontrigger       pop_point,$PauseWaveSpawn,support3,0,-1
                ontrigger       pop_point,$KillWavespawn,support3,0,-1
                ontrigger       pop_point,$FinishWavespawn,intermission3,15,-1
                ontrigger       "player,$DisplayTextChat,{FFC0CB}Mission-name. Wave3.pop {red}EXPURGATED-//,0,-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWaves.ClearWaveIcons()0-1"
                ontrigger       "bignetRunScriptCodeIncludeScript(`alternatewaves`, getroottable());AlternateWavebars(3)10-1"
                ontrigger       transition,PlaySound,,10,-1
                ontrigger       transition,StopSound,,15,-1

                ontrigger       "player,$DisplayTextChat,{FFC0CB}Loading {red}Mission-name. Wave4.pop...,10,-1"
            }
            logic_relay
            {
                targetname theEnd

                ontrigger stopMusic,Trigger,,0,-1
                ontrigger       pop_point,$KillWavespawn,support4,0.1,-1
                ontrigger       pop_point,$PauseWaveSpawn,support4,0.1,-1
                ontrigger "player,$DisplayTextChat,{FFC0CB}Management : All of that... You still stand.,3,-1"
                ontrigger "popscript,$theEndofImpasse,,6,-1"
                ontrigger "player,$DisplayTextChat,{FFC0CB}Management : You have exceeded my expectations. You have dwindled my numbers. You... won. Well done.,10,-1"
                ontrigger player,$PlaySoundToSelf,ui\quest_alert.wav,15,-1
                ontrigger "player,$DisplayTextChat,{FFA500}---HIGHER CONNECTION ESTABLISHED---,15,-1"
                ontrigger "player,$PlaySoundToSelf,the_end.mp3,19.2,-1"
                ontrigger "player,$DisplayTextChat,{FFA500}TF Industries : Mercenaries. The contract has finally been initiated.,17,-1"
                ontrigger "player,$DisplayTextChat,{FFA500}TF Industries : It's time to get a hold of that island.,21,-1"
                ontrigger "player,$DisplayTextChat,{FFA500}TF Industries : Rewards and funding have been set. It's time to end this war once and for all.,24,-1"
                ontrigger "player,$DisplayTextChat,{FFA500}TF Industries : Get ready.,28,-1"
                ontrigger drama,trigger,,12,-1
                ontrigger popscript,$itstimefortermination,,30,-1
                ontrigger player,speakresponseconcept,TLK_PLAYER_GOODJOB,30,-1
                ontrigger pop_point,$FinishWave,,35.5,-1
            }
        }

        OppressionistReturns
        {
            OnSpawnOutput
            {
                Target      weballer
                Action      PlaySound
                Delay       0.02
            }

            OnSpawnOutput
            {
                Target      Player
                Action      $DisplayTextChat
                Param       "{FFC0CB}Damaged Void Oppressionist{fbeccb}: I will not tolerate failure on my team."
            }

            ambient_generic
            {
                targetname      weballer
                message         vo\mvm\mght\soldier_mvm_m_autodejectedtie02.mp3
                health          10
                pitch           100
                spawnflags      17
            }

            logic_relay
            {
                targetname      assistance
                ontrigger       Player,$PlaySoundToSelf,vo\mvm\mght\soldier_mvm_m_helpme02.mp3,0,1
                ontrigger       spawnbot_boss_support,Enable,,5,1
                ontrigger       "Player,$DisplayTextChat,{FFC0CB}The Void Oppressionist Calls For Backup,0,1"
                ontrigger       Player,$PlaySoundToSelf,vo\mvm\mght\soldier_mvm_m_battlecry04.mp3,4,1
                ontrigger       "Player,$DisplayTextChat,{FFC0CB}Damaged Void Oppressionist {reset}: Last One Alive. LOCK THE DOOR!,4,1"
                ontrigger       GoonWarn,ForceSpawn,,1,1
                ontrigger       warn1,Show,,1.1,1
                ontrigger       warn2,Show,,2,1
            }
        }

        GoonWarn
        {
            training_annotation
            {
                targetname      warn
                display_text    "INCOMING!"
                lifetime        "4"
                origin          "1088 207 640"
            }

            training_annotation
            {
                targetname      warn2
                display_text    "INCOMING!"
                lifetime        3
                origin          "-23 -513 640"
            }

            training_annotation
            {
                targetname      warn3
                display_text    INCOMING!
                lifetime        3
                origin          "-1691 -373 559"
            }

            info_target
            {
                targetname      hebheb
                origin          "1088 207 660"
            }

            info_target
            {
                targetname      pypy
                origin          "-23 -513 640"
            }

            info_target
            {
                targetname      engi
                origin          "-1691 -373 559"
            }
        }

        //-- Boss Time------------------
        encoreboss_teleportlocations
        {

            prop_dynamic
            {
                "targetname" "point_main"
                "parentname" ""
                "model"      "models/props_mvm/indicator/indicator_circle_long.mdl"
                "origin"     "-324 -1329 512"
                Skin                    1
                modelscale              1.5
                solid                   0
                defaultanim             start
                StartDisabled           0
                disableshadows          1
            }
            prop_dynamic
            {
                "targetname" "point_center"
                "parentname" ""
                "model"      "models/props_mvm/indicator/indicator_circle_long.mdl"
                "origin"     "-749 -1497 526"
                Skin                    1
                modelscale              1.5
                solid                   0
                defaultanim             start
                StartDisabled           0
                disableshadows          1
            }
            prop_dynamic
            {
                "targetname" "point_right"
                "parentname" ""
                "model"      "models/props_mvm/indicator/indicator_circle_long.mdl"
                "origin"     "688 -612 567"
                Skin                    1
                modelscale              1.5
                solid                   0
                defaultanim             start
                StartDisabled           0
                disableshadows          1
            }
            prop_dynamic
            {
                "targetname" "point_left"
                "parentname" ""
                "model"      "models/props_mvm/indicator/indicator_circle_long.mdl"
                "origin"     "-1096 -271 512"
                Skin                    1
                modelscale              1.5
                solid                   0
                defaultanim             start
                StartDisabled           1
                disableshadows          1
            }
        }
        encore_cutscene
        {
            // OnSpawnOutput
            // {
            //     Target func_respawnroomvisualizer*
            //     Action Kill
            //     Delay 4
            // }
            training_annotation
            {
                "targetname"   "showtimer"
                "display_text" "The bounds have been removed" 
                "lifetime"     "5"
                "origin"       "-433 -2149 815"
            }
            prop_dynamic 
            {
                "targetname" "poppy"
                "parentname" ""
                "model"      "models/props_lakeside_event/vortex_lakeside.mdl"
                "origin"     "-210 -1498 1958"
                "modelscale" "15"
                "disableshadows" "1"
            }
            info_target
            {
                "targetname" "phase2location"
                "origin"     "-201 -1262 1158"
            }
            //Pausing The WaveSpawns
            OnSpawnOutput
            {
                Target pop_point
                Action $PauseWaveSpawn
                Param "Support*"
                Delay 0.0
            }
            // OnSpawnOutput
            // {
            //     Target rs_bot
            //     Action Kill
            //     Delay 0.0
            // }
            OnSpawnOutput
            {
                Target pop_point
                Action $PauseWaveSpawn
                Param coaltownCrashCourse*
                Delay 0.0
            }
            //--Rippped Right From Night Of The Living Bread. You Should Plaey It
            game_text
            {
                targetname textsauce
                fadeout 3
                holdtime 4
                fadein 2
                color "138 43 226"
                effect 0
                "x" "0.15"
                "y" "-1"
                channel 3
                spawnflags 1

                "message" "[THE FACE OF THE DEEP] VOIDLING"
            }
            env_shake
            {
                targetname      shaker
                amplitude       7
                duration        3
                frequency       255
                radius          300
                spawnflags      4
            }
            env_fade
			{
				"targetname" "noob"
				"duration" "0.7"
				"holdtime" "0.2"
				"rendercolor" "0 0 0"
				"spawnflags" "0"
			}
			env_fade
			{
				"targetname" "noob2"
				"duration" "0.7"
				"holdtime" "0.2"
				"rendercolor" "0 0 0"
				"spawnflags" "1"
			}
            env_fade
			{
				"targetname" "flash"
				"duration" "1"
				"holdtime" "1"
				"rendercolor" "255 255 255"
				"spawnflags" "1"
			}
            logic_relay
			{
				"targetname" "fadeforcutscene"
				"OnTrigger"	"noob,fade,,0,-1"
				"OnTrigger" "noob2,fade,,0.7,-1"
			}
            point_viewcontrol
            {
                "acceleration" "100"
                "deceleration" "100"
                "interpolatepositiontoplayer" "0"

                "wait" "30"
                "targetname" "camera"
                "parentname" "camera_move"

                "spawnflags" "4"
                
            }
            point_viewcontrol
            {
                "acceleration" "100"
                "deceleration" "100"
                "interpolatepositiontoplayer" "0"

                "wait" "30"
                "targetname" "face_scene"
                "parentname" "face_camera"
                "angles"     "0 100 0"

                "spawnflags" "4"
                
            }
            func_tracktrain
			{
				"targetname" "camera_move"
                "parentname" ""
				"target" "cinematic_cutscene_1" 
               // "spawnflags" "1"
				"velocitytype" "1"
                "orientationtype" "2"
				"startspeed" "7"
			    "speed" "0"
                "height" "0"
            }
            func_tracktrain
			{
				"targetname" "face_camera"
                "parentname" ""
				"target" "face_scene_1" 
               // "spawnflags" "1"
				"velocitytype" "1"
                "orientationtype" "2"
				"startspeed" "7"
			    "speed" "0"
                "height" "0"
            }
            info_target
            {
                "targetname" "potato"
                "origin"     "100 -721 900"
            }

            logic_relay
            {
                //-- Camera Control

                "targetname" "breadintro"

                ontrigger     player,$PlaySoundToSelf,voidling_entrance.mp3,0,1

                "OnTrigger"  "fadeforcutscene,trigger,,1.3,-1"
                "OnTrigger"  "digtimer,Enable,,1.7,-1"
                "OnTrigger"  "camera*,$EnableAll,,2,-1"
                "OnTrigger"  "camera*,$DisableAll,,16,-1"
                "OnTrigger"  "camera_move,SetSpeed,40,2,-1"
                "OnTrigger"  "fadeforcutscene,trigger,,21,-1"
                "OnTrigger"  "camera*,kill,,34,-1"

                ontrigger  face_scene*,$EnableAll,,16,-1
                // ontrigger  face_scene*,SetTarget,potato,2,-1
                OnTrigger  face_camera,SetSpeed,40,16,-1
                ontrigger  face_scene*,$DisableAll,,21.7,-1

                ontrigger textsauce,Display,,17,-1
                ontrigger "showtimer,Show,,23,-1"
                
                "spawnflags" "1"

                //--- Particle Effects

                OnTrigger eyeballteleport,Start,,4,1
                OnTrigger eyeballteleport,Stop,,15,1
                OnTrigger chargerup,Start,,6.5,1
                OnTrigger explosionfx,Start,,10.5,1
                OnTrigger flash,Fade,,10.5,1
                ontrigger shaker,StartShake,,10.5,1
            }
            OnSpawnOutput
            {
                Target "breadintro"
                Action "trigger"
                Param  ""
                Delay  0.0
            }
            //-- Models And Design
            info_target
            {
                "targetname" "goHereMonococo"
                "origin"     "97 -1072 750"
            }
            info_target
            {
                "targetname" "changeupbro"
                "origin" "-3023 -2108 627"
            }


            info_particle_system
            {
                "targetname"   "eyeballteleport"
                "parentname"   ""
                "origin"       "97 -1072 750"
                "effect_name"  "eyeboss_tp_vortex"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname" "chargerup"
                "origin" "97 -1072 750"
                // "angles" "-90 0 0"
                "effect_name" "charge_up"
            }
            info_particle_system
            {
                "targetname"   "explosionfx"
                "parentname"   ""
                "origin"       "200 -1047 514"
                "effect_name"  "mvm_tank_destroy"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname"   "explosionfx"
                "parentname"   ""
                "origin"       "51 -1030 52"
                "effect_name"  "mvm_tank_destroy"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname"   "explosionfx"
                "parentname"   ""
                "origin"       "76 -1158 514"
                "effect_name"  "mvm_tank_destroy"
                "start_active" "0"
            }
        }
        theVoidlingDrip //<This also functions as the voidling overalls
        {
            OnSpawnOutput
            {
                Target point
                Action SetParent
                Param "!activator"
                Delay 0.02
            }
            OnSpawnOutput
            {
                Target puff_attach
                Action SetParent
                Param !activator
                Delay 0.04
            }
            OnSpawnOutput
            {
                Target puff_attach
                Action SetParentAttachment
                Param "head"
                Delay 0.22
            }
            
            OnSpawnOutput
            {
                Target point
                Action SetParentAttachment
                Param "head"
                Delay 0.22
            }
            OnSpawnOutput
            {
                Target voidEye
                Action Enable
                Delay 0.08
            }
            OnSpawnOutput
            {
                Target beam_end_pos
                Action ClearParent
                Delay 0.10
            }
            OnSpawnOutput
            {
                Target void
                Action SetParent
                Param !activator
                Delay 0.08
            }
            info_target
            {
                "targetname" "void"
                "origin"     "0 0 0"
            }
            prop_dynamic
            {
                "targetname" "voidEye"
                "parentname" "point" 
                
                "model"      "models/props_halloween/halloween_demoeye.mdl"
                "DefaultAnim" "lookaround3"
                "origin" "0 0 0"
                "disableshadows" "1"
                "DisableBoneFollowers" "1"
                "solid" "2"

                "$OnDamageBlocked" "@p@void,$TakeDamageFromActivator,,0,-1"
                "$OnDamageBlocked" "Player,$DisplayTextChat,eyeball jockey,0,-1"
            }
            prop_dynamic
            {
                "targetname" "a"
                "parentname" "voidEye" 
                
                "model"      "models\player\items\heavy\heavy_officer.mdl"
                "modelscale" "2.8"
                "origin" "0 0 0"
                "disableshadows" "1"
                
            }
            prop_dynamic
            {
                "targetname" "point"
                "origin"     "0 0 -75"
                "model"      "models/empty.mdl"
                
                "solid" "0"
                "DisableBoneFollowers" "1"
                "disableshadows" "1"
            }
            //Logic handlers (abilities and suchs)
            //------------------------------------
            logic_relay
            {
                targetname laserAbility

                ontrigger findtarget,Enable,,0,-1
                ontrigger voidEye,SetPlaybackRate,1,0,-1
                ontrigger findtarget,$TargetTest,,2,-1
                ontrigger puff_attach,Start,,2.02,-1
                ontrigger point,ClearParent,,1.88,-1
                ontrigger point,SetParent,rotator,2,-1 
                ontrigger "point,SetParentAttachment,head,2.02,-1"
                ontrigger voidEye,SetAnimation,arrives,2.02,-1
                //-- Chargup

                ontrigger "Player,$PlaySoundToSelf,void_fall_ability.mp3,4,-1"

                ontrigger eyeball_laser_charge,Start,,5,-1
                ontrigger voidEye,SetPlaybackRate,0.15,7,-1
                ontrigger voidEye,SetAnimation,firing3,6.8,-1

                //--Attack
                ontrigger voidbeam_attack,$StartFiring,,8,-1
                ontrigger fuckyou,StrikeOnce,,8,-1
                ontrigger voidEye,SetPlaybackRate,0.02,8,-1
                ontrigger popscript,$laserOfDoom,,8,-1

                //--Finish Up
                ontrigger voidbeam_attack,$StopFiring,,16.8,-1

                ontrigger voidEye,SetPlaybackRate,1,18,-1
                ontrigger popscript,$stopLaser,,16.8,-1
                ontrigger voidEye,SetDefaultAnimation,lookaround3,17,-1
                ontrigger voidEye,SetAnimation,teleport_out,18,-1
                ontrigger point,ClearParent,,18.44,-1
                ontrigger point,SetParent,@p@void,18.66,-1
                ontrigger point,SetParentAttachment,head,19.1,-1

                ontrigger voidEye,SetAnimation,stunned,19,-1
                ontrigger voidEye,SetPlaybackRate,1.85,19.2,-1
                ontrigger voidEye,SetPlaybackRate,1,21.5,-1

                ontrigger eyeball_laser*,Stop,,18,-1
                ontrigger puff_attach,Stop,,10,-1
                ontrigger puff_attach,Start,,19,-1
                ontrigger findtarget,Disable,,19,-1
                ontrigger rotator,$StopRotateTowards,,20,-1


                //--Debugged
                ontrigger "Player,$DisplayTextChat,Checking,0,-1"
            }
            logic_relay
            {
                "targetname" "headbashAbility"
                spawnflags 2

                ontrigger "rotator,AddOutput,$rotationspeedx 200,0.2,-1"
                ontrigger "rotator,AddOutput,$rotationspeedy 200,0.2,-1"

                ontrigger "voidEye,SetPlaybackRate,1,0,-1"
                ontrigger "puff_attach,Start,,2.02,-1"
                ontrigger "point,ClearParent,,1.88,-1"
                ontrigger "point,SetParent,rotator,2,-1 "
                ontrigger "point,SetParentAttachment,head,2.02,-1"
                ontrigger "voidEye,SetAnimation,arrives,2.02,-1"

                //laser_aim_dashg In
                "ontrigger" "voidEye,SetPlaybackRate,0.5,7,-1"
                ontrigger "findtargetOnce,Enable,,5,-1"
                ontrigger "voidEye,SetDefaultAnimation,angry,5,-1"
                ontrigger "laser_aim_dash,TurnOn,,5,-1"
                ontrigger "popscript,$laserOfDoom,,5,-1"

                //Moments Before Disaster
                ontrigger laser_aim_dash,TurnOff,,10,-1
                ontrigger area_dash_explosion,Enable,,10,-1
                ontrigger thisisterriblebutpointtemplatehasforcedmyhand,TurnOn,,10.2,-1
                ontrigger "area_dash_explosion,AddOutput,skin 0,11,-1"
                ontrigger popscript,$stopLaser,,12,-1
                ontrigger rotator,$StopRotateTowards,,12.5,-1

                ontrigger voidEye,$SetSolid,0,12,-1

                //Devastation
                ontrigger void_dash_kaboom,$StartFiring,,13,-1
                ontrigger void_dash_kaboom,$StopFiring,,13.2,-1

                ontrigger thisisterriblebutpointtemplatehasforcedmyhand,TurnOff,,13,-1
                "ontrigger" "voidEye,SetPlaybackRate,0.5,13,-1"
                "ontrigger" "point,ClearParent,,10,-1"
                "ontrigger" "voidEye,SetAnimation,stunned,13,-1"
                ontrigger  "point,SetParent,beam_end_pos,12.22,-1"
                ontrigger  "point,SetParentAttachment,empty,13.22,-1"

                ontrigger voidEye,$SetSolid,2,12.5,-1

                ontrigger  "explosiondash,Start,,13,-1"
                ontrigger area_dash_explosion,Disable,,13,-1
                ontrigger  "explosiondash,Stop,,14,-1"
                
                ontrigger  momentOfDeath,StartShake,,13,-1
                ontrigger  momentOfDeath,StopShake,,14,-1

                //Return

                "ontrigger" "voidEye,SetPlaybackRate,1,15,-1"
                ontrigger voidEye,SetAnimation,teleport_out,17,-1
                ontrigger voidEye,SetDefaultAnimation,lookaround3,15,-1

                ontrigger point,ClearParent,,15.4,-1
                ontrigger point,SetParent,@p@void,18,-1
                ontrigger point,SetParentAttachment,head,18.02,-1

                ontrigger puff_attach,Stop,,10,-1
                ontrigger puff_attach,Start,,18,-1

                ontrigger "rotator,AddOutput,$rotationspeedx 65,20,-1"
                ontrigger "rotator,AddOutput,$rotationspeedy 16,20,-1"
            }
            //Shotgun anims
            logic_relay
            {
                targetname shooty

                ontrigger voidEye,SetPlaybackRate,3,0,-1
                ontrigger voidEye,SetAnimation,firing1,0,-1
                ontrigger voidEye,SetPlaybackRate,1,0.25,-1
            }
            //--Detectors
            $trigger_detector
            {
                "targetname" "findtarget"
                mins "-3000 -3000 -1000"
                maxs "3000 3000 1000"
                StartDisabled 1
                spawnflags 1
                filtername redteam

                $OnNewTarget rotator,$RotateTowards,!activator,0,-1
                $OnNewTarget popscript,$check,,0,-1

                $TargetTestFail "Player,$DisplayTextChat,No Targets Available,0,-1"

            }
            $trigger_detector
            {
                "targetname" "findtargetOnce"
                mins "-3000 -3000 -1000"
                maxs "3000 3000 1000"
                StartDisabled 1
                spawnflags 1
                filtername redteam
                $keeptarget 1

                $OnNewTarget rotator,$RotateTowards,!activator,0,-1
                $OnNewTarget popscript,$check,,0,-1

                $TargetTestFail "Player,$DisplayTextChat,No Targets Available,0,-1"

            }
            
            // --Others (bones, Particles and etc.) 
            tf_point_weapon_mimic
            {
                "targetname" "voidbeam_attack"
                "$firetime" "0.40"
                "parentname" beam_end_pos
                "origin"     "0 0 0"
                "angles"     "90 0 0"
                "teamnum"    "3"
                "$weaponname" "void.laser.death"
            }
            tf_point_weapon_mimic
            {
                "targetname" "void_dash_kaboom"
                "$firetime" "10"
                "parentname" beam_end_pos
                "origin"     "0 0 0"
                "angles"     "90 0 0"
                "teamnum"    "3"
                "$weaponname" "void.dash.explosion"
            }
            //
            OnSpawnOutput
            {
                Target "voidbeam_attack"
                Action "$SetOwner"
                Param  @p@void
                Delay  0.22
            }
            OnSpawnOutput
            {
                Target eyeball_laser_charge
                Action SetParent
                Param voidEye
                Delay 0.04
            }
            
            OnSpawnOutput
            {
                Target laser_aim_dash
                Action SetParent
                Param voidEye
                Delay 0.04
            }
            env_shake
            { //inputs: StartShake, StopShake
                "targetname" "momentOfDeath"
                "spawnflags" "4" //1 global, 4 players in air, 8 phys obj, 16 ropes
                "amplitude"  "10"
                "duration"   "10"
                "frequency"  "15"
                "radius"     "2000"
                "origin"     "0 0 0"
            }
            env_beam
            {
                "targetname" "laser_aim_dash"
                "BoltWidth" "3.5"
                "LightningStart" "voidEye"

                "origin" "0 0 30"
                "renderamt" "255"
                "rendercolor" "0 0 255"
                "damage" "0"

                "dissolvetype" "1"
                "life" "3"
                "LightningEnd" "beam_end_pos"

                "texture" "sprites/laserbeam.spr"
            }
            env_beam
            {
                "targetname" "thisisterriblebutpointtemplatehasforcedmyhand"
                "BoltWidth" "3.5"
                "LightningStart" "voidEye"

                "origin" "0 0 30"
                "renderamt" "255"
                "rendercolor" "255 0 0"
                "damage" "0"

                "dissolvetype" "0"
                "life" "5"
                "LightningEnd" "beam_end_pos"

                "texture" "sprites/laserbeam.spr"
            } 
            env_beam
            {
                "targetname" "fuckyou"
                "BoltWidth" "13"
                "LightningStart" "voidEye"

                "origin" "0 0 30"
                "renderamt" "255"
                "rendercolor" "173 216 230"
                "damage" "0"

                "NoiseAmplitude" "50"
                "dissolvetype" "1"
                "NoiseAmplitude" "1"
                "life" "10"
                "LightningEnd" "beam_end_pos"

                "texture" "sprites/laserbeam.spr"
                "spawnflags" "560" //48 //512 <--ripped right out from contact. Based mission btw go play it
            } 
            info_particle_system
            {
                "targetname"   "puff_attach"
                "parentname"   ""
                "origin"       "0 0 0"
                "effect_name"  "eyeboss_tp_normal"
                "start_active" "0"
            }
            info_particle_system
            {
                "targetname" "eyeball_laser_charge"
                "origin" "0 0 -30"
                // "angles" "-90 0 0"
                "effect_name" "charge_up"
                "start_active" "0"

            }
            prop_dynamic
            {
                "targetname" "rotator"
                "origin" "0 0 525"

                "model" "models/bots/heavy/bot_heavy.mdl"

                "$modules" "rotator"
                "$lookat" "origin"

                "$rotationspeedx" "65"
                "$rotationspeedy" "16"
                "$rotationlimitx" "180"
                "$rotationlimity" "240"

                "rendermode" "10"
            }
            prop_dynamic
            {
                targetname              area_dash_explosion
                "parentname"   "beam_end_pos"
                model                   models/props_mvm/indicator/indicator_circle_long.mdl
                origin                  "0 0 0"
                Skin                    1
                modelscale              2.8
                solid                   0
                defaultanim             start
                disablebonefollowers    1
                StartDisabled           1
                disableshadows          1
            }
            prop_dynamic
            {
                "targetname" "beam_end_pos"
                "origin" "0 0 0"
                "angles" "0 0 0"

                "model" "models/empty.mdl"
                "solid" "0"
            }
            info_particle_system
            {
                "targetname"   "explosiondash"
                "parentname"   "beam_end_pos"
                "origin"       "0 0 0"
                "effect_name"  "mvm_tank_destroy_bloom"
                "start_active" "0"
            }
            //
            //--------------- Switching Shits
            //
            env_shake
            { //inputs: StartShake, StopShake
                "targetname" "switchShake"
                "spawnflags" "5" //1 global, 4 players in air, 8 phys obj, 16 ropes
                "amplitude"  "10"
                "duration"   "3"
                "frequency"  "15"
                "radius"     "2000"
                "origin"     "0 0 0"
            }
            logic_case
            {
                "targetname" "weaponAndSupportSwitch"

                OnCase01 shenanigans,Start,,2.3,-1
                OnCase01 shenanigans,Stop,,2.7,-1
                OnCase02 shenanigans,Start,,2.3,-1
                OnCase02 shenanigans,Stop,,2.7,-1
                OnCase03 shenanigans,Start,,2.3,-1
                OnCase03 shenanigans,Stop,,2.7,-1

                OnCase01 @p@void,$ChangeAttributes,shotgunswitch_fire,0.0,-1 
                OnCase02 @p@void,$ChangeAttributes,shotgunswitch_blast,0.0,-1
                OnCase03 @p@void,$changeattributes,pistolswitch_bullet,0.0,-1

                OnCase01 "bignetRunScriptCodeIncludeScript(`snurper_encorewavebar`, getroottable());AlternateWavebars(7)2.3-1"
                OnCase02 "bignetRunScriptCodeIncludeScript(`snurper_encorewavebar`, getroottable());AlternateWavebars(6)2.3-1" 
                OnCase03 "bignetRunScriptCodeIncludeScript(`snurper_encorewavebar`, getroottable());AlternateWavebars(8)2.3-1" 

                OnCase01 "pop_point,$PauseWaveSpawn,Support*,0,-1"
                OnCase01 pop_point,$ResumeWavespawn,SupportFirePhase1,2.3,-1
                OnCase01 "pop_point,$PauseWaveSpawn,Support*,3.8,-1"

                OnCase02 "pop_point,$PauseWaveSpawn,Support*,0,-1"
                OnCase02 pop_point,$ResumeWavespawn,SupportBlastPhase1,2.3,-1
                OnCase02 "pop_point,$PauseWaveSpawn,Support*,3.8,-1"

                OnCase03 "pop_point,$PauseWaveSpawn,Support*,0,-1"
                OnCase03 pop_point,$ResumeWavespawn,SupportBulletPhase1,2.3,-1
                OnCase03 "pop_point,$PauseWaveSpawn,Support*,3.8,-1"

            }
            logic_case
            {
                targetname amongus_abilities

                // OnCase01 @p@void,$ChangeAttributes,headbash,0,-1
                OnCase02 @p@void,$ChangeAttributes,laserofdeathandconquest,0,-1
            }
            logic_relay
            {
                "targetname" "switchInputs"
                "OnTrigger"  "@p@void,$Taunt,,0.2,-1"
                OnTrigger    "@p@void,$TeleportToEntity,changeupbro,0,-1"
                OnTrigger    @p@void,SetModelScale,1,0,-1
                OnTrigger    point,ClearParent,,0,-1
                OnTrigger    @p@void,SetModelScale,5.25,0.2,-1

                OnTrigger    "point,SetParent,@p@void,0.2,-1"
                OnTrigger    "point,SetParentAttachment,head,0.22,-1"
                OnTrigger    @p@void,$TeleportToEntity,goHereMonococo,0.15,-1

                "OnTrigger"  Player,$PlaySoundToSelf,mvm/mvm_warning.wav,2.3,-1
                Ontrigger    switchShake,StartShake,,2.3,-1

                Ontrigger weaponAndSupportSwitch,PickRandomShuffle,,0.1,-1
            }
            logic_case
            {
                "targetname" abilityRandomPick
                
                OnCase01 switchInputs,Trigger,,0,-1
                // OnCase02 amongus_abilities,PickRandomShuffle,,0,-1
            }
            OnSpawnOutput
            {
                Target based
                Action Enable
                Delay 14
            }
            logic_timer
            {
                "targetname"    "based"
                "RefireTime"    "27.0"
                "StartDisabled" 1
                "OnTimer"       "abilityRandomPick,PickRandomShuffle,,0.0,-1"
                "OnTimer"       "based,ResetTimer,,0.5,-1"
            }

            //Intermission time here
            env_fade
			{
				"targetname" "fadeToNostalgia"
				"duration" "4"
				"holdtime" "1"
				"rendercolor" "255 255 255"
				"spawnflags" "0"
			}
            logic_relay
            {
                "targetname" "switchupthefield_1"

                ontrigger based,CancelPending,,0,-1
                ontrigger based,Disable,,0,-1
                ontrigger based,ResetTimer,,0.2,-1

                ontrigger pop_point,$PauseWaveSpawn,SupportBulletPhase1,0.5,-1
                ontrigger pop_point,$KillWaveSpawn,SupportBulletPhase1,0,-1

                ontrigger pop_point,$PauseWaveSpawn,SupportBlastPhase1,0.5,-1
                ontrigger pop_point,$KillWaveSpawn,SupportBlastPhase1,0,-1

                ontrigger pop_point,$PauseWaveSpawn,SupportFirePhase1,0.5,-1
                ontrigger pop_point,$KillWaveSpawn,SupportFirePhase1,0,-1
                
                ontrigger "bignetRunScriptCodeIncludeScript(`snurper_encorewavebar`, getroottable());AlternateWavebars(4)0-1" 

                OnTrigger "Player,$DisplayTextChat,{FFC0CB}Still insufficient? You fascinate me!,1,-1"
                Ontrigger "Player,$DisplayTextChat,{FFC0CB}I've been studying you all throughout all your battles and battles past.,3,-1"
                Ontrigger "Player,$DisplayTextChat,{FFC0CB}So let me bring you back to your roots as I rejuvenate myself.,6,-1"
                Ontrigger fadeToNostalgia,Fade,,6,-1

                // Ontrigger pop_point,$ResumeWavespawn,coaltownCrashCourse*,13,-1
                Ontrigger "@p@void,$TeleportToEntity,changeupbro,10,1"
                ontrigger "bignetRunScriptCodeIncludeScript(`snurper_encorewavebar`, getroottable());AlternateWavebars(9)10-1"

                OnTrigger "worldspawn,runscriptcode,SetSkyboxTexture(`sky_badlands_01`),10,-1"
                ontrigger "player,$DisplayTextChat,{FFC0CB}Loading {red}Mission-name. Infiltration Of Doe's Crash Course.pop,10,-1"
                ontrigger "tf_objective_resource,$SetClientProp$m_iszMvMPopfileName,Infiltration Of Doe's Crash Course,10,-1"

                ontrigger "phase2time,trigger,,10,-1"
            }
            //------------PHASE 2-----------------
            logic_relay
            {
                "targetname" "phase2time"

                "OnTrigger"	"noob,fade,,1,1"
                "OnTrigger" "noob2,fade,,1.7,1"

                Ontrigger point,ClearParent,,0,-1
                Ontrigger rotator,ClearParent,,0,-1
                ontrigger phase2_BasicAttack,ClearParent,0,-1
                Ontrigger rotator,$TeleportToEntity,phase2location,0.5,-1
                Ontrigger point,SetParent,rotator,0.5,-1
                Ontrigger point,SetParentAttachment,head,0.6,-1
                Ontrigger phase2_BasicAttack,SetParent,point,0.5,-1
                Ontrigger "Player,$DisplayTextChat,{RED}ENGAGE,3,-1"

                ontrigger findtarget,Enable,,5,-1
                ontrigger @p@void,$ChangeAttributes,phase2Stun,5,-1
                ontrigger phase2_Shooty,Enable,,5,-1
                ontrigger "rotator,AddOutput,$rotationspeedx 200,5,-1"
                ontrigger "rotator,AddOutput,$rotationspeedy 200,5,-1"
            }
            logic_timer
            {
                "targetname"    "phase2_Shooty"
                "RefireTime"    "1.5"
                "StartDisabled" 1
                "OnTimer"       phase2_BasicAttack,$StartFiring,3,0,-1
                "OnTimer"       phase2_BasicAttack,$StopFiring,,1.05,-1
                "OnTimer"       "voidEye,SetAnimation,firing3,0,-1"
            }
            tf_point_weapon_mimic
            {
                "targetname"       "phase2_BasicAttack"
                "origin"           "0 0 500"
                "angles"           "30 0 0"
                "teamnum"          "3"
                "$weaponname"    "The Direct Hit"
                "$firetime"      "0.35" //Delay between shots for $StartFiring input
                "$weaponnosound" "1"
            }
            OnSpawnOutput
            {
                Target "phase2_BasicAttack"
                Action "$SetOwner"
                Param  @p@void
                Delay  1
            }
        }
    }

    Mission	// sentry buster
    {
        Objective               DestroySentries
        InitialCooldown         5
        Where                   spawnbot_main
        BeginAtWave             1
        RunForThisManyWaves     6
        CooldownTime            40

        TFBot
        {
            Template    T_TFBot_SentryBuster
            Tag         boss
        }
    }

    Mission
    {
        Objective               Engineer
        InitialCooldown         40
        BeginAtWave             4
        RunForThisManyWaves     1
        CooldownTime            35
        DesiredCount            1
        Where                   spawnbot_main

        TFBot
        {
            Template    T_TFBot_Engineer_Sentry_Battle_TeleIn
            Tag         bot
        }
    }

    Templates
    {
        voidFit
        {
            Item    "Big Chief"
            Item    "Masked Fiend"
            Item    Delldozer
            Item    "The Mucous Membrain"

            CharacterAttributes
            {
                "item color rgb"    8208497
            }
        }

        T_TFBot_Soldier_Mangler_ChargeShots
        {
            Class               Soldier
            Skill               Normal
            Name                "Charged Mangler Soldier"
            Item                "The Cow Mangler 5000"
            ClassIcon           soldier_charged_mangler_v2
            MaxVisionRange      1200
            Attributes          SuppressFire

            FireWeapon
            {
                Type            Secondary
                Cooldown        0.25
                Delay           4	// Initial spawn delay, approximate
                IfSeeTarget     1
            }

            ItemAttributes
            {
                ItemName                        "The Cow Mangler 5000"
                "faster reload rate"            0.25	// Adjust reload rate to your liking,
                "clip size bonus upgrade"       1	// or multiply their clip by 0.75/0.5/0.25 for less reloads needed.
                "aiming movespeed increased"    1.25	// Multiply by some amount to compensate for the EIGHTY PERCENT move speed penalty while charging...but probably don't make them walk at normal speed, that's unindicative.
            }
        }

        T_TFBot_Demoknight_Splendid
        {
            Class                   Demoman
            ClassIcon               demoknight_charge_splendid
            Name                    "Charging Splendid-Knight"
            Skill                   Expert
            Tag                     bot
            WeaponRestrictions      MeleeOnly
            Item                    "The Splendid Screen"
            Item                    "The Claidheamohmor"
            Item                    "Ali Baba's Wee Booties"

            CharacterAttributes
            {
                "gesture speed increase"    1
            }
        }

        unstableBot	// there is never 2 unstable bots in the same wave... coincidence? no. Bad Programming? yes.
        {
            SpawnTemplate       unstablecharge

            AddCond
            {
                Index       70
                Delay       0.02
            }

            FireInput
            {
                Target              !self
                Action              $ChangeAttributes
                Param               explode_on_death
                IfHealthBelow       300
                Delay               0.0
                Repeats             1
            }

            EventChangeAttributes
            {
                explode_on_death
                {
                    UseHumanAnimations      1
                    ActionOverride          Mobber

                    CharacterAttributes
                    {
                        "cannot pick up intelligence"       1
                    }

                    AddCond
                    {
                        Name        TF_COND_PHASE
                        Delay       0.2
                    }

                    Taunt
                    {
                        Name        "Taunt: Mourning Mercs"
                        Delay       0.2
                        Repeats     2
                    }

                    FireInput
                    {
                        Name        !self
                        Action      $suicide
                        Delay       3
                    }

                    FireInput
                    {
                        Name        item_teamflag*
                        Action      ForceDrop
                        Delay       0.0
                        Repeats     5
                    }
                }
            }

            FireInput
            {
                Target      !self
                Action      IgnitePlayer
                Repeats     9999
                Delay       1
                Cooldown    1
            }
        }

        medic_scout
        {
            UseCustomModel      models\bots\scout_boss\bot_scout_boss.mdl
            Class               Medic
            Name                "Powerup: HASTE Medic"
            ClassIcon           medic_haste_lite
            Attributes          IgnoreEnemies
            Item                "Medic Mask"
            Skill               Expert
            Health              125
            Attributes          SpawnWithFullCharge
            Item                "The Quick-Fix"
            Item                "Coldfront Carapace"

            ItemAttributes
            {
                ItemName                    "The Quick-Fix"
                "effect cond override"      2106459
                "uber duration bonus"       3
                "ubercharge rate bonus"     2
            }

            CharacterAttributes
            {
                "move speed bonus"                      1.30
                "damage force reduction"                0.6
                "airblast vulnerability multiplier"     0.6
            }

            FireWeapon
            {
                Delay           1
                Cooldown        3
                Repeats         0
                IfSeeTarget     1
                Duration        0.5
                Type            Secondary
            }
        }

        giant_combo_pyro
        {
            Class           Pyro
            Name            "Giant Expert Combo Pyro"
            Health          3000
            Skill           Expert
            Tag             bot
            ClassIcon       pyro_degreaser_panic_giant
            Attributes      Miniboss
            // DesiredAttackRange 250
            Item            "The Degreaser"
            Item            "Panic Attack Shotgun"

            ItemAttributes
            {
                ItemName                                "The Degreaser"
                "fire input on hit"                     !activator^$ChangeAttributes^switchSecondary
                airblast_destroy_projectile             1
                "single wep deploy time increased"      1.20
            }

            ItemAttributes
            {
                ItemName                "Panic Attack Shotgun"
                "fire input on hit"     !activator^$ChangeAttributes^switchPrimary
                "faster reload rate"    -0.8
            }

            CharacterAttributes
            {
                "move speed bonus"                      0.5
                "damage force reduction"                0.6
                "single wep deploy time increased"      1.20
                "airblast vulnerability multiplier"     0.6
                "override footstep sound set"           6
            }

            EventChangeAttributes
            {
                switchSecondary
                {
                    WeaponRestrictions      SecondaryOnly
                }

                switchPrimary
                {
                    WeaponRestrictions      PrimaryOnly
                }
            }
        }

        soldier_combo
        {
            Class                   Soldier
            Name                    "Expert Combo Soldier"
            Health                  200
            Skill                   Expert
            Tag                     bot
            ClassIcon               soldier_shotgun2
            DesiredAttackRange      300
            Item                    TF_WEAPON_ROCKETLAUNCHER
            Item                    TF_WEAPON_SHOTGUN_SOLDIER

            ItemAttributes
            {
                ItemName                                TF_WEAPON_ROCKETLAUNCHER
                "fire input on hit"                     !activator^$ChangeAttributes^switchSecondary
                "single wep deploy time increased"      1.20
            }

            ItemAttributes
            {
                ItemName                TF_WEAPON_SHOTGUN_SOLDIER
                "fire input on hit"     !activator^$ChangeAttributes^switchPrimary
                "faster reload rate"    -0.8
            }

            EventChangeAttributes
            {
                switchSecondary
                {
                    WeaponRestrictions      SecondaryOnly
                    AimAt                   Body
                }

                switchPrimary
                {
                    WeaponRestrictions      PrimaryOnly
                    AimAt                   Feet
                }
            }
        }

        pyro_combo
        {
            Class                   Pyro
            Name                    "Expert Combo Soldier"
            Health                  175
            Skill                   Easy
            Tag                     bot
            ClassIcon               pyro_degreaser_flare
            DesiredAttackRange      300
            Item                    TF_WEAPON_FLAMETHROWER
            Item                    "The Flare Gun"

            ItemAttributes
            {
                ItemName                                TF_WEAPON_FLAMETHROWER
                "fire input on hit"                     !activator^$ChangeAttributes^switchSecondary
                "single wep deploy time increased"      1.20
            }

            ItemAttributes
            {
                ItemName                "The Flare Gun"
                "fire input on hit"     !activator^$ChangeAttributes^switchPrimary
                "faster reload rate"    0.8
            }

            EventChangeAttributes
            {
                switchSecondary
                {
                    WeaponRestrictions      SecondaryOnly
                    AimAt                   Body
                }

                switchPrimary
                {
                    WeaponRestrictions      PrimaryOnly
                    AimAt                   Feet
                }
            }
        }

        giant_soldier_combo_spammer
        {
            Class                   Soldier
            Name                    "Expert Combo Soldier Spammer"
            Skill                   Expert
            Tag                     bot
            Attributes              MiniBoss
            Health                  3800
            ClassIcon               soldier_shotgun_spammer
            DesiredAttackRange      400
            Item                    TF_WEAPON_ROCKETLAUNCHER
            Item                    TF_WEAPON_SHOTGUN_SOLDIER

            ItemAttributes
            {
                ItemName                                TF_WEAPON_ROCKETLAUNCHER
                "fire input on hit"                     !activator^$ChangeAttributes^switchSecondary
                "single wep deploy time increased"      1.20
            }

            ItemAttributes
            {
                ItemName                TF_WEAPON_SHOTGUN_SOLDIER
                "fire input on hit"     !activator^$ChangeAttributes^switchPrimary
                "faster reload rate"    -0.8
            }

            CharacterAttributes
            {
                "move speed bonus"                      0.5
                "damage force reduction"                0.4
                "airblast vulnerability multiplier"     0.4
                "override footstep sound set"           3
            }

            EventChangeAttributes
            {
                switchSecondary
                {
                    WeaponRestrictions      SecondaryOnly
                    AimAt                   Body
                }

                switchPrimary
                {
                    WeaponRestrictions      PrimaryOnly
                    AimAt                   Feet
                }
            }
        }

        demoman_sticky	// from the magic of Contact
        {
            Class                   Demoman
            Skill                   Expert
            UseHumanAnimations      1
            Name                    "Stickybomb Demo"
            Tag                     bot
            ClassIcon               demo_sticky_daan
            WeaponRestrictions      SecondaryOnly
            Attributes              HoldFireUntilFullReload
            AimOffset               "0 0 20"

            ItemAttributes
            {
                ItemName                        tf_weapon_grenadelauncher
                is_passive_weapon               1
                "override projectile type"      27
            }

            ItemAttributes
            {
                ItemName                        TF_WEAPON_PIPEBOMBLAUNCHER
                "stickybomb charge rate"        0.001
                "max pipebombs decreased"       -4
                "projectile range increased"    0.45
            }
        }

        T_TFbot_Heavyweapons_Armored_Combo
        {
            Class           Heavyweapons
            ClassIcon       heavy_armored_combo
            Name            "Combo Heavy"
            Skill           Expert
            Tag             bot
            Attributes      HoldFireUntilFullReload
            Health          900
            Scale           1.5

            FireInput
            {
                Target      popscript
                Action      $switchRequirement
                Param       !activator
                Repeats     1
                Delay       0.02
            }

            ItemAttributes
            {
                ItemName                TF_WEAPON_MINIGUN
                "fire input on hit"     popscript^$heavySwitch^
            }

            ItemAttributes
            {
                ItemName                TF_WEAPON_SHOTGUN_HWG
                "fire input on hit"     !activator^$ChangeAttributes^switch_Primary
            }

            EventChangeAttributes
            {
                switch_Primary
                {
                    WeaponRestrictions      PrimaryOnly

                    ItemAttributes
                    {
                        ItemName                    TF_WEAPON_MINIGUN
                        "force weapon switch"       1
                    }
                    AimAt                   Body
                }

                switch_Secondary
                {
                    WeaponRestrictions      SecondaryOnly

                    ItemAttributes
                    {
                        ItemName                    TF_WEAPON_SHOTGUN_HWG
                        "force weapon switch"       1
                    }
                    AimAt                   Body
                }
            }
        }
    }
    SpawnTemplate                                   janitorCleanup
    SpawnTemplate                                   config
    SpawnTemplate                                   ostHandler
    SpawnTemplate                                   textHandler
    SpawnTemplate                                   encoremode
    SpawnTemplate                                   encore_logic

    SpawnTemplate
    {
        Name        amongusphase_location
        Origin      "-534 946 512"
    }

    SpawnTemplate
    {
        Name        fakehealth_pos
        Origin      "0 0 3000"
    }

    Wave	// wave 1
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 1
        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }

        Explanation
        {
            Line    "{Green}Management : Glad to have you back, Team Fortress. Once again, we have another extraterrestrial scheme to dispatch of."
            Line    "{Green}Management : For unknown reasons, third-party anomalies keep localizing to this place. First were those aliens months ago and now this."
            Line    "{Green}Management : Whatever comes, you know the drill."
            Line    " "
            Line    "{RED}MVM MECHANIC NOTICE : WHENEVER THE BOMB ACTIVATES THE HATCH WARNING. BOTS GET TO PICK AND FLANK ON ANY ROUTE. STAY ALERT!"
        }

        WaveSpawn
        {
            Name                    1
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            TotalCurrency           200
            WaitBetweenSpawns       18
            Where                   spawnbot_left

            TFBot
            {
                Template        T_TFBot_Giant_Scout_FAN
                // Name            "Giant Armored Scout"
                // ClassIcon       scout_armored
                Action          FetchFlag
                Attributes      DisableDodge
                Skill           Normal
                Tag             bot
            }
        }

        WaveSpawn
        {
            Name                    1b
            WaitForAllDead          1
            TotalCount              4
            MaxActive               4
            SpawnCount              2
            TotalCurrency           100
            WaitBeforeStarting      13
            WaitBetweenSpawns       13
            Where                   spawnbot_center

            TFBot
            {
                Template        T_TFBot_Giant_Scout_FAN
                // Name            "Giant Armored Scout"
                // ClassIcon       scout_armored
                Action          FetchFlag
                Attributes      DisableDodge
                Skill           Expert
                Tag             bot
            }
        }

        WaveSpawn
        {
            Name                    1a
            WaitForAllSpawned       1
            TotalCount              24
            MaxActive               8
            SpawnCount              1
            TotalCurrency           50
            WaitBeforeStarting      5
            WaitBetweenSpawns       0.9
            Where                   spawnbot_main

            TFBot
            {
                Class                   Scout
                WeaponRestrictions      PrimaryOnly
                Skill                   Easy
                Tag                     bot
            }
        }

        WaveSpawn
        {
            Name                    1a
            WaitForAllSpawned       1
            TotalCount              12
            MaxActive               6
            SpawnCount              2
            TotalCurrency           100
            WaitBeforeStarting      7
            WaitBetweenSpawns       5.3
            Where                   spawnbot_main

            RandomChoice
            {
                TFBot
                {
                    Class       Soldier
                    Tag         bot
                    Skill       Easy
                }
            }
        }

        WaveSpawn
        {
            Name                    2
            WaitForAllDead          1
            TotalCount              6
            MaxActive               6
            SpawnCount              3
            TotalCurrency           50
            WaitBetweenSpawns       18.8
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier
                    Skill       Hard
                    // maxvisionrange          950
                    Tag         bot
                }

                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    // maxvisionrange          950
                    Tag         bot
                }

                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    // maxvisionrange          950
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            Name                    2a
            WaitForAllDead          2
            TotalCount              10
            MaxActive               5
            SpawnCount              5
            TotalCurrency           50
            WaitBeforeStarting      1.9
            WaitBetweenSpawns       16
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons
                    Skill       Normal
                    // maxvisionrange      950
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Class       Soldier
                    Tag         bot
                }

                TFBot
                {
                    Class       Soldier
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       2
            TotalCount              16
            MaxActive               4
            SpawnCount              2
            TotalCurrency           25
            WaitBeforeStarting      8
            WaitBetweenSpawns       3.8
            Where                   spawnbot_main

            TFBot
            {
                Class       Heavyweapons
                Skill       Easy
                // maxvisionrange      750
                Tag         bot
            }
        }

        WaveSpawn
        {
            Name                    theburgers
            WaitForAllSpawned       2a
            TotalCount              12
            MaxActive               12
            SpawnCount              12
            TotalCurrency           25
            WaitBetweenSpawns       5.8
            WaitBeforeStarting      5
            Where                   spawnbot_main

            TFBot
            {
                Class       Heavyweapons
                Skill       Easy
                // maxvisionrange      850
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          theburgers
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      8
            WaitBetweenSpawns       0.1
            Where                   spawnbot_left
            Where                   spawnbot_right
            TotalCurrency           100

            Squad
            {
                TFBot
                {
                    Class                   Spy
                    Name                    "SV-Chief [MARKSMANN]"
                    ClassIcon               spy_ambassador_deadly
                    UseHumanAnimations      1
                    AlwaysGlow              1
                    // Attributes              MiniBoss
                    Scale                   0.99
                    Health                  10000
                    Action                  FetchFlag
                    Skill                   Hard
                    Item                    "The Ambassador"
                    Item                    "Night Vision Gawkers"
                    Item                    "Dustbowl Devil"
                    Item                    "Tuxedo Royale"
                    Attributes              HoldFireUntilFullReload
                    Attributes              UseBossHealthBar
                    AimAt                   Head
                    Tag                     boss
                    NoBombUpgrades          1
                    AimTrackingInterval     0.05

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.30
                        "move speed bonus"                      0.80
                        "cannot be sapped"                      1
                        "cannot disguise"                       1
                    }

                    ItemAttributes
                    {
                        ItemName                "The Ambassador"
                        "fire rate bonus"       0.75
                    }

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        ////////////////////////////////////////////SUPPORTS////////////////////////////////////////
        WaveSpawn
        {
            WaitForAllDead          theburgers
            TotalCount              2
            MaxActive               2
            SpawnCount              1
            WaitBeforeStarting      9
            WaitBetweenSpawns       10.5
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Medic_QuickUber
                Action      Medic
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          theburgers
            TotalCount              8
            MaxActive               8
            SpawnCount              4
            WaitBeforeStarting      4
            WaitBetweenSpawns       4
            Support                 1
            Where                   spawnbot_right

            TFBot
            {
                Template        T_TFBot_Scout_Fast
                Skill           Expert
                Attributes      DisableDodge
                Tag             bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          theburgers
            TotalCount              6
            MaxActive               6
            SpawnCount              1
            WaitBeforeStarting      4
            WaitBetweenSpawns       2.3
            Support                 1
            Where                   spawnbot_right

            TFBot
            {
                Template        T_TFBot_Scout_Sandman_FastCharge
                Skill           Expert
                Attributes      DisableDodge
                Tag             bot
            }
        }

        WaveSpawn
        {
            TotalCount              3
            MaxActive               1
            SpawnCount              1
            WaitBeforeStarting      60
            WaitBetweenSpawns       120
            Support                 limited
            Where                   spawnbot_right

            TFBot
            {
                Template    T_TFBot_Engineer_Sentry_Battle_TeleIn
                Tag         bot
            }
        }
    }

    Wave	// wave 2
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 2

        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        InitWaveOutput
        {
            Target      popscript
            Action      $setUpEncoreRequiremts
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }

        WaveSpawn
        {
            TotalCount              20
            MaxActive               8
            SpawnCount              2
            TotalCurrency           75
            WaitBeforeStarting      4
            WaitBetweenSpawns       1.5
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Demoman
                Tag         bot
                SKill       Hard
            }
        }

        WaveSpawn
        {
            Name                    1
            TotalCount              2
            MaxActive               2
            SpawnCount              1
            TotalCurrency           75
            WaitBeforeStarting      0
            WaitBetweenSpawns       8
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Giant_Soldier_Spammer_Reload
                // maxvisionrange      550
                Tag         bot
                Skill       Expert
            }
        }

        WaveSpawn
        {
            Name                    2
            WaitForAllDead          1
            TotalCount              10
            MaxActive               5
            SpawnCount              1
            TotalCurrency           100
            WaitBetweenSpawns       3.5
            Where                   spawnbot_main

            TFBot
            {
                Class           HeavyWeapons
                Scale           1.4
                Health          900
                Name            "Armored Heavy"
                Skill           Easy
                // maxvisionrange      800
                ClassIcon       heavy_armored
                Tag             bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          1
            TotalCount              10
            MaxActive               3
            SpawnCount              1
            Where                   spawnbot_left
            WaitBetweenSpawns       5.4
            TotalCurrency           50

            TFBot
            {
                Template    T_TFBot_Scout_Milk
                Skill       Expert
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          1
            TotalCount              15
            MaxActive               4
            SpawnCount              1
            Where                   spawnbot_center
            WaitBetweenSpawns       3.4

            TFBot
            {
                Class       Pyro
                Skill       Easy
                Tag         bot
            }
        }

        WaveSpawn
        {
            Name                    2
            WaitForAllDead          1
            TotalCount              8
            MaxActive               8
            SpawnCount              4
            TotalCurrency           50
            WaitBeforeStarting      2
            WaitBetweenSpawns       12.3
            Where                   spawnbot_main

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    Attributes      AlwaysCrit
                    Skill           Easy
                    Tag             Bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          1
            TotalCount              6
            MaxActive               3
            SpawnCount              3
            Support                 limited
            WaitBeforeStarting      12
            WaitBetweenSpawns       30
            Where                   spawnbot_main

            TFBot
            {
                Class           Spy
                Tag             boss
                Attributes      IgnoreFlag
            }
        }

        WaveSpawn
        {
            Name                    3
            WaitForAllDead          2
            TotalCount              8
            SpawnCount              4
            Where                   spawnbot_left
            WaitBeforeStarting      12
            WaitBetweenSpawns       6
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heater
                    Skill       Hard
                    // maxvisionrange      1000
                    Tag         bot
                }

                TFBot
                {
                    Class       Demoman
                    Skill       Hard
                    Tag         bot
                }

                TFBot
                {
                    Class       Demoman
                    Skill       Hard
                    Tag         bot
                }

                TFBot
                {
                    Class       Demoman
                    Skill       Hard
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            // Name                    3
            WaitForAllDead          2
            TotalCount              30
            MaxActive               8
            SpawnCount              2
            Where                   spawnbot_left
            WaitBetweenSpawns       4.7
            TotalCurrency           25

            Squad
            {
                NoFormation             1
                NoWaitForFormation      1

                TFBot
                {
                    Class           Pyro
                    Item            "The Degreaser"
                    Skill           Easy
                    Attributes      AlwaysFireWeapon
                    Tag             bot
                }

                TFBot
                {
                    Template    T_TFBot_Scout_Milk
                    Skill       Expert
                    Tag         bot
                }
            }
        }

        WaveSpawn	// Minor Impact Time
        {
            WaitForAllDead          3
            TotalCount              9
            MaxActive               9
            SpawnCount              9
            TotalCurrency           150
            WaitBeforeStarting      2
            Where                   spawnbot_main

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Soldier_Spammer_Reload
                    SpawnTemplate           commanderBlabber
                    ClassIcon               soldier_commander
                    Health                  20000
                    Tag                     boss
                    Name                    "CAPTAIN [REDACTED]"
                    Item                    TF_WEAPON_ROCKETLAUNCHER
                    Item                    "The Team Captain"
                    Item                    "Fancy Dress Uniform"
                    // maxvisionrange          900
                    Skill                   Hard
                    Action                  FetchFlag
                    Attributes              UseBossHealthBar
                    UseHumanAnimations      1
                    Attributes              HoldFireUntilFullReload

                    // AimOffset "0 0 120"
                    ItemAttributes
                    {
                        ItemName                    TF_WEAPON_ROCKETLAUNCHER
                        Paintkit_proto_def_index    414
                        "attach particle effect"    237
                        Set_item_texture_wear       0
                    }

                    CharacterAttributes
                    {
                        "rage giving scale"         0.1
                        "gesture speed increase"    1.5
                        "item color rgb"            8208497
                    }

                    // UPDATE: HE TAUNTS TO TARGET ALL TO BE AIRBOMBED!
                    FireInput
                    {
                        Target      !self
                        Action      $ChangeAttributes
                        Param       RAINDOWNTHEHELLFIRE
                        Delay       17
                        CoolDown    17
                        Repeats     999
                    }

                    EventChangeAttributes
                    {
                        RAINDOWNTHEHELLFIRE
                        {
                            Taunt
                            {
                                Name        "Taunt: Star-Spangled Strategy"
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      popscript
                                Action      $bombThem
                                Delay       2
                                Repeats     1
                            }
                        }
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }
            }
        }

        // SUPPORTS HERE
        WaveSpawn
        {
            WaitForAllDead          2
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBetweenSpawns       20
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Scout_Shortstop
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          2
            TotalCount              4
            MaxActive               4
            SpawnCount              2
            WaitBetweenSpawns       4
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Class       Soldier
                Tag         bot
            }
        }
    }

    Wave	// Wave 3
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 3
        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }

        WaveSpawn
        {
            Name                    1
            TotalCurrency           100
            TotalCount              12
            SpawnCount              3
            MaxActive               12
            WaitBeforeStarting      7
            WaitBetweenSpawns       6.5
            Where                   spawnbot_center
            Where                   spawnbot_left
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Template        T_TFBOT_GIANT_SOLDIER
                    AddTemplate     T_TFBot_Soldier_Mangler_ChargeShots
                    ClassIcon       soldier_charged_mangler_v2
                    Tag             Bot
                    Skill           Hard
                }

                TFBot
                {
                    Template        T_TFBot_Pyro_Detonator
                    Skill           Hard
                    Attributes      AlwaysCrit
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                        "The Detonator"
                        "projectile detonate time"      2
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Pyro_Detonator
                    Skill           Hard
                    Attributes      AlwaysCrit
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                        "The Detonator"
                        "projectile detonate time"      2
                    }
                }
            }
        }

        WaveSpawn
        {
            TotalCurrency           50
            TotalCount              30
            MaxActive               9
            SpawnCount              1
            WaitBetweenSpawns       0.9
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Scout_Sandman_FastCharge
                Skill       Expert
                Tag         bot
            }
        }

        WaveSpawn
        {
            TotalCurrency           50
            TotalCount              16
            MaxActive               4
            SpawnCount              4
            WaitBeforeStarting      14
            WaitBetweenSpawns       6.9
            Where                   spawnbot_main

            TFBot
            {
                Template        T_TFBot_Demoman
                Skill           Easy
                ClassIcon       demo_spammer
                PreferClass     Engineer
                Tag             bot

                ItemAttributes
                {
                    ItemName                TF_WEAPON_GRENADELAUNCHER
                    "faster reload rate"    -0.4
                }
            }
        }

        WaveSpawn
        {
            Name                    1a
            WaitForAllSpawned       1
            TotalCurrency           50
            TotalCount              12
            MaxActive               12
            SpawnCount              2
            WaitBetweenSpawns       2.8
            Where                   spawnbot_left
            Where                   spawnbot_right

            TFBot
            {
                Template        T_TFBot_Pyro_Detonator
                Skill           Hard
                Attributes      AlwaysCrit
                Tag             bot

                ItemAttributes
                {
                    ItemName                        "The Detonator"
                    "projectile detonate time"      2
                }
            }
        }

        WaveSpawn
        {
            Name                    2
            WaitForAllDead          1
            TotalCurrency           50
            TotalCount              13
            MaxActive               4
            SpawnCount              2
            WaitBetweenSpawns       4.8
            WaitBeforeStarting      0
            Where                   spawnbot_left
            Where                   spawnbot_right

            TFBot
            {
                Template                T_TFBot_Pyro_Detonator
                Skill                   Normal
                Attributes              AlwaysCrit
                Tag                     bot
                DesiredAttackRange      350

                ItemAttributes
                {
                    ItemName                        "The Detonator"
                    "projectile detonate time"      2
                }
            }
        }

        WaveSpawn
        {
            Name                    3
            WaitForAllSpawned       1a
            TotalCurrency           25
            TotalCount              2
            MaxActive               2
            SpawnCount              1
            WaitBetweenSpawns       4
            WaitBeforeStarting      5
            Where                   spawnbot_center

            TFBot
            {
                Template    T_TFBot_Giant_Scout_Bonk
                Name        "Giant Bonk Scout"
                Action      FetchFlag
                Tag         bot
                Skill       Easy
            }
        }

        WaveSpawn
        {
            Name                    demz
            WaitForAllSpawned       1a
            TotalCurrency           25
            TotalCount              4
            MaxActive               4
            SpawnCount              2
            WaitBetweenSpawns       6
            WaitBeforeStarting      10
            Where                   spawnbot_center

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Demoman
                    ClassIcon       demo_spammer_giant
                    PreferClass     Engineer
                    Tag             bot
                    Action          FetchFlag
                    Skill           Normal
                }

                TFBot
                {
                    Template    T_TFBot_Medic_Kritzkrieg
                }
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       1a
            TotalCurrency           50
            TotalCount              20
            MaxActive               6
            SpawnCount              1
            WaitBetweenSpawns       1.9
            WaitBeforeStarting      10
            Where                   spawnbot_main

            TFBot
            {
                Template        T_TFBot_Demoknight_Caber
                Attributes      DisableDodge
                Tag             bot
                CharacterAttributes
                {
                    "gesture speed increase"    1
                }
            }
        }

        WaveSpawn
        {
            Name                    maintenance
            WaitForAllDead          demz
            TotalCurrency           125
            TotalCount              6
            SpawnCount              6
            WaitBeforeStarting      8.0
            WaitBetweenSpawns       9.9
            Where                   spawnbot_center

            Squad
            {
                TFBot
                {
                    Template            T_TFBot_Giant_Heavyweapons
                    Skill               Hard
                    Health              13000
                    // maxvisionrange      475
                    SpawnTemplate       danger
                    Name                "Uber-Tank Stabilizer 'Engineer'"
                    Tag                 boss
                    Attributes          UseBossHealthBar
                    Item                "Lo-Fi Longwave"
                    Item                "Coldfront Carapace"
                    Item                "Fancy Dress Uniform"

                    FireInput
                    {
                        Name        Player
                        Action      $PlaySoundToSelf
                        Param       vo\mvm\mght\heavy_mvm_m_domination16.mp3
                        Delay       2
                        Repeats     1
                    }

                    FireInput
                    {
                        Name        Player
                        Action      $DisplayTextChat
                        Param       "{FFC0CB}[REDACTED]-VO MAINTAINER{fbeccb}: I am going to kill you, and kill you, and kill you..."
                        Delay       2
                        Repeats     1
                    }

                    FireInput
                    {
                        Name                @p@engi
                        Action              $ChangeAttributes
                        Param               hostile
                        Repeats             1
                        IfHealthBelow       2000
                        Delay               0.02
                    }

                    CharacterAttributes
                    {
                        "set item tint rgb"     8208497
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_Kritzkrieg
                }

                TFBot
                {
                    Template        T_TFBot_Demoman
                    Skill           Easy
                    ClassIcon       demo_spammer
                    PreferClass     Engineer
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                TF_WEAPON_GRENADELAUNCHER
                        "faster reload rate"    -0.4
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoman
                    Skill           Easy
                    ClassIcon       demo_spammer
                    PreferClass     Engineer
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                TF_WEAPON_GRENADELAUNCHER
                        "faster reload rate"    -0.4
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoman
                    Skill           Easy
                    ClassIcon       demo_spammer
                    PreferClass     Engineer
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                TF_WEAPON_GRENADELAUNCHER
                        "faster reload rate"    -0.4
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoman
                    Skill           Easy
                    ClassIcon       demo_spammer
                    PreferClass     Engineer
                    Tag             bot

                    ItemAttributes
                    {
                        ItemName                TF_WEAPON_GRENADELAUNCHER
                        "faster reload rate"    -0.4
                    }
                }
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       maintenance
            TotalCount              3
            MaxActive               3
            SpawnCount              3
            Where                   spawnbot_center
            TotalCurrency           0
            WaitBetweenSpawns       3
            WaitBeforeStarting      35
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons_Deflector
                    Action      FetchFlag
                    Name        "Codename - META"
                    Skill       Hard
                    Tag         bot
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Soldier_Extended_Concheror
                    PreferClass     Engineer
                    Skill           Expert
                    Name            "Codename - META"
                    Tag             bot
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    ClassIcon       pyro_reflect
                    Attributes      AlwaysCrit
                    Name            "Codename - META"
                    Skill           Hard
                    Tag             bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead      maintenance
            TotalCount          1
            Where               spawnbot_main
            TotalCurrency       0
            HideIcon            1

            TFBot
            {
                Class       Scout
                Name        "Uber Tank Maintenance Down!"

                FireInput
                {
                    Target      uberOff
                    Action      Trigger
                    Delay       0.5
                }

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       1
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          demz
            TotalCurrency           50
            TotalCount              1
            SpawnCount              1
            WaitBeforeStarting      10.2
            Where                   spawnbot_center

            Tank
            {
                Name                        tankboss_harvester
                Health                      13000
                Speed                       95
                Classicon                   tank_uber_lite
                SpawnTemplate               uberTank
                SpawnTemplate               followTankPT
                Skin                        2
                Model                       models/bots/boss_bot/boss_tank_ubered.mdl
                StartingPathTrackNode       path_tank_left

                OnKilledOutput
                {
                    Target      relay_harvester_destroy
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }

        // SUPPORTS//
        WaveSpawn
        {
            WaitForAllDead          3
            TotalCurrency           50
            TotalCount              5
            MaxActive               5
            SpawnCount              1
            Support                 1
            WaitBetweenSpawns       4.9
            WaitBeforeStarting      12
            Where                   spawnbot_main

            RandomChoice
            {
                TFBot
                {
                    Class                   Soldier
                    WeaponRestrictions      SecondaryOnly
                    Skill                   Normal
                    ClassIcon               shotgun_lite
                    Action                  Mobber
                    Tag                     bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          3
            TotalCurrency           25
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            Support                 1
            WaitBetweenSpawns       17
            WaitBeforeStarting      23
            Where                   spawnbot_main

            RandomChoice
            {
                TFBot
                {
                    Class       Soldier
                    Tag         bot
                }
            }
        }
    }

    Wave	// wave 4
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 4
        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }

        WaveSpawn
        {
            Name                1
            TotalCount          1
            MaxActive           1
            SpawnCount          1
            TotalCurrency       50
            Where               spawnbot_main

            FirstSpawnOutput
            {
                Target      relay_tankboss_harvester
                Action      Trigger
            }

            Tank
            {
                Health                      20000
                ClassIcon                   tank_combine_harvester
                Speed                       105
                Name                        tankboss_harvester
                Skin                        2
                StartingPathTrackNode       tank_start_harvester

                // OnKilledOutput
                // {}
                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }

        WaveSpawn
        {
            Name                    1a
            TotalCount              2
            MaxActive               2
            SpawnCount              1
            WaitBetweenSpawns       6
            WaitBeforeStarting      10
            TotalCurrency           50
            Where                   spawnbot_left

            TFBot
            {
                Template        T_TFBot_Giant_Boxing_Heavy
                Tag             bot
                ClassIcon       heavy_mittens_conch
                Item            "The Concheror"
                Item            "The Holiday Punch"
                Attributes      SpawnWithFullCharge
                Attributes      AlwaysCrit
                Name            "Giant Extended Conch Mittens"

                CharacterAttributes
                {
                    "increase buff duration"    10
                }
            }
        }

        WaveSpawn
        {
            Name                    bombastic
            TotalCount              20
            MaxActive               8
            SpawnCount              1
            TotalCurrency           50
            WaitBetweenSpawns       1.2
            Where                   spawnbot_main

            Squad
            {
                TFBot
                {
                    Class           Soldier
                    ClassIcon       soldier_shotgun2
                    Attributes      HoldFireUntilFullReload
                    // maxvisionrange      500
                    Skill           Hard
                    Tag             bot
                }

                TFBot
                {
                    Class                   Soldier
                    ClassIcon               soldier_shotgun2
                    Attributes              HoldFireUntilFullReload
                    WeaponRestrictions      SecondaryOnly
                    // maxvisionrange      1000
                    Skill                   Hard
                    Tag                     bot
                }
            }
        }

        WaveSpawn
        {
            // Name                    1
            WaitForAllDead          1a
            TotalCount              6
            MaxActive               6
            SpawnCount              2
            TotalCurrency           50
            WaitBetweenSpawns       5
            WaitBeforeStarting      7
            Where                   spawnbot_main

            Squad
            {
                TFBot
                {
                    Template        T_TFBOT_GIANT_SOLDIER
                    Name            "Giant Direct Hit Soldier"
                    ClassIcon       soldier_directhit_lite
                    Item            "The Direct Hit"
                    Skill           Expert
                    Tag             bot
                }

                TFBot
                {
                    Template    T_TFBot_Soldier_Extended_Battalion
                    Skill       Easy
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       bombastic
            TotalCount              20
            MaxActive               5
            SpawnCount              5
            TotalCurrency           50
            WaitBeforeStarting      7
            WaitBetweenSpawns       5.6
            Where                   spawnbot_main

            TFBot
            {
                Class       Heavyweapons
                // maxvisionrange      1000
                Skill       Normal
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       bombastic
            TotalCount              6
            MaxActive               4
            SpawnCount              1
            TotalCurrency           50
            WaitBetweenSpawns       10
            WaitBeforeStarting      10
            Where                   spawnbot_main

            TFBot
            {
                Template        T_TFBot_Heavyweapons_Fist
                Attributes      DisableDodge
                Tag             bot
                Attributes      AlwaysCrit
                SKill           Expert
            }
        }

        WaveSpawn
        {
            Name                    2a
            WaitForAllDead          1
            TotalCount              6
            MaxActive               6
            SpawnCount              2
            WaitBetweenSpawns       4.5
            TotalCurrency           50
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Extended_Buff_Banner
                    Skill       Hard
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       2a
            TotalCount              14
            MaxActive               6
            SpawnCount              2
            WaitBetweenSpawns       1.5
            TotalCurrency           50
            Support                 limited
            Where                   spawnbot_left
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Class       Pyro
                    Skill       Easy
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Pyro_Flaregun
                    Skill       Expert
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            Name                    scouts
            WaitForAllDead          2a
            TotalCount              8
            MaxActive               2
            SpawnCount              2
            WaitBetweenSpawns       18
            WaitBeforeStarting      4.5
            TotalCurrency           50
            Where                   spawnbot_right

            TFBot
            {
                Template    T_TFBot_Giant_Scout_Fast
                Tag         bot
                Action      FetchFlag
            }
        }

        WaveSpawn
        {
            Name                    3
            WaitForAllDead          2a
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            TotalCurrency           50
            WaitBeforeStarting      0
            Where                   spawnbot_main

            FirstSpawnOutput
            {
                Target      relay_tankboss_harvester
                Action      Trigger
            }

            Tank
            {
                Health                      28000
                ClassIcon                   tank_combine_harvester
                Speed                       90
                Name                        tankboss_harvester
                Skin                        2
                StartingPathTrackNode       tank_start_harvester

                OnKilledOutput
                {
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }

        WaveSpawn
        {
            Name                    NonFollowers
            WaitForAllDead          2a
            TotalCount              4
            MaxActive               4
            SpawnCount              2
            WaitBetweenSpawns       18
            WaitBeforeStarting      20
            TotalCurrency           50
            Where                   spawnbot_left

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    Skill           Expert
                    ClassIcon       pyro_reflect
                    Tag             boss
                    Item            "Fancy Dress Uniform"
                    Item            "Traffic Cone"
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            Name                    normalpyro
            WaitForAllSpawned       3
            TotalCount              18
            MaxActive               6
            TotalCurrency           50
            WaitBeforeStarting      10
            Where                   spawnbot_main
            Support                 limited

            TFBot
            {
                Class       Pyro
                Skill       Easy
                // maxvisionrange      400
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       3
            TotalCount              16
            MaxActive               6
            SpawnCount              2
            TotalCurrency           50
            WaitBeforeStarting      3
            Where                   spawnbot_main

            Squad
            {
                TFBot
                {
                    Class           Soldier
                    ClassIcon       soldier_shotgun2
                    Attributes      HoldFireUntilFullReload
                    // maxvisionrange      500
                    Skill           Hard
                    Tag             bot
                }

                TFBot
                {
                    Class                   Soldier
                    ClassIcon               soldier_shotgun2
                    Attributes              HoldFireUntilFullReload
                    WeaponRestrictions      SecondaryOnly
                    // maxvisionrange      1000
                    Skill                   Hard
                    Tag                     bot
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          2a
            TotalCount              6
            MaxActive               6
            SpawnCount              2
            TotalCurrency           50
            WaitBeforeStarting      10
            WaitBetweenSpawns       12
            Where                   spawnbot_main
            Support                 1

            TFBot
            {
                Template    T_TFBot_Pyro_Flaregun
                Skill       Expert
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       scouts
            TotalCount              10
            MaxActive               10
            SpawnCount              1
            WaitBeforeStarting      4
            WaitBetweenSpawns       0.5
            Where                   spawnbot_main
            Support                 1

            StartWaveOutput
            {
                Target      warning
                Action      Trigger
            }

            TFBot
            {
                Template    T_TFBot_Pyro_Flaregun
                Skill       Expert
                Tag         bot
            }
        }
    }

    Wave	// wave 5
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 5
        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }

        InitWaveOutput
        {
            Target      wave_start_relay
            Action      RunScriptCode
            Param       "

            EntFire(`wave_init_relay_route_r`, `Trigger`, null, 0.5)
            "
        }

        WaveSpawn
        {
            // WaitForAllDead 2
            TotalCount              18
            SpawnCount              3
            MaxActive               12
            WaitBetweenSpawns       6.8
            TotalCurrency           25
            Where                   spawnbot_right

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Pyro
                    Skill           Hard
                    Attributes      AlwaysCrit
                    ClassIcon       pyro_reflect_giant
                    Tag             boss
                    Item            "Fancy Dress Uniform"
                    Item            "Traffic Cone"
                }

                TFBot
                {
                    Class           Pyro
                    Skill           Easy
                    Attributes      AlwaysFireWeapon
                }

                TFBot
                {
                    Class           Pyro
                    Skill           Easy
                    Attributes      AlwaysFireWeapon
                }
            }
        }

        WaveSpawn
        {
            Name                    1
            // WaitForAllDead 2
            TotalCount              4
            SpawnCount              2
            MaxActive               4
            WaitBeforeStarting      16
            WaitBetweenSpawns       10
            Where                   spawnbot_left
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Heavyweapons_Heater
                    Tag         bot
                    Skill       Normal
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            // WaitForAllDead 2
            TotalCount              20
            MaxActive               12
            SpawnCount              4
            WaitBetweenSpawns       4.2
            Where                   spawnbot_main
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Demoknight_Splendid
                    Action          Mobber
                    Attributes      DisableDodge
                    Tag             bot

                    CharacterAttributes
                    {
                        "Attack not cancel charge"      1
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoknight_Splendid
                    Action          Mobber
                    Attributes      DisableDodge
                    Tag             bot

                    CharacterAttributes
                    {
                        "Attack not cancel charge"      1
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoknight_Splendid
                    Action          Mobber
                    Attributes      DisableDodge
                    Tag             bot

                    CharacterAttributes
                    {
                        "Attack not cancel charge"      1
                    }
                }

                TFBot
                {
                    Template        T_TFBot_Demoknight_Splendid
                    Action          Mobber
                    Attributes      DisableDodge
                    Tag             bot

                    CharacterAttributes
                    {
                        "Attack not cancel charge"      1
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    2a
            WaitForAllDead          1
            TotalCount              10
            SpawnCount              5
            MaxActive               5
            WaitBetweenSpawns       10
            WaitBeforeStarting      10
            Where                   spawnbot_left
            TotalCurrency           25

            TFBot
            {
                Template    T_TFBot_Soldier_Backup
            }
        }

        WaveSpawn
        {
            WaitForAllDead          1
            TotalCount              60
            SpawnCount              2
            MaxActive               10
            WaitBetweenSpawns       1.2
            WaitBeforeStarting      0
            Where                   spawnbot_main
            TotalCurrency           50

            Squad
            {
                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    // maxvisionrange      1000
                    Tag         bot
                }

                TFBot
                {
                    Class           Demoman
                    Skill           Hard
                    Attributes      HoldFireUntilFullReload
                    // maxvisionrange      1250
                    AimOffset       "0 0 10"
                    Tag             bot
                }
            }
        }

        WaveSpawn
        {
            Name                    2
            WaitForAllDead          1
            TotalCount              4
            SpawnCount              2
            MaxActive               4
            WaitBetweenSpawns       30
            WaitBeforeStarting      10
            Where                   spawnbot_left
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Spammer_Reload
                    Skill       Hard
                    Tag         bot
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                    Tag         bot
                }
            }
        }

        WaveSpawn
        {
            Name                    3a
            WaitForAllDead          2
            TotalCount              3
            SpawnCount              1
            MaxActive               3
            TotalCurrency           50
            WaitBeforeStarting      3
            WaitBetweenSpawns       5.5
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Giant_Demo_Burst
                Skill       Normal
            }
        }

        WaveSpawn
        {
            WaitForAllSpawned       3a
            TotalCount              9
            SpawnCount              3
            MaxActive               9
            TotalCurrency           50
            WaitBeforeStarting      10
            WaitBetweenSpawns       7.5
            Where                   spawnbot_main
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Demo_Burst
                    Skill       Hard
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            Name                    theheavy
            WaitForAllDead          3a
            TotalCount              2
            SpawnCount              1
            MaxActive               2
            TotalCurrency           25
            WaitBeforeStarting      16
            WaitBetweenSpawns       14
            Where                   spawnbot_main
            TotalCurrency           25

            TFBot
            {
                Template    T_TFBot_Giant_Heavyweapons_Deflector
                Skill       Hard
                Tag         bot
            }
        }

        WaveSpawn
        {
            WaitForAllDead          2
            TotalCount              20
            SpawnCount              1
            MaxActive               8
            WaitBetweenSpawns       1.5
            Where                   spawnbot_main

            TFBot
            {
                Class       Pyro
                Skill       Easy
                // maxvisionrange      175
            }
        }

        WaveSpawn
        {
            WaitForAllDead          2
            TotalCount              10
            SpawnCount              2
            MaxActive               4
            WaitBetweenSpawns       4.5
            WaitBeforeStarting      5
            Where                   spawnbot_main

            TFBot
            {
                Class           Scout
                Item            "The Concheror"
                Attributes      SpawnWithFullCharge
                ClassIcon       scout_conch_lite
            }
        }

        WaveSpawn
        {
            WaitForAllDead          theheavy
            Name                    IAMTHEBOSS
            TotalCount              3
            SpawnCount              3
            MaxActive               3
            WaitBeforeStarting      6
            Where                   spawnbot_center
            TotalCurrency           75

            FirstSpawnOutput
            {
                Target      amongus
                Action      Trigger
            }

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Soldier_Spammer_Reload
                    ClassIcon               soldier_commander
                    UseHumanAnimations      1
                    Name                    "Void Oppressionist"
                    Action                  FetchFlag
                    SpawnTemplate           soldier_tag
                    SpawnTemplate           unstablecharge
                    Health                  22000
                    Skill                   Normal
                    Tag                     boss
                    Attributes              UseBossHealthBar
                    Item                    "Chieftain's Challenge"
                    Item                    "The Jupiter Jumpers"
                    Item                    "The Space Bracers"
                    Item                    "The Diplomat"
                    Item                    "Fancy Dress Uniform"

                    // ItemAttributes
                    // {
                    // ItemName "TF_WEAPON_ROCKETLAUNCHER"
                    //// "damage bonus" 1.50
                    // }
                    CharacterAttributes
                    {
                        "item color rgb"            8208497
                        "gesture speed increase"    1
                    }

                    FireInput
                    {
                        Target      soldierability*
                        Action      PickRandomShuffle
                        Delay       13
                        CoolDown    13
                        Repeats     999
                    }

                    FireInput
                    {
                        Target              !self
                        Action              $ChangeAttributes
                        Param               explode_on_death
                        Delay               0.02
                        IfHealthBelow       700
                    }

                    EventChangeAttributes
                    {
                        RAINDOWNTHEHELLFIRE
                        {
                            Taunt
                            {
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      popscript
                                Action      $bombThemVoid
                                Delay       2
                                Repeats     1
                            }

                            CharacterAttributes
                            {
                                "gesture speed increase"    0.90
                            }
                        }

                        GETOVERHERE
                        {
                            Taunt
                            {
                                Name        "Taunt: Yeti Punch"
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      twipper*
                                Action      Trigger
                                Delay       3.2
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      Player
                                Action      $PlaySoundToSelf
                                Param       vo\mvm\mght\soldier_mvm_m_specialcompleted04.mp3
                                Delay       1.8
                                Repeats     1
                            }

                            CharacterAttributes
                            {
                                "gesture speed increase"    1.35
                            }
                        }

                        explode_on_death
                        {
                            UseHumanAnimations      1
                            ActionOverride          Mobber

                            CharacterAttributes
                            {
                                "cannot pick up intelligence"       1
                            }

                            FireInput
                            {
                                Target      soldierded*
                                Action      Trigger
                                Delay       0.02
                            }

                            AddCond
                            {
                                Name        TF_COND_PHASE
                                Delay       0.02
                            }

                            Taunt
                            {
                                Name        "Taunt: Cheers!"
                                Delay       0.2
                                Repeats     2
                            }

                            FireInput
                            {
                                Name        item_teamflag*
                                Action      ForceDrop
                                Delay       0.0
                                Repeats     5
                            }
                        }
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          IAMTHEBOSS
            Name                    TheOpportunity
            TotalCount              4
            SpawnCount              4
            MaxActive               4
            WaitBeforeStarting      0
            Where                   spawnbot_center
            TotalCurrency           75

            DoneOutput
            {
                Target      popscript
                Action      $encoreCheck 
            }

            Squad
            {
                NoWaitForFormation      1

                TFBot
                {
                    Template                T_TFBot_Giant_Heavyweapons
                    Name                    Void-Opportunist
                    SpawnTemplate           heavyboss
                    Skill                   Expert
                    Attributes              UseBossHealthBar
                    Attributes              DisableDodge
                    WeaponRestrictions      MeleeOnly
                    Tag                     boss
                    UseHumanAnimations      1
                    Item                    "The Aztec Aggressor"
                    Item                    "The Mantreads"
                    Item                    "Horror Shawl"
                    Item                    TF_WEAPON_FISTS
                    ClassIcon               heavy_robot_nys
                    Action                  FetchFlag
                    Health                  32500

                    ItemAttributes
                    {
                        ItemName            TF_WEAPON_FISTS
                        "damage bonus"      3
                        "hand scale"        1.80
                        is_a_sword          1
                    }

                    CharacterAttributes
                    {
                        "mod minigun can holster while spinning"    1
                        "gesture speed increase"                    1.25
                        "cancel falling damage"                     1
                        "item color rgb"                            8208497
                    }

                    AddCond
                    {
                        Index       71
                        Duration    0.30
                    }

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       soldier
                        Delay       0.22
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      heavyability*
                        Action      PickRandomShuffle
                        Delay       13
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      Player
                        Action      $PlaySoundToSelf
                        Param       vo\mvm\mght\heavy_mvm_m_revenge15.mp3
                        Delay       0.22
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      popscript
                        Action      $fistIcon
                        Delay       0.02
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      Player
                        Action      $DisplayTextChat
                        Param       "{FFC0CB}Void Opportunist {reset}: This is just the beginning of the pain I will cause you."
                        Delay       0.22
                        Repeats     1
                    }

                    EventChangeAttributes
                    {
                        gonnaTurnYallIntoSwissCheese
                        {
                            Skill                   Expert
                            WeaponRestrictions      PrimaryOnly
                            Item                    "The B.A.S.E. Jumper"

                            ItemAttributes
                            {
                                ItemName                Deflector
                                "damage bonus"          1.2
                                "attack projectiles"    2
                                "heal on kill"          2000
                            }

                            CharacterAttributes
                            {
                                "increased jump height"     3
                                "move speed bonus"          0.35
                            }

                            WeaponSwitch
                            {
                                Delay       0.02
                                Repeats     5
                                Type        Primary
                            }

                            FireWeapon
                            {
                                Delay       0.02
                                Repeats     1
                                Type        Jump
                            }

                            FireWeapon
                            {
                                Delay       1.3
                                Repeats     1
                                Type        Jump
                            }

                            FireInput
                            {
                                Target      !self
                                Action      $ChangeAttributes
                                Param       backToMelee
                                Delay       8
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      popscript
                                Action      $HoKIcon
                                Delay       0.02
                                Repeats     1
                            }
                        }

                        backToMelee
                        {
                            WeaponRestrictions      MeleeOnly
                            Item                    TF_WEAPON_FISTS

                            WeaponSwitch
                            {
                                Delay       0.02
                                Repeats     5
                                Type        Melee
                            }

                            FireInput
                            {
                                Target      heavyability*
                                Action      PickRandomShuffle
                                Delay       7
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      popscript
                                Action      $fistIcon
                                Delay       0.02
                                Repeats     1
                            }

                            CharacterAttributes
                            {
                                "increased jump height"     1
                                "move speed bonus"          0.5
                            }
                        }

                        projectileShotgun	// <not a projectile anymore lol <Now a different ability lol
                        {
                            Taunt
                            {
                                Name        "Taunt: The Proletariat Showoff"
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      popscript
                                Action      $BurstIcon
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      sticky
                                Action      trigger
                                Delay       0.02
                            }

                            FireInput
                            {
                                Target      !self
                                Action      $ChangeAttributes
                                Param       backToMelee
                                Delay       4
                                Repeats     1
                            }
                        }
                    }
                }

                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    Tag         bot

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       soldier
                        Delay       0.22
                        Repeats     1
                    }
                }

                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    Tag         bot

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       soldier
                        Delay       0.22
                        Repeats     1
                    }
                }

                TFBot
                {
                    Class       HeavyWeapons
                    Skill       Normal
                    Tag         bot

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       soldier
                        Delay       0.22
                        Repeats     1
                    }
                }
            }
        }

        //// Support Time
        WaveSpawn
        {
            Name                    randomsupports
            WaitForAllDead          1
            SpawnCount              1
            MaxActive               1
            TotalCount              1
            WaitBetweenSpawns       40
            WaitBeforeStarting      10
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Engineer_Sentry_Battle
                Tag         engineer
            }
        }

        WaveSpawn
        {
            Name                    randomsupports
            WaitForAllDead          2
            SpawnCount              2
            MaxActive               2
            TotalCount              2
            WaitBetweenSpawns       17
            WaitBeforeStarting      10
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Class           Pyro
                ClassIcon       pyro_reflect
                Skill           Hard
                Tag             boss
                Item            "Fancy Dress Uniform"
                Item            "Traffic Cone"
            }
        }

        WaveSpawn
        {
            Name                    randomsupports
            WaitForAllSpawned       IAMTHEBOSS
            SpawnCount              2
            MaxActive               2
            TotalCount              1
            WaitBetweenSpawns       4.5
            WaitBeforeStarting      5
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Template        T_TFBot_Soldier_RocketShotgun
                Health          900
                Scale           1.3
                ClassIcon       soldier_blackbox_armored_seel
                Tag             bot
            }
        }

        WaveSpawn
        {
            Name                    randomsupports
            WaitForAllSpawned       IAMTHEBOSS
            SpawnCount              2
            MaxActive               2
            TotalCount              2
            WaitBetweenSpawns       12
            WaitBeforeStarting      5
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Class       HeavyWeapons
                Skill       Normal
                Tag         bot
            }
        }

        WaveSpawn
        {
            Name                    randomsupports
            WaitForAllSpawned       IAMTHEBOSS
            SpawnCount              3
            MaxActive               3
            TotalCount              1
            WaitBetweenSpawns       2.5
            WaitBeforeStarting      3
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Class       Scout
                Skill       Normal
                Tag         bot
            }
        }

        WaveSpawn
        {
            Name                    meds
            WaitForAllSpawned       TheOpportunity
            SpawnCount              2
            MaxActive               2
            TotalCount              2
            WaitBetweenSpawns       10.5
            WaitBeforeStarting      3
            Support                 1
            Where                   spawnbot_main

            TFBot
            {
                Template    T_TFBot_Medic_QuickUber
                Tag         bot
            }
        }

        WaveSpawn
        {
            // Name randomsupports
            // WaitForAllSpawned          IAMTHEBOSS
            SpawnCount              3
            MaxActive               3
            TotalCount              12
            WaitBetweenSpawns       50
            WaitBeforeStarting      20
            Support                 limited
            Where                   spawnbot_main

            TFBot
            {
                Class           Spy
                Tag             boss
                Attributes      IgnoreFlag
            }
        }

        ////--Encore mode?
        WaveSpawn
        {
            Name                    killbots
            WaitForAllDead          TheOpportunity
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            HideIcon                1
            Where                   spawnbot_main
            WaitBeforeStarting      0

            TFBot
            {
                Class               Scout
                SpawnTemplate       killallbots

                FireInput
                {
                    Target      pop_point
                    Action      $PauseWaveSpawn
                    Param       meds
                    Delay       0.02
                }

                FireInput
                {
                    Target      pop_point
                    Action      $PauseWaveSpawn
                    Param       engies
                    Delay       0.02
                }

                FireInput
                {
                    Target      pop_point
                    Action      $PauseWaveSpawn
                    Param       randomsupports
                    Delay       0.02
                }

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       3
                }

                CharacterAttributes
                {
                    "move speed bonus"      0.0005
                }
            }
        }

        WaveSpawn
        {
            Name                    chat
            WaitForAllDead          killbots
            TotalCount              1
            Hideicon                1
            WaitBeforeStarting      5
            HideIcon                1
            Where                   spawnbot_center

            TFBot
            {
                Class       Scout

                FireInput
                {
                    Target      encoreVote
                    Action      PlaySound
                    Delay       0.02
                    Repeats     1
                }

                FireInput
                {
                    Target      Player
                    Action      $DisplayTextChat
                    Param       "{FFC0CB}Management of the Void {reset}: Highest Priority Set - Team Fortress "
                    Delay       0.02
                    Repeats     1
                }

                FireInput
                {
                    Target      Player
                    Action      $DisplayTextChat
                    Param       "{FFC0CB}Management of the Void {reset}: Condition for High Resourced Invasion : {green} VALIDATED."
                    Delay       4
                    Repeats     1
                }

                FireInput
                {
                    Target      Player
                    Action      $DisplayTextChat
                    Param       "{FFC0CB}Management of the Void : But... I'll let you decide, Mercenaries. {red}Shall we?"
                    Delay       9
                    Repeats     1
                }

                FireInput
                {
                    Target      !self
                    Action      $suicide
                    Delay       12
                }

                CharacterAttributes
                {
                    "move speed bonus"      0.0005
                }
            }
        }

        WaveSpawn
        {
            Name                    voteset
            WaitForAllDead          chat
            TotalCount              1
            Hideicon                1
            WaitBeforeStarting      0
            Where                   spawnbot_center

            TFBot
            {
                Class       Scout

                CharacterAttributes
                {
                    "move speed bonus"      0.0005
                }

                FireInput
                {
                    Target      popscript
                    Action      $VoteForEncore
                    Param       ""
                    Delay       0.2
                    Repeats     1
                }
            }
        }
    }

    //
    //
    //
    //
    //
    // ENCORE MODE. wave 6
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    //
    Wave
    {
        WaitWhenDone    65
        Checkpoint      Yes

        InitWaveOutput
        {
            Target      bignet
            Action      RunScriptCode
            Param "
            IncludeScript(`tankextensions_main`, getroottable())
            TankExt.SetValueOverrides({
                    COMBATTANK_ROTATE_SPEED_DEFAULT = 0.85   // default: 0.8
                    COMBATTANK_MAX_RANGE = 2000            // default: 1400

                    COMBATTANK_MINIGUN_SPREAD_MULTIPLIER = 1.25
                })
                IncludeScript(`tankextensions/combattank`, getroottable())
                IncludeScript(`tankextensions/combattank_weapons/minigun`, getroottable())
                IncludeScript(`tankextensions/combattank_weapons/fireball`, getroottable())

            EntFire(`wavebarCycler`, `trigger`, `0`, -1)
            "
        }

        // WAVE 1 (Scouts, Soldiers Charged, GBursts, Buff Banner, GMed, GHeavy, GFANScout)
        // $300
        WaveSpawn
        {
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            WaitBetweenSpawns       1.8
            WaitBeforeStarting      14
            Where                   spawnbot_center

            StartWaveOutput
            {
                Target      bignet
                Action      RunScriptCode
                Param       "
                IncludeScript(`alternatewaves`, getroottable())

                EntFire(`encer`, `trigger`, `0`, 1)
                EntFire(`encoreEffects`, `trigger`, `0`, 1)
                EntFire(`encoreFilter`, `trigger`, `0`, 1)
                EntFire(`relay_close_front_upgrade,trigger`, `trigger`, `0`, 1)
                "
            }

            FirstSpawnOutput
            {
                Target      bignet
                Action      RunScriptCode
                Param       "
                IncludeScript(`alternatewaves`, getroottable())
                AlternateWavebars(0)
                "
            }
        }

        WaveSpawn
        {
            Name                    wave1_a
            TotalCount              25
            MaxActive               12
            SpawnCount              2
            WaitBetweenSpawns       1.8
            WaitBeforeStarting      28
            Where                   spawnbot_center
            TotalCurrency           25

            TFBot
            {
                Class       Scout
                Skill       Normal
            }
        }

        WaveSpawn
        {
            TotalCount              10
            MaxActive               10
            SpawnCount              2
            WaitBetweenSpawns       10.9
            WaitBeforeStarting      25
            Where                   spawnbot_center
            TotalCurrency           25

            TFBot
            {
                Template        T_TFBot_Giant_Scout_FAN
                Attributes      AlwaysCrit
            }
        }

        WaveSpawn
        {
            Name                    wave1_aGiant
            WaitBeforeStarting      30
            TotalCount              8
            MaxActive               8
            SpawnCount              2
            WaitBetweenSpawns       4.2
            Where                   spawnbot_left
            Where                   spawnbot_right
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Soldier_Spammer_Reload
                    Skill       Expert
                }

                TFBot
                {
                    Template    T_TFBot_Soldier_Extended_Buff_Banner
                    Skill       Expert
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          wave1_a
            TotalCount              35
            MaxActive               8
            SpawnCount              2
            WaitBetweenSpawns       1.8
            WaitBeforeStarting      0
            Where                   spawnbot_center
            TotalCurrency           25

            TFBot
            {
                Class       Scout
                Skill       Normal
            }
        }

        WaveSpawn
        {
            WaitForAllDead          wave1_aGiant
            TotalCount              24
            MaxActive               8
            SpawnCount              1
            WaitBetweenSpawns       2.8
            WaitBeforeStarting      2
            Where                   spawnbot_center
            TotalCurrency           25

            TFBot
            {
                Template        T_TFBot_Soldier_Charged
                ClassIcon       soldier_crit
                Skill           Expert
            }
        }

        WaveSpawn
        {
            Name                    wave1_bGiant
            WaitForAllDead          wave1_aGiant
            TotalCount              4
            MaxActive               4
            SpawnCount              2
            WaitBetweenSpawns       5
            Where                   spawnbot_left
            Where                   spawnbot_right
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons_Deflector
                    Skill       Normal
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                    Skill       Expert
                }
            }
        }
        WaveSpawn
        {
            //This is the health bar for the Batches
            WaitForAllDead          wave1_bGiant
            TotalCount              1
            SpawnCount              1
            WaitBetweenSpawns       0
            WaitBeforeStarting      0
            Where                   fakehealth
            TFBot
            {
                Class Scout
                Name "SV-CHEAT SCOUT"
                Health 9000
                ClassIcon tf2_lite
                SpawnTemplate encore_fakehealthbar
                Attributes IgnoreEnemies
                Attributes IgnoreFlag
                Attributes UseBossHealthBar
                Scale 0.35
                CharacterAttributes
                {
                    "move speed bonus" 0.0005
                }
                FireInput
                {
                    Target "!self"
                    Action $TeleportToEntity
                    Param  hereswaldo
                    Delay  0.25
                }
            }
        }
        WaveSpawn
        {
            Name                    batch
            WaitForAllDead          wave1_bGiant
            TotalCount              3
            SpawnCount              1
            WaitBetweenSpawns       2
            WaitBeforeStarting      3
            Where                   spawnbot_main
            TotalCurrency           25
            DoneOutput
            {
                Target hurtbarn
                Action Trigger
            }

            Squad
            {
                // NoFormation 1
                // NoWaitForFormation 1
                TFBot
                {
                    Class               Demoman
                    Health              5000
                    Name "SV-CHIEF [DEMOLITION]"
                    Item                "The Loch-n-Load"
                    SpawnTemplate       encore_glow 
                    
                    Scale               1.30                
                    Attributes          HoldFireUntilFullReload
                    Skill               Expert
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Action              FetchFlag
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }

                TFBot
                {
                    Class               Soldier
                    Health              5000
                    SpawnTemplate       encore_glow 
                    Name "SV-CHIEF [BLASTER]"
                    Scale               1.30                
                    Action              FetchFlag
                    Attributes          HoldFireUntilFullReload
                    Skill               Hard
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }
                    Item                "The Liberty Launcher"

                    ItemAttributes
                    {
                        ItemName                                "The Liberty Launcher"
                        "damage causes airblast"                1
                        "damage bonus"                          .45
                        "fire rate bonus"                       0.001
                        "clip size upgrade atomic"              -2
                        "faster reload rate"                    1.75
                        "Blast radius decreased"                1.2
                        "projectile spread angle penalty"       2
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }

                TFBot
                {
                    Class               Pyro
                    Health              5000
                    SpawnTemplate       encore_glow 
                    Name "SV-CHIEF [REFLECTOR]"
                    Action              FetchFlag
                    Scale               1.30                
                    Skill               Hard
                    Action              Mobber
                    MoveBehindEnemy     1
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    batch
            WaitForAllDead          wave1_bGiant
            TotalCount              3
            SpawnCount              1
            WaitBeforeStarting      7
            WaitBetweenSpawns       1
            Where                   spawnbot_main
            TotalCurrency           25
            DoneOutput
            {
                Target hurtbarn
                Action Trigger
            }
            Squad
            {
                NoFormation             1
                NoWaitForFormation      1

                TFBot
                {
                    Template            T_TFBot_Scout_FAN
                    SpawnTemplate       encore_glow 
                    Name "SV-CHIEF [DISRUPTOR]"
                    Scale               1.30                
                    Attributes          HoldFireUntilFullReload
                    Skill               Expert
                    Health              3000
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }

                TFBot
                {
                    Class                   Engineer
                    SpawnTemplate           encore_glow 
                    Name "SV-CHIEF [BALLAST]"                  
                    Scale               1.30                    
                    Skill                   Expert
                    Action                  FetchFlag
                    Health                  3000
                    WeaponRestrictions      PrimaryOnly
                    Item                    "The Widowmaker"
                    ClassIcon               tf2_lite
                    NoBombUpgrades          1
                    Item                    "Night Vision Gawkers"
                    Item                    "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }

                TFBot
                {
                    Class                   Sniper
                    SpawnTemplate           encore_glow 
                    Name "SV-CHIEF [MARKSMANN]"                  
                    Scale               1.30                    
                    Health                  3000
                    Skill                   Expert
                    Action                  FetchFlag
                    ClassIcon               tf2_lite
                    NoBombUpgrades          1
                    Item                    "Night Vision Gawkers"
                    Item                    "Dustbowl Devil"
                    Item                    Jarate
                    Item                    "The Huntsman"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    ItemAttributes
                    {
                        ItemName                                Jarate
                        "effect bar recharge rate increased"    0.25
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                        "cannot disguise"                       1
                    }
                }
            }
        }

        WaveSpawn
        {
            Name                    batch
            WaitForAllDead          wave1_bGiant
            TotalCount              3
            WaitBeforeStarting      12
            WaitBetweenSpawns       2
            Where                   spawnbot_main
            SpawnCount              3
            TotalCurrency           25
            DoneOutput
            {
                Target hurtbarn
                Action Trigger
            }
            Squad
            {
                NoFormation             1
                NoWaitForFormation      1

                TFBot
                {
                    Class               Heavyweapons
                    SpawnTemplate       encore_glow 
                    Name "SV-CHIEF [DEVASTATOR]"
                    Scale               1.30                
                    Health              5000
                    Skill               Hard
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Action              FetchFlag
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"
                    Item                Deflector

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "move speed bonus"                      0.70
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }

                    ItemAttributes
                    {
                        ItemName                Deflector
                        "attack projectiles"    2.0
                    }
                }

                TFBot
                {
                    Template            T_TFBot_Medic_BigHeal
                    SpawnTemplate       encore_glow 
                    Name "SV-CHIEF [ENDURANCE]"
                    Scale               1.30                
                    Health              3000
                    Skill               Hard
                    ClassIcon           tf2_lite
                    NoBombUpgrades      1
                    Item                "Night Vision Gawkers"
                    Item                "Dustbowl Devil"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                        "bot medic uber health threshold"       2500
                    }
                }

                TFBot
                {
                    Class                   Spy
                    UseHumanAnimations      1
                    SpawnTemplate           encore_glow 
                    Name "SV-CHIEF [FACADE]"
                    Health                  3000
                    Scale               1.30                    
                    Attributes              HoldFireUntilFullReload
                    Item                    "The Ambassador"
                    AimAt                   Head
                    Skill                   Expert
                    AimTrackingInterval     0.1
                    ClassIcon               tf2_lite
                    NoBombUpgrades          1
                    WeaponRestrictions      PrimaryOnly
                    Action                  Mobber
                    Item                    "Night Vision Gawkers"
                    Item                    "Dustbowl Devil"
                    Item                    "Tuxedo Royale"

                    WeaponResist
                    {
                        TF_WEAPON_KNIFE     0.025	// from LutN
                    }

                    CharacterAttributes
                    {
                        "damage force reduction"                0.40
                        "airblast vulnerability multiplier"     0.50
                    }
                }
            }
        }

        // SUPPORTSWAVE1
        WaveSpawn
        {
            Name                    support1
            WaitForAllDead          wave1_a
            TotalCount              4
            SpawnCount              2
            MaxActive               4
            WaitBetweenSpawns       5.5
            Where                   spawnbot_main
            Support                 1

            TFBot
            {
                Template    T_TFBot_Scout_Sandman_FastCharge
            }
        }

        WaveSpawn
        {
            Name                    support1
            WaitForAllDead          wave1_bGiant
            TotalCount              6
            SpawnCount              1
            MaxActive               6
            WaitBetweenSpawns       3.5
            Where                   spawnbot_main
            Support                 1

            TFBot
            {
                Template    T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
            }
        }

        // --END OF WAVE 1
        WaveSpawn
        {
            Name                    intermission1
            WaitForAllDead          batch
            TotalCount              1
            SpawnCount              1
            MaxActive               1
            WaitBeforeStarting      10

            StartWaveOutput
            {
                Target      stopwave1
                Action      Trigger
            }

            TFBot
            {
                Class       Scout

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       0.22
                }
            }
        }

        // --Start Of Wave 2 (heavy, crit colonels, crit pryo, milk, Gpyros, heaters, Gheater, crit Gflare, Commander)
        //$500
        WaveSpawn
        {
            WaitForAllDead          intermission1
            TotalCount              24
            SpawnCount              4
            MaxActive               12
            Where                   spawnbot_left
            Where                   spawnbot_center
            Where                   spawnbot_right
            WaitBetweenSpawns       3
            TotalCurrency           25

            TFBot
            {
                Class       Heavyweapons
                Skill       Normal
            }
        }

        WaveSpawn
        {
            Name                    wave2_a
            WaitForAllDead          intermission1
            TotalCount              2
            SpawnCount              1
            MaxActive               2
            Where                   spawnbot_left
            Where                   spawnbot_right
            WaitBetweenSpawns       3
            TotalCurrency           25

            TFBot
            {
                Template        T_TFBot_Giant_Soldier_SlowBarrage
                Attributes      AlwaysCrit
            }
        }

        WaveSpawn
        {
            WaitForAllDead          wave2_a
            TotalCount              40
            MaxActive               10
            SpawnCount              2
            WaitBeforeStarting      3
            WaitBetweenSpawns       2.2
            TotalCurrency           25
            Where                   spawnbot_left

            Squad
            {
                TFBot
                {
                    Class                   Pyro
                    Skill                   Hard
                    ClassIcon               pyro_reflect
                    AimTrackingInterval     0.75
                    Attributes              AlwaysCrit
                }

                TFBot
                {
                    Template    T_TFBot_Scout_Milk
                    Skill       Expert
                }
            }
        }

        WaveSpawn
        {
            Name                    wave2_b
            WaitForAllDead          wave2_a
            TotalCount              3
            MaxActive               3
            SpawnCount              1
            WaitBeforeStarting      10
            WaitBetweenSpawns       15
            Where                   spawnbot_left
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Pyro_DF
                }
            }
        }
        WaveSpawn
        {
            Name                    wave2_b
            WaitForAllDead          wave2_a
            TotalCount              18
            MaxActive               18
            SpawnCount              2
            WaitBeforeStarting      8
            WaitBetweenSpawns       3.25
            Where                   spawnbot_center
            TotalCurrency           25
            Squad
            {
                TFBot
                {
                    Class           HeavyWeapons
                    Scale           1.4
                    Health          900
                    Name            "Armored Heavy"
                    Skill           Easy
                    // maxvisionrange      800
                    ClassIcon       heavy_armored
                    Tag             bot
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                    Attributes SpawnWithFullCharge
                }
            }
        }
        WaveSpawn
        {
            WaitForAllDead          wave2_a
            TotalCount              3
            MaxActive               3
            SpawnCount              1
            WaitBeforeStarting      12
            WaitBetweenSpawns       8
            Where                   spawnbot_right
            TotalCurrency           100

            TFBot
            {
                Template        T_TFBot_Giant_Demo_RapidFire
                Skill           Expert
                ClassIcon       demo_spammer
                PreferClass     Engineer
                Tag             bot

                ItemAttributes
                {
                    ItemName                TF_WEAPON_GRENADELAUNCHER
                    "fire rate bonus"       0.75
                    "faster reload rate"    -0.4
                }
            }
        }

        WaveSpawn
        {
            Name                    returned
            WaitForAllDead          wave2_b
            WaitBeforeStarting      3
            TotalCount              3
            SpawnCount              3
            Where                   spawnbot_center
            TotalCurrency           200

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Soldier_Spammer_Reload
                    ClassIcon               soldier_commander
                    UseHumanAnimations      1
                    Name                    "Damaged-Void Oppressionist"
                    UseCustomModel          models/bots/soldier_boss/bot_soldier_boss_gibby.mdl
                    Action                  FetchFlag
                    SpawnTemplate           unstablecharge
                    SpawnTemplate           OppressionistReturns
                    SpawnTemplate           encore_glow_not_sv
                    Health                  25000
                    Skill                   Normal
                    Tag                     boss
                    Attributes              UseBossHealthBar
                    Item                    "Chieftain's Challenge"
                    Item                    "The Jupiter Jumpers"
                    Item                    "The Space Bracers"
                    Item                    "The Diplomat"
                    Item                    "Fancy Dress Uniform"

                    // ItemAttributes
                    // {
                    // ItemName "TF_WEAPON_ROCKETLAUNCHER"
                    //// "damage bonus" 1.50
                    // }
                    CharacterAttributes
                    {
                        "item color rgb"            8208497
                        "gesture speed increase"    1
                    }

                    FireInput
                    {
                        Target      !self
                        Action      $ChangeAttributes
                        Param       RAINDOWNTHEHELLFIRE
                        Delay       10
                        CoolDown    14
                        Repeats     999
                    }

                    FireInput
                    {
                        Target              assistance
                        Action              trigger
                        Delay               0.02
                        IfHealthBelow       15001
                        Repeats             1
                    }

                    EventChangeAttributes
                    {
                        RAINDOWNTHEHELLFIRE
                        {
                            FireInput
                            {
                                Target      popscript
                                Action      $bombThem
                                Delay       3
                                Repeats     1
                            }
                        }
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Kritzkrieg
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          wave2_b
            Where                   spawnbot_right
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      7
            WaitBetweenSpawns       4
            TotalCurrency           15

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Giant_Scout
                    AddTemplate     T_TFBot_Scout_Milk
                    Action          Mobber
                    ClassIcon       scout_milk_giant
                }
            }
        }

        // Supports
        WaveSpawn
        {
            Name                    support2
            WaitForAllDead          wave2_b
            TotalCount              6
            SpawnCount              1
            MaxActive               6
            WaitBetweenSpawns       2.4
            Support                 1
            Where                   spawnbot_right

            TFBot
            {
                Template    T_TFBot_Demoman_Knight
                Skill       Expert
            }
        }

        WaveSpawn
        {
            Name                    support2
            WaitForAllDead          wave2_b
            TotalCount              5
            SpawnCount              1
            MaxActive               5
            WaitBetweenSpawns       3
            WaitBeforeStarting      10
            Support                 1
            Where                   spawnbot_right

            TFBot
            {
                Class           Pyro
                Attributes      AlwaysCrit
                Skill           Easy
            }
        }

        WaveSpawn
        {
            Name                    returned
            WaitForAllDead          wave2_b
            TotalCount              2
            SpawnCount              2
            MaxActive               2
            WaitBeforeStarting      0
            Where                   spawnbot_boss_support
            TotalCurrency           75

            Squad
            {
                TFBot
                {
                    Template        T_TFBot_Heavyweapons_Heater
                    Name            "A Hand of Void"
                    Skill           Expert
                    Health          12500
                    Attributes      UseBossHealthBar

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       hebheb
                        Delay       0.22
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      Player
                        Action      $PlaySoundToSelf
                        Param       mvm/giant_heavy/giant_heavy_entrance.wav
                        Delay       0.22
                        Repeats     1
                    }
                    Item            "The Bunsen Brave"
                    Item            "The Jupiter Jumpers"
                    Item            "The Space Bracers"
                    Item            "The Diplomat"
                    Item            "Fancy Dress Uniform"
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Pyro_DF
                    ClassIcon 	pyro_dragon_crown
                    Name            "A Hand of Void"
                    Skill           Hard
                    Health          12500
                    Attributes      UseBossHealthBar
                    Attributes      AlwaysCrit

                    FireInput
                    {
                        Target      !self
                        Action      $TeleportToEntity
                        Param       pypy
                        Delay       0.22
                        Repeats     1
                    }
                    Item            "The Bunsen Brave"
                    Item            "The Jupiter Jumpers"
                    Item            "The Space Bracers"
                    Item            "The Diplomat"
                    Item            "Fancy Dress Uniform"
                }
            }
        }

        // --END OF WAVE 2
        WaveSpawn
        {
            Name                    intermission2
            WaitForAllDead          returned
            TotalCount              1
            SpawnCount              1
            MaxActive               1
            WaitBeforeStarting      30

            StartWaveOutput
            {
                Target      stopwave2
                Action      Trigger
            }

            TFBot
            {
                Class       Scout

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       0.22
                }
            }
        }

        // --Start Of Wave 3 (this shit gonna get crazy)
        // $500
        WaveSpawn
        {
            Name                    ubertanky
            WaitForAllDead          intermission2
            TotalCount              1
            SpawnCount              1
            MaxActive               1
            WaitBeforeStarting      10
            TotalCurrency           200

            Tank
            {
                Name                        tankboss_harvester
                Health                      13000
                Speed                       48
                Classicon                   tank_uber_lite
                SpawnTemplate               uberTank
                SpawnTemplate               extras
                Skin                        2
                Model                       models/bots/boss_bot/boss_tank_ubered.mdl
                StartingPathTrackNode       path_tank_left

                OnKilledOutput
                {
                    Target      relay_harvester_destroy
                    Action      Trigger
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          intermission2
            Name                    wave3_a
            TotalCount              12
            SpawnCount              3
            MaxActive               12
            Where                   spawnbot_center
            WaitBeforeStarting      5
            WaitBetweenSpawns       6.5
            TotalCurrency 100

            Squad
            {
                TFBot
                {
                    Template        T_TFBOT_GIANT_SOLDIER
                    AddTemplate     T_TFBot_Soldier_Mangler_ChargeShots
                    Name            "Giant Supercritical Mangler Soldier"
                    Attributes      AlwaysCrit

                    ItemAttributes
                    {
                        ItemName                        "The Cow Mangler 5000"
                        "faster reload rate"            -0.4
                        "aiming movespeed increased"    1.75
                        crits_become_minicrits          0
                    }
                }

                TFBot
                {
                    Template    T_TFBot_Pyro_DF
                }

                TFBot
                {
                    Template    T_TFBot_Pyro_DF
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead          intermission2
            TotalCount              40
            MaxActive               8
            SpawnCount              1
            Where                   spawnbot_main
            TotalCurrency           25
            WaitBetweenSpawns       0.95

            TFBot
            {
                Template        T_TFBot_Scout_Sandman_FastCharge
                Attributes      AlwaysCrit
                Skill           Normal
            }
        }

        WaveSpawn
        {
            Name                    wave3_b
            WaitForAllDead          wave3_a
            Where                   spawnbot_right
            TotalCount              15
            MaxActive               15
            SpawnCount              5
            WaitBeforeStarting      0
            WaitBetweenSpawns       4.5
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Demo_Burst
                }

                TFBot
                {
                    Template    T_TFBot_Medic_QuickUber
                }

                TFBot
                {
                    Template    T_TFBot_Medic_Kritzkrieg
                }

                TFBot
                {
                    Class       Demoman
                    Skill       Expert
                }

                TFBot
                {
                    Class       Demoman
                    Skill       Expert
                }
            }
        }

        WaveSpawn
        {
            // Name ""
            WaitForAllSpawned       wave3_b
            Where                   spawnbot_main
            TotalCount              30
            MaxActive               6
            SpawnCount              2
            WaitBeforeStarting      2
            WaitBetweenSpawns       3.2
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Pyro_DF
                    Skill                   Easy
                    AimTrackingInterval     0.5
                }

                TFBot
                {
                    Template        T_TFBot_Medic_QuickFix
                    Attributes      SpawnWithFullCharge
                    ClassIcon       medic_quickfix_seel2
                    // Attributes SpawnWithFullCharge
                }
            }
        }

        WaveSpawn
        {
            Name                    wave3_c
            WaitForAllDead          wave3_b
            Where                   spawnbot_center
            TotalCount              4
            MaxActive               4
            SpawnCount              4
            WaitBeforeStarting      0
            WaitBetweenSpawns       0
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template                T_TFBot_Giant_Heavyweapons
                    Name                    "Damaged Void-Opportunist"
                    SpawnTemplate           heavyboss
                    SpawnTemplate           danger
                    ClassIcon               heavy_robot_nys
                    UseCustomModel          models/bots/heavy/bot_heavy_gibby.mdl
                    Skill                   Expert
                    Attributes              UseBossHealthBar
                    Attributes              DisableDodge
                    WeaponRestrictions      MeleeOnly
                    Tag                     boss
                    UseHumanAnimations      1
                    Item                    "The Aztec Aggressor"
                    Item                    "The Mantreads"
                    Item                    "Horror Shawl"
                    Item                    TF_WEAPON_FISTS
                    Action                  FetchFlag
                    Health                  30000

                    ItemAttributes
                    {
                        ItemName            TF_WEAPON_FISTS
                        "damage bonus"      3
                        "hand scale"        1.80
                        is_a_sword          1
                    }

                    CharacterAttributes
                    {
                        "mod minigun can holster while spinning"    1
                        "gesture speed increase"                    1.25
                        "cancel falling damage"                     1
                        "item color rgb"                            8208497
                    }

                    AddCond
                    {
                        Index       71
                        Duration    0.30
                    }

                    FireInput
                    {
                        Target      heavyability*
                        Action      PickRandomShuffle
                        Delay       20
                        Repeats     1
                    }

                    FireInput
                    {
                        Target      Player
                        Action      $PlaySoundToSelf
                        Param       vo\mvm\mght\heavy_mvm_m_jeers08.mp3
                        Delay       0.22
                        Repeats     1
                    }

                    // FireInput
                    // {
                    // Target  popscript
                    // Action $fistIcon
                    // Delay 0.02
                    // Repeats 1
                    // }
                    FireInput
                    {
                        Target      Player
                        Action      $DisplayTextChat
                        Param       "{FFC0CB}Damaged Void Opportunist {reset}: Tell me... Where did we go so wrong?!"
                        Delay       0.22
                        Repeats     1
                    }
                    FireInput
                    {
                        Target !self
                        Action $ChangeAttributes
                        Param PanicMode
                        Repeats 1
                        Delay 1
                        IfHealthBelow 10000
                    }

                    EventChangeAttributes
                    {
                        gonnaTurnYallIntoSwissCheese
                        {
                            Skill                   Expert
                            WeaponRestrictions      PrimaryOnly
                            Item                    "The B.A.S.E. Jumper"

                            ItemAttributes
                            {
                                ItemName                Deflector
                                "damage bonus"          1.2
                                "attack projectiles"    2
                                "heal on kill"          2000
                            }

                            CharacterAttributes
                            {
                                "increased jump height"     3
                                "move speed bonus"          0.35
                            }

                            WeaponSwitch
                            {
                                Delay       0.02
                                Repeats     5
                                Type        Primary
                            }

                            FireWeapon
                            {
                                Delay       0.02
                                Repeats     1
                                Type        Jump
                            }

                            FireWeapon
                            {
                                Delay       1.3
                                Repeats     1
                                Type        Jump
                            }

                            FireInput
                            {
                                Target      !self
                                Action      $ChangeAttributes
                                Param       backToMelee
                                Delay       8
                                Repeats     1
                            }
                        }

                        backToMelee
                        {
                            WeaponRestrictions      MeleeOnly
                            Item                    TF_WEAPON_FISTS

                            WeaponSwitch
                            {
                                Delay       0.02
                                Repeats     5
                                Type        Melee
                            }

                            FireInput
                            {
                                Target      heavyability*
                                Action      PickRandomShuffle
                                Delay       7
                                Repeats     1
                            }

                            CharacterAttributes
                            {
                                "increased jump height"     1
                                "move speed bonus"          0.5
                            }
                        }

                        projectileShotgun	// <not a projectile anymore lol <Now a different ability lol
                        {
                            Taunt
                            {
                                Name        "Taunt: The Proletariat Showoff"
                                Delay       0.02
                                Repeats     1
                            }

                            FireInput
                            {
                                Target      sticky
                                Action      trigger
                                Delay       0.02
                            }

                            FireInput
                            {
                                Target      !self
                                Action      $ChangeAttributes
                                Param       backToMelee
                                Delay       4
                                Repeats     1
                            }
                        }
                        PanicMode
                        {
                            WeaponRestrictions SecondaryOnly
                            Attributes HoldFireUntilFullReload
                            FireInput
                            {
                                Target Player
                                Action $DisplayTextChat
                                Delay 0.5
                                Param "{FFC0CB}Damaged Void-Opportunist {reset}has entered {red}PANIC MODE"
                                Repeats 1
                            }
                            FireInput
                            {
                                Target Player
                                Action $PlaySoundToSelf
                                Delay 0.5
                                Param "mvm\mvm_used_powerup.wav"
                                Repeats 1
                            }
                            AddCond
                            {
                                Index 11
                                Duration 99
                            }
                            
                            AddCond
                            {
                                Index 32
                                Duration 99
                            }
                        }
                    }
                }

                TFBot
                {
                    Class           Heavyweapons
                    Attributes      AlwaysCrit
                    Skill           Easy
                }

                TFBot
                {
                    Class           Heavyweapons
                    Attributes      AlwaysCrit
                    Skill           Easy
                }

                TFBot
                {
                    Class           Heavyweapons
                    Attributes      AlwaysCrit
                    Skill           Easy
                }
            }
        }

        WaveSpawn
        {
            WaitForAllDead      wave3_c
            TotalCount          1
            Where               spawnbot_main
            TotalCurrency       0
            HideIcon            1

            TFBot
            {
                Class       Scout
                Name        "Uber Tank Maintenance Down!"

                FireInput
                {
                    Target      uberOff
                    Action      Trigger
                    Delay       0.5
                }

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       1
                }
            }
        }

        WaveSpawn
        {
            Name requirement
            WaitForAllDead          wave3_c
            Where                   spawnbot_center
            TotalCount              3
            MaxActive               3
            SpawnCount              3
            WaitBeforeStarting      4
            WaitBetweenSpawns       0
            TotalCurrency           25

            Squad
            {
                TFBot
                {
                    Template    T_TFBot_Giant_Heavyweapons_Deflector
                    Skill       Expert
                }

                TFBot
                {
                    Template    T_TFBot_Giant_Medic_Regen
                }

                TFBot
                {
                    Template        T_TFBot_Giant_Soldier_Extended_Concheror
                    Name            "Giant Conchering Crit Soldier"
                    Attributes      AlwaysCrit
                    Skill           Expert
                }
            }
        }

        // Support
        WaveSpawn
        {
            Name                    support3
            WaitForAllDead          wave3_b
            Where                   spawnbot_main
            TotalCount              2
            MaxActive               2
            SpawnCount              2
            WaitBeforeStarting      4
            WaitBetweenSpawns       8
            TotalCurrency           0
            Support                 1

            TFBot
            {
                Template    T_TFBot_Soldier_DirectHit
            }
        }

        WaveSpawn
        {
            Name                    support3
            WaitForAllDead          intermission2
            Where                   spawnbot_main
            TotalCount              5
            MaxActive               5
            SpawnCount              1
            WaitBeforeStarting      10
            WaitBetweenSpawns       4.2
            TotalCurrency           0
            Support                 1

            TFBot
            {
                Class           Demoman
                Skill           Easy
                Attributes      HoldFireUntilFullReload
            }
        }

        // --END OF WAVE 3
        WaveSpawn
        {
            Name                    intermission3
            WaitForAllDead          requirement
            TotalCount              1
            SpawnCount              1
            MaxActive               1
            WaitBeforeStarting      15
            HideIcon 1

            StartWaveOutput
            {
                Target      stopwave3
                Action      Trigger
            }

            TFBot
            {
                Class       Scout

                FireInput
                {
                    Target      !self
                    Action      $Suicide
                    Delay       0.22
                }
            }
        }
        //Wave 4 Encore (i lost count lol)
        //$650
        WaveSpawn
        {
            WaitForAllDead intermission3
            Where spawnbot_center
            Where spawnbot_right
            TotalCount 6
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 14
            TotalCurrency 25

            Squad
            {
                TFBot
                {
                    Template	T_TFBot_Giant_Scout_Baseball_Armored
                    Skill Normal
                }   
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name                    wave4_a
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            TotalCurrency           25
            WaitBeforeStarting      0
            Where                   spawnbot_main
            WaitForAllDead intermission3

            FirstSpawnOutput
            {
                Target      relay_tankboss_harvester
                Action      Trigger
            }

            Tank
            {
                Health                      26000
                ClassIcon                   tank_combine_harvester
                Speed                       100
                Name                        tankboss_harvester
                Skin                        2
                StartingPathTrackNode       tank_start_harvester

                OnKilledOutput
                {
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }
        WaveSpawn
        {
            Name wave4_heavies
            WaitForAllDead intermission3
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 10
            WaitBetweenSpawns 16
            TotalCurrency 25
        
            TFBot
            {
                Template	T_TFBot_Giant_Heavyweapons_Shotgun
                Skill Normal
            }
        }
        WaveSpawn
        {
            WaitForAllSpawned wave4_heavies
            Where spawnbot_left
            TotalCount 9
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 13
            WaitBetweenSpawns 8
            TotalCurrency 25
            Squad
            {
                TFBot
                {
                    Template	T_TFBot_Giant_Soldier_Spammer
                    Skill Expert
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name support4
            WaitForAllDead intermission3
            Where spawnbot_main
            TotalCount 8
            MaxActive 8
            SpawnCount 2
            WaitBeforeStarting 5
            WaitBetweenSpawns 4
            Support 1
            TotalCurrency 50
        
            Squad
            {
                TFBot
                {
                    Class Soldier
                    // ClassIcon 	soldier_and_demo
                    AimAt Feet
                    Skill Hard
                }
                TFBot
                {
                    Template T_TFBot_Demoman
                    // ClassIcon 	soldier_and_demo
                    Skill Normal
                    Attributes AlwaysCrit
                    Item "The Loch-n-load"
                    ClassIcon demo_loch
                }
            }
        }
        //The Second Tank
        WaveSpawn
        {
            Name                    wave4_b
            WaitForAllDead          wave4_a


            TotalCount              1
            MaxActive               1
            SpawnCount              1
            TotalCurrency           25
            WaitBeforeStarting      10
            Where                   spawnbot_main

            FirstSpawnOutput
            {
                Target      relay_tankboss_harvester
                Action      Trigger
            }

            Tank
            {
                Health                      30000
                ClassIcon                   tank_combine_harvester
                Speed                       90
                Name                        tankboss_harvester
                Skin                        2
                StartingPathTrackNode       tank_start_harvester

                OnKilledOutput
                {
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }
        WaveSpawn
        {
            WaitForAllSpawned wave4_b
            Where spawnbot_center
            TotalCount 4
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 18
            WaitBetweenSpawns 4
            TotalCurrency 25

            Squad
            {
                TFBot
                {
                    Template	T_TFBot_Giant_Scout_Baseball_Armored
                    Skill Normal
                }   
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name wave4_soldiers
            WaitForAllSpawned wave4_b
            Where spawnbot_right
            TotalCount 6
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 8
            WaitBetweenSpawns 16
            TotalCurrency 100
        
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Heavyweapons_Shotgun	
                    Skill Easy
                }
                TFBot
                {
                    Template T_TFBot_Giant_Soldier_Spammer
                }
            }
        }
        WaveSpawn
        {
            Name wave4_otherheavies
            WaitForAllDead wave4_b
            Where spawnbot_center
            TotalCount 2
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 10
            WaitBetweenSpawns 0
            TotalCurrency 50
        
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Heavyweapons_Shotgun
                    Skill Normal
                }
                TFBot
                {
                    Template T_TFBot_Giant_Medic_Regen
                }
            }
        }

        WaveSpawn
        {
            Name wave4_c
            WaitForAllSpawned wave4_otherheavies
            Where spawnbot_right
            TotalCount 6
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 15.5
            WaitBetweenSpawns 10
            TotalCurrency 25
            DoneOutput
            {
                Target delaycauseiforgor
                Action Trigger
            }

            Squad
            {
                TFBot
                {
                    Class Heavyweapons
                    Name "Giant Heal-on-Kill Deflector"
                    ClassIcon heavy_deflector_healonkill
                    Skill Expert
                    Health 5500
                    Item "The Tungsten Toque"
                    Item "Deflector"
                    WeaponRestrictions PrimaryOnly
                    MaxVisionRange 1600
                    Attributes MiniBoss
                    Attributes AlwaysCrit

                    ItemAttributes
                    {
                        ItemName "Deflector"
                        "damage bonus"    1.2
                        "attack projectiles" 2
                        "heal on kill" 5000
                    }
                    CharacterAttributes
                    {
                        "move speed bonus"    0.5
                        "damage force reduction" 0.3
                        "airblast vulnerability multiplier" 0.3
                        "rage giving scale" 0.9
                        "override footstep sound set" 2
                    }
                }
                TFBot
                {
                    Template T_TFBot_Giant_Soldier
                    Skill Hard
                    ClassIcon 	soldier_hyper_lite
                    ItemAttributes
                    {
                        Itemname TF_WEAPON_ROCKETLAUNCHER
                        "damage bonus" 2
                    }
                }
            }
        }
        WaveSpawn
        {
            WaitForAllDead wave4_b
            Where spawnbot_main
            TotalCount 20
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 5
            WaitBetweenSpawns 3.2
            TotalCurrency 25
        
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Sniper_Huntsman
                    Attributes AlwaysCrit
                    Skill Hard
                }
                TFBot
                {
                    Class Pyro
                    Attributes AlwaysFireWeapon
                    Skill Easy
                }
            }
        }
        WaveSpawn
        {
            Name wave4_c
            WaitForAllDead wave4_b
            TotalCount              1
            MaxActive               1
            SpawnCount              1
            TotalCurrency           75
            WaitBeforeStarting      5
            Where                   spawnbot_main

            Tank
            {
                Health                      30000
                ClassIcon                   tank_combat_minigun
                Speed                       80
                Name                        "combattank|minigun|fireball"
                Skin                        2
                StartingPathTrackNode       path_tank_left
                SpawnTemplate combattank_bomb

                OnKilledOutput
                {
                }

                OnBombDroppedOutput
                {
                    Target      boss_deploy_relay
                    Action      Trigger
                }
            }
        }
        WaveSpawn
        {
            WaitForAllDead wave4_b
            Where spawnbot_center
            TotalCount 2
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 10
            WaitBetweenSpawns 4
            TotalCurrency 25

            Squad
            {
                TFBot
                {
                    Template	T_TFBot_Giant_Scout_Baseball_Armored
                    Skill Normal
                }   
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn // Dummy
        {
            WaitForAllDead wave4_c
            TotalCount 1
            SpawnCount 1
            WaitBeforeStarting 0
        
            FirstSpawnOutput
            {
                Target theEnd
                Action Trigger
            }
            TFBot
            {
                Class Scout
            }
        }
        WaveSpawn // Dummy for icon precache
        {
            Support 1
            TFBot
            {
                ClassIcon blueside_indicator
            }
        }
    }
    // Wave // Wave #?@= Final Boss Time Wave 7
    // // --This is about to take a while but I def want the boss to be a quickie.
    // {
    //     StartWaveOutput
    //     {
    //         Target bignet
    //         Action RunScriptCode  
    //         Param "
    //         IncludeScript(`snurper_encorewavebar`, getroottable())
    //         AlternateWavebars(4)

    //         EntFire(`wave_start_relay`, `trigger`, `0`, -1)
    //         EntFire(`encore_cutscene`, `ForceSpawn`, `0`, -1)
    //         "
    //     }
    //     InitWaveOutput
    //     {
    //         Target gamerules // gamerules or tf_gamerules, depending on the map
    //         Action RunScriptCode
    //         Param "
    //             IncludeScript(`snurper_encorewavebar`, getroottable())
    //             AlternateWavebars(5)


    //             EntFire(`wave_init_relay_route_r`, `Trigger`, null, 0.5)
    //             EntFire(`fixSky`, `Trigger`, null, 0.2)
    //             EntFire(`stopMusic`, `Trigger`, null, 0.5)

    //             EntFire(`tele1`, `Stop`, null, 0.5)
    //             EntFire(`tele2`, `Stop`, null, 0.5)
    //             EntFire(`tele3`, `Stop`, null, 0.5)

    //         "
    //     }
    //     DoneOutput
    //     {
    //         Target wave_finish_relay
    //         Action Trigger
    //     }
    //     Explanation
    //     {
    //         Line "{FFC0CB}Stand ready for my arrival, Team Fortress."
    //         Line ""
    //         Line "{red}HEADS UP FOR SNIPER: You can't headshot the boss. I'd suggest targeting the supports instead."
    //     }
    //     CustomWaveNumber 5
    //     CustomMaxWaveNumber     5

    //     WaveSpawn
    //     {
    //         Name TheVoidling
    //         Where spawnbot_center
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 10.5
    //         WaitBetweenSpawns 0
    //         TotalCurrency 0
        
    //         TFBot
    //         {
    //             Template	T_TFBot_Giant_Heavyweapons
    //             Name "The Voidling"
    //             Scale 5.25
    //             ClassIcon monoculus_nys
    //             Health 50000
    //             MaxVisionRange 10
    //             Action Idle
    //             UseHumanAnimations 1
    //             FastUpdate 1
    //             WeaponRestrictions SecondaryOnly
    //             Item "Commissar's Coat"
    //             Item "Shin Shredders"
    //             Item "Fancy Dress Uniform"
    //             Item "Ghostly Gibus"
    //             Item "Ali Baba's Wee Booties"
    //             Attributes HoldFireUntilFullReload
    //             AddAttribute
    //             {
    //                 Item "Fancy Dress Uniform"
    //                 Name "attachment scale"
    //                 Value 3
    //                 Repeats 1
    //                 Delay 0.22 //remove after testing difference.
    //             }
    //             Itemattributes
    //             {
    //                 Itemname TF_WEAPON_MINIGUN
    //                 "Paintkit_proto_def_index" 404

    //                 "Set_item_texture_wear" 0

    //             }
    //             SpawnTemplate theVoidlingDrip
    //             FireInput
    //             {
    //                 Target !Self
    //                 Action $TeleportToEntity
    //                 Param goHereMonococo
    //                 Repeats 1
    //                 Delay 0.22
    //             }
    //             // -- Cutscene Coolnessery
    //             InterruptAction
    //             {
    //                 AimTarget "potato"
    //                 Delay 7
    //                 AlwaysLook 1
    //                 Repeats 1
    //                 Duration 7
    //             }
    //             Taunt
    //             {
    //                 Name "Taunt: Russian Rubdown"
    //                 Repeats 1
    //                 Delay 0.1
    //                 Duration 4
    //             }
    //             FireInput
    //             {
    //                 Target !self
    //                 Action $RemoveCond
    //                 Param 8
    //                 Repeats 1
    //                 Delay 5
    //             }
    //             FireInput
    //             {
    //                 Target popscript
    //                 Action $showBossHealthBar
    //                 Repeats 1
    //                 Delay 11
    //             }
                
    //             Taunt
    //             {
    //                 Name "Taunt: Crushing Defeat"
    //                 Repeats 1
    //                 Delay 8
    //             }
    //             FireInput
    //             {
    //                 Target voidEye
    //                 Action SetAnimation
    //                 Param "longlaugh"
    //                 Delay 8.5
    //                 Repeats 1
    //             }
    //             FireInput
    //             {
    //                 Target player
    //                 Action $playsoundtoself
    //                 Param "voidling_laugh.mp3"
    //                 Delay 8.1
    //                 Repeats 1
    //             }
    //             CharacterAttributes
    //             {
    //                 "move speed bonus" 0.005
    //                 "head scale" 0.005
    //                 "gesture speed increase"    0.85
    //                 "always allow taunt" 1
    //                 "voice pitch scale" 0.0
    //                 "cannot pick up intelligence" 1
    //                 "mod weapon blocks healing" 1
    //                 "ignored by bots" 1
    //                 "mult step height" 0
    //                 "cancel falling damage" 1
    //                 "boots falling stomp" 1
    //                 "ignore player clip" 1
    //             }
    //             //--Abilities Here
    //             EventChangeAttributes
    //             {
    //                 //--Weapon Stuff OF Awesomeness
    //                 pistolswitch_bullet
    //                 {
    //                     MaxVisionRange 6000
    //                     Item TF_WEAPON_SHOTGUN_HWG
    //                     ItemAttributes
    //                     {
    //                         ItemName TF_WEAPON_SHOTGUN_HWG
    //                         // "custom item model" "models/empty.mdl"
    //                         "override projectile type" 13
    //                         "fire rate bonus" 0.10
    //                         "clip size bonus" 10.0
    //                         "add cond when active" 19
    //                         "energy weapon penetration" 1
    //                         "mult projectile size" 5
                            
    //                         "Paintkit_proto_def_index" 241
    //                         "Set_item_texture_wear" 0

    //                         "faster reload rate" 8.50
    //                         "reload full clip at once" 1
    //                         "fire input on attack" "shooty^trigger"

    //                         "custom weapon fire sound" "weapons\capper_shoot.wav"
    //                         // "is invisible" 1
    //                     }
    //                 }
    //                 shotgunswitch_fire
    //                 {
    //                     MaxVisionRange 6000
    //                     Item "Panic Attack Shotgun"
    //                     ItemAttributes
    //                     {
    //                         ItemName "Panic Attack Shotgun"
    //                         // "custom item model" "models/empty.mdl"
    //                         "override projectile type extra" "spellfireball"
    //                         "ignores other projectiles" 1
    //                         "damage bonus" 1.40
    //                         "fire rate bonus" 1
    //                         "faster reload rate" -0.5
    //                         "Projectile speed increased" 1.15

    //                         "Paintkit_proto_def_index" 241
    //                         "Set_item_texture_wear" 0
    //                         "fire input on attack" "shooty^trigger"

    //                         // "is invisible" 1
    //                     }
    //                 }
    //                 shotgunswitch_blast
    //                 {
    //                     MaxVisionRange 6000
    //                     Item "Festive Shotgun 2014"
    //                     ItemAttributes
    //                     {
    //                         ItemName "Festive Shotgun 2014"
    //                         // "custom item model" "models/empty.mdl"
    //                         "mult projectile count" 15
    //                         "override projectile type" 2
    //                         "ignores other projectiles" 1
    //                         "projectile spread angle penalty" 6
    //                         "damage bonus" 10
    //                         "fire rate bonus" 2.5

    //                         "custom projectile model" "models/props_halloween/eyeball_projectile.mdl"

    //                         "Paintkit_proto_def_index" 241
    //                         "Set_item_texture_wear" 0
    //                         "fire input on attack" "shooty^trigger"

    //                         // "is invisible" 1
    //                     }
    //                 }
    //                 //--Abilities Stuff
    //                 laserofdeathandconquest
    //                 {       
                        
    //                     // CharacterAttributes
    //                     // {
    //                     //     "no_attack" 1
    //                     // }
    //                     FireInput
    //                     {
    //                         Target !self
    //                         Action $RemoveCond
    //                         Param 8
    //                         Repeats 1
    //                         Delay 0
    //                     }
                        
    //                     FireInput
    //                     {
    //                         Target !self
    //                         Action $RemoveCond
    //                         Param 8
    //                         Repeats 1
    //                         Delay 18
    //                     }
    //                     AddAttribute
    //                     {
    //                         Item Player
    //                         Name "gesture speed increase"
    //                         Value 1
    //                         Delay 0.06
    //                         Repeats 1
    //                     }
    //                     AddAttribute
    //                     {
    //                         Item Player
    //                         Name "gesture speed increase"
    //                         Value 0.1
    //                         Delay 1.2
    //                         Repeats 1
    //                     }
    //                     AddAttribute
    //                     {
    //                         Item Player
    //                         Name "gesture speed increase"
    //                         Value 1
    //                         Delay 21
    //                         Repeats 1
    //                     }
    //                     Taunt
    //                     {
    //                         Name "RPS Taunt" 
    //                         Delay 0.06
    //                         Duration 19
    //                         Repeats 1
    //                     }
    //                     FireInput
    //                     {
    //                         Target "laserAbility"
    //                         Action Trigger
    //                         Delay  0.5
    //                         Repeats 1
    //                     }
    //                 }
    //                 headbash
    //                 {
                        
    //                     FireInput
    //                     {
    //                         Target !self
    //                         Action $RemoveCond
    //                         Param 8
    //                         Repeats 1
    //                         Delay 18
    //                     }
    //                     Taunt
    //                     {
    //                         Name "Taunt: Russian Rubdown"
    //                         Delay 0.25
    //                         Duration 19
    //                         Repeats 1
    //                     }

    //                     FireInput
    //                     {
    //                         Target headbashAbility
    //                         Action Trigger
    //                         Delay 2
    //                         Repeats 1
    //                     }
    //                 }

    //                 //--INTERMISSION CALLS
    //                 intermission1
    //                 {
    //                     AddCond
    //                     {
    //                         Index 5
    //                         Duration -1
    //                     }                        
    //                     MaxVisionRange 1
    //                     FireInput
    //                     {
    //                         Target !self
    //                         Action $Regenerate
    //                         Delay  10
    //                         Repeats 1
    //                     }
    //                     FireInput
    //                     {
    //                         Target switchupthefield_1
    //                         Action Trigger
    //                         Delay  0
    //                         Repeats 1
    //                     }
    //                     CharacterAttributes
    //                     {
    //                         "no_attack" 1
    //                     }
    //                 }
    //                 phase2Stun
    //                 {
    //                     FireInput
    //                     {
    //                         Target !self
    //                         Action $RemoveCond
    //                         Param 5
    //                         Delay 0
    //                     }
    //                 }
    //             }

    //             //Events Manager
    //             FireInput
    //             {
    //                 Target switchInputs
    //                 Action Trigger
    //                 Delay  14
    //                 Repeats 1
    //             }
    //             FireInput
    //             {
    //                 Target "!self"
    //                 Action $ChangeAttributes
    //                 Param  intermission1
    //                 Delay  0
    //                 IfHealthBelow 5000
    //                 Repeats 1
    //             }
    //         }
    //     }
    //     ///PHASE 1 SUPPORTS
    //     //BUllet Supports Here
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 20
    //         TotalCurrency 50
    //         Support 1
        
    //         TFBot
    //         {
    //             Template	 T_TFBot_Giant_Heavyweapons
    //             Skill Normal
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 3
    //         MaxActive 3
    //         SpawnCount 3
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 40
    //         TotalCurrency 50
    //         Support 1
        
    //         TFBot
    //         {
    //             Template	 T_TFBot_Giant_Scout_FAN
    //             Skill Expert
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 2
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 4.5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Scout
    //             Skill Normal
    //             Attributes HoldFireUntilFullReload
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 3
    //         MaxActive 3
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 2.5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Engineer
    //             WeaponRestrictions SecondaryOnly
    //             Action Mobber
    //             Skill Hard
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 2.5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Spy
    //             WeaponRestrictions PrimaryOnly
    //             Action Mobber
    //             Skill Hard
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBulletPhase1
    //         Where spawnbot_main
    //         TotalCount 5
    //         MaxActive 5
    //         SpawnCount 5
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 5.5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Template        T_TFBot_Demoknight_Splendid
    //             Action          Mobber
    //             Attributes      DisableDodge
    //             Tag             bot

    //             CharacterAttributes
    //             {
    //                 "Attack not cancel charge"      1
    //             }
                
    //         }
    //     }

    //     //Blast Supports Here
    //     WaveSpawn
    //     {
    //         Name SupportBlastPhase1
    //         Where spawnbot_main
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 20
    //         TotalCurrency 50
    //         Support 1
        
    //         TFBot
    //         {
    //             Template	 T_TFBot_Giant_Demoman
    //             Skill Normal
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBlastPhase1
    //         Where spawnbot_main
    //         TotalCount 3
    //         MaxActive 3
    //         SpawnCount 3
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 30
    //         TotalCurrency 50
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Scout
    //             Item "The Concheror"
    //             Attributes SpawnWithFullCharge
    //             Skill Normal
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBlastPhase1
    //         Where spawnbot_main
    //         TotalCount 3
    //         MaxActive 3
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 4
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Soldier
    //             Attributes HoldFireUntilFullReload
    //             Skill Easy
                
    //         }
            
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBlastPhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 4
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Soldier
    //             Attributes HoldFireUntilFullReload
    //             WeaponRestrictions SecondaryOnly
    //             Skill Normal
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportBlastPhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 2
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 2.5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Template T_TFBot_Scout_Sandman_FastCharge
    //             Attributes AlwaysCrit
                
    //         }
    //     }
    //     //Fire Supports Here
    //     WaveSpawn
    //     {
    //         Name SupportFirePhase1
    //         Where spawnbot_main
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 20
    //         TotalCurrency 50
    //         Support 1
        
    //         TFBot
    //         {
    //             Template	 T_TFBot_Giant_Pyro_DF
    //             Skill Easy
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportFirePhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 2
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 5
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Template	 T_TFBot_Pyro_Flaregun
    //             ItemAttributes
    //             {
    //                 Itemname "The Flare Gun"
    //                 "faster reload rate" 0.5
    //             }
    //             Skill Expert
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportFirePhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 1
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 2
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class Pyro
    //             Skill Easy
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportFirePhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 4
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 12
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Template T_TFBot_Demo_Burst
    //             Skill Easy
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name SupportFirePhase1
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 4
    //         WaitBeforeStarting 3
    //         WaitBetweenSpawns 4
    //         TotalCurrency 25
    //         Support 1
        
    //         TFBot
    //         {
    //             Class HeavyWeapons
    //             Name "Heater Heavy"
    //             Skill Normal
    //             Item "The Huo Long Heatmaker"
    //             Skin 1
                
    //         }
    //     }
    //     //
    //     // //
    //     // //---COLA TOWN CRASHING COURSE?!
    //     // //
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse1
    //         Where spawnbot_left
    //         TotalCount 8
    //         MaxActive 8
    //         SpawnCount 2
    //         WaitBeforeStarting 5
    //         WaitBetweenSpawns 5.5
    //         TotalCurrency 100

    //         Squad
    //         {
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Demo_RapidFire
    //                 Name "Giant Rapid Hyper Demo"
    //                 ClassIcon 	demo_spammer_hyper_lite
    //                 Skill Normal

    //                 ItemAttributes
    //                 {
    //                     ItemName TF_WEAPON_GRENADELAUNCHER

    //                     "damage bonus" 2
    //                     "faster reload rate" -0.8
    //                     "fire rate bonus" 0.5
    //                 }
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Medic_QuickUber
    //             }
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse3
    //         Where spawnbot_center
    //         TotalCount 4
    //         MaxActive 4
    //         SpawnCount 1
    //         WaitBeforeStarting 5
    //         WaitBetweenSpawns 5.5
    //         TotalCurrency 100

    //         Squad
    //         {
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Pyro
    //                 Item "Traffic Cone"
    //                 ClassIcon pyro_hyper_lite
    //                 Skill Expert
    //             }
                
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse2
    //         WaitForAllDead coaltownCrashCourse1
    //         Where spawnbot_right
    //         TotalCount 6
    //         MaxActive 6
    //         SpawnCount 3
    //         WaitBeforeStarting 10
    //         WaitBetweenSpawns 3.5
    //         TotalCurrency 50

    //         Squad
    //         {
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Soldier_Crit
    //                 ClassIcon 	soldier_crit_giant
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Medic_QuickUber
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Medic_QuickUber
    //             }
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse3
    //         WaitForAllSpawned coaltownCrashCourse2
    //         Where spawnbot_right
    //         TotalCount 6
    //         MaxActive 6
    //         SpawnCount 6
    //         WaitBeforeStarting 10
    //         WaitBetweenSpawns 10
    //         TotalCurrency 50

    //         Squad
    //         {
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Heavyweapons
    //                 Attributes AlwaysCrit
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Medic_Regen
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Medic_Regen
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Medic_Regen
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Medic_Regen
                    
    //             }
    //             TFBot
    //             {
    //                 Template T_TFBot_Giant_Medic_Regen
                    
    //             }
    //         }
    //     }
        
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse_Support
    //         Where spawnbot_main
    //         TotalCount 4
    //         MaxActive  4
    //         SpawnCount 2
    //         WaitBeforeStarting 5
    //         WaitBetweenSpawns 12
    //         Support 1
    //         TotalCurrency 25
    //         TFBot
    //         {
    //             Template T_TFBot_Soldier_Charged
    //         }
    //     }
    //     WaveSpawn
    //     {
    //         Name coaltownCrashCourse_Support
    //         Where spawnbot_main
    //         TotalCount 7
    //         MaxActive 7
    //         SpawnCount 1
    //         WaitBeforeStarting 5
    //         WaitBetweenSpawns 1.2
    //         Support 1
    //         TotalCurrency 25
    //         TFBot
    //         {
    //             Class Scout
    //             WeaponRestrictions MeleeOnly
    //             Attributes AlwaysCrit
    //             Attributes DisableDodge
                
    //         }
    //     }
    //     WaveSpawn // Tank # HP
    //     {
    //         Name coaltownCrashCourse3
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 5
    //         WaitBetweenSpawns 0
        
    //         TotalCurrency 100
        
    //         Tank
    //         {
    //             Name "tankboss"
    //             ClassIcon "tank"
    //             StartingPathTrackNode path_tank_left
    //             Health 25000
    //             Speed 100
    //             Skin 1
        
    //             OnKilledOutput {}
    //             OnBombDroppedOutput
    //             {
    //                 Target boss_deploy_relay
    //                 Action Trigger
    //             }
    //         }
    //     }
    //     WaveSpawn // Dummy
    //     {
    //         Name null
    //         WaitForAllDead coaltownCrashCourse2
    //     }
    //     WaveSpawn // Dummy
    //     {
    //         Name null
    //         WaitForAllDead coaltownCrashCourse3
    //     }
    //     WaveSpawn // Dummy
    //     {
    //         Name nuller
    //         WaitForAllDead null
    //         DoneOutput
    //         {
    //             Target phase2time
    //             Action trigger
    //         }
    //     }
    // }
    // Wave // Wave #
    // {
    //     StartWaveOutput
    //     {
    //         Target wave_start_relay
    //         Action Trigger
    //     }
    //     DoneOutput
    //     {
    //         Target wave_finish_relay
    //         Action Trigger
    //     }
    //     InitWaveOutput
    //     {
    //         Target      bignet
    //         Action      RunScriptCode
    //         Param "
    //         IncludeScript(`tankextensions_main`, getroottable())
    //         TankExt.SetValueOverrides({

    //                 COMBATTANK_MINIGUN_SPREAD_MULTIPLIER = 1.25
    //             })
    //             IncludeScript(`tankextensions/combattank`, getroottable())
    //             IncludeScript(`tankextensions/combattank_weapons/minigun`, getroottable())
    //             IncludeScript(`tankextensions/combattank_weapons/fireball`, getroottable())
    //         "
    //     }
    //     WaveSpawn // Tank # HP
    //     {
    //         Name ""
    //         WaitForAllDead ""
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 0
    //         WaitBetweenSpawns 0
        
    //         TotalCurrency 0
        
    //         Tank
    //         {
    //             Name "combattank|minigun|fireball"
    //             SpawnTemplate combattank_bomb
    //             StartingPathTrackNode "path_tank_left"
    //             Health 1000
    //             Speed 190
    //             Skin 0
        
    //             OnKilledOutput {}
    //             OnBombDroppedOutput
    //             {
    //                 Target boss_deploy_relay
    //                 Action Trigger
    //             }
    //         }
    //     }
    //     WaveSpawn // Tank # HP
    //     {
    //         Name ""
    //         WaitForAllDead ""
    //         TotalCount 1
    //         MaxActive 1
    //         SpawnCount 1
    //         WaitBeforeStarting 999
    //         WaitBetweenSpawns 0
        
    //         TotalCurrency 0
        
    //         Tank
    //         {
    //             Name "tankboss"
    //             StartingPathTrackNode "path_tank_left"
    //             Health 0
    //             Speed 75
    //             Skin 0
        
    //             OnKilledOutput {}
    //             OnBombDroppedOutput
    //             {
    //                 Target boss_deploy_relay
    //                 Action Trigger
    //             }
    //         }
    //     }
    // }
    Wave //DudWave
    {
        WaitWhenDone            65
        Checkpoint              Yes
        CustomWaveNumber 1
        CustomMaxWaveNumber     5

        StartWaveOutput
        {
            Target      wave_start_relay
            Action      Trigger
        }

        DoneOutput
        {
            Target      wave_finish_relay
            Action      Trigger
        }
        InitWaveOutput
        {
            Target gamerules // gamerules or tf_gamerules, depending on the map
            Action RunScriptCode
            Param "
                EntFire(`popscript`, `$killCycle`)
                EntFire(`pop_point`, `$FinishWave`)
            "
        }

        WaveSpawn // Dummy
        {
            WaitForAllDead ""
            TotalCount 1
            SpawnCount 1
            WaitBeforeStarting 0
        
            StartWaveWarningSound ""
            FirstSpawnWarningSound ""
        
            TFBot
            {
                Class Scout
            }
        }
    }
}