#base robot_gettysburg_dd.pop
#base robot_standard.pop
#base robot_giant.pop

//
// Starting Currency: 1200
//
// +----------+----------+----------+
// | Wave     | Currency | A+       |
// +----------+----------+----------+
// | Wave 1   | 900      | 1000     |
// | Wave 2   | 700      | 800      |
// | Wave 3   | 800      | 900      |
// | Wave 4   | 600      | 700      |
// | Wave 5   | 650      | 750      |
// +----------+----------+----------+
// | Total    | 3650     | 4150     |
// +----------+----------+----------+
//

gettysburg
{
    StartingCurrency 1200
    RespawnWaveTime 4
    FixedRespawnWaveTime Yes
    CanBotsAttackWhileInSpawnRoom Yes
    Advanced 1

    //ForceHoldiay 2
    EventPopFile Halloween
    //BotPushaway 0                       
    //NoReanimators 1                  
    MaxEntitySpeed 5000   
    NoRomevisionCosmetics 1             
    MedigunShieldDamage 1               
    FixSetCustomModelInput 1            
    SentryBusterFriendlyFire 0          
    SniperHideLasers 0
    SniperAllowHeadshots 1              
    NoMvMDeathTune 1                    
    //BuybacksPerWave 1                   
    EnableDominations 1                 
    ImprovedAirblast 1                  
    TextPrintTime 0                     
    CustomUpgradesFile "mvm_upgrades_gettysburg_final_fix_a.txt"
    PrecacheModel models/bots/boss_bot/boss_tank_color.mdl

    OverrideSounds 
	{
        "Announcer.MVM_Get_To_Upgrade" "misc/halloween/gotohell.wav"
		"MVM.BombWarning"			"ambient/alarms/doomsday_lift_alarm.wav"
        "MVM.GiantHeavyExplodes"	"physics/flesh/flesh_squishy_impact_hard3.wav"
		"MVM.GiantCommonExplodes"	"physics/flesh/flesh_squishy_impact_hard3.wav"
	}

    PlayerAttributes
    {
        Medic
        {
            "medic machinery beam" 2.5
        }
    }

    ItemAttributes //gunslinger buff
    {
        ItemName "The Gunslinger"
        "mult dispenser rate" 1.5
        "mvm sentry ammo" 2.5
        "engy sentry radius increased" 2
        "construction rate increased" 2
        "engy disposable sentries" 1
        "mult teleporter recharge rate" 0.5
    }

    ItemAttributes //sniper blood splatter
    {
        ClassName tf_weapon_sniperrifle
        "crit on hard hit" 1
    }

    ItemAttributes //classic explosive rework
    {
        ItemName "The Classic"
        "explosive bullets" 100
        "srifle charge rate decreased" 0.5
        "sniper beep with enemy under crosshair" 1
        "mult sniper charge per sec with enemy under crosshair" 2
        "damage bonus hidden" 1.1
        //"reload time increased" 2
    }

    ItemAttributes
    {
        ItemName "Festive Eyelander"
        "set turn to ice" 1
    }


    ItemAttributes //market gardener 2x dmg
    {
        ItemName "The Market Gardener"
        "damage bonus" 2
        "melee cleave attack" 1
        "melee range multiplier" 1.5
        "melee bounds multiplier" 1.5
    }

    ItemAttributes //for psychos who wanna play caberknight
    {
        ItemName "The Ullapool Caber"
        "regenerate stickbomb" 1
        "blast dmg to self increased" 0.1
        "fire rate penalty" 1
        "crit on hard hit" 1
        "self dmg push force increased" 0.25
        "dmg bonus while half dead" 1.5
    }

    ItemAttributes //big iron
    {
        ItemName "The Ambassador"
        "provide on active" 1
        "headshot damage increase" 4.12
        "damage penalty on bodyshot" 0
        "hand scale" 2
        "fire rate penalty" 3
        "reload time increased" 1.5
        "turn to gold" 1
        crit_dmg_falloff 0
        "last shot crits" 1
        "clip size penalty" 0.2
        "item style override" 1
        "is australium item" 1
        "explosive sniper shot" 3
    }

    ItemAttributes //big iron
    {
        ItemName "Festive Ambassador"
        "provide on active" 1
        "headshot damage increase" 4.12
        "damage penalty on bodyshot" 0
        "hand scale" 2
        "fire rate penalty" 3
        "reload time increased" 1.5
        "crit on hard hit" 1
        crit_dmg_falloff 0
        "last shot crits" 1
        "clip size penalty" 0.2
        "explosive sniper shot" 3
    }

    ItemAttributes
    {
        ItemName "The Gas Passer"
        "weapon burn dmg increased" 11
    }

    Mission //Wave 1-2 Buster Mission
    {
        Objective DestroySentries
        Where spawnbot_flank
        CooldownTime 30
        BeginAtWave 1
        RunForThisManyWaves 2

        TFBot
        {
            Template T_TFBot_SentryBuster
            Skill Easy
            Attributes IgnoreEnemies
            Attributes DisableDodge

            CharacterAttributes
            {
                "damage force reduction" 0.1
                "airblast vulnerability multiplier" 0.1
                "rage giving scale" 0
            }
        }
    }

    Mission //Wave 4-5 Buster Mission
    {
        Objective DestroySentries
        Where spawnbot_flank
        CooldownTime 30
        BeginAtWave 4
        RunForThisManyWaves 2

        TFBot
        {
            Template T_TFBot_SentryBuster
            Skill Easy
            Attributes IgnoreEnemies
            Attributes DisableDodge

            CharacterAttributes
            {
                "damage force reduction" 0
                "airblast vulnerability multiplier" 0
                "rage giving scale" 0
            }
        }
    }

    Mission //Wave 1 Sniper Mission
    {
        Objective Sniper
        Where spawnbot_void1
        Where spawnbot_void3
        DesiredCount 4
        CooldownTime 8
        BeginAtWave 1
        RunForThisManyWaves 1

        RandomChoice
        {
            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Sniper_Void_Stalker
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant
            }

            TFBot
            {
                Template G_Heavy_Void_Remnant_Giant
                Skill Normal
            }
        }
    }

    Mission //Wave 2 Spy Mission
    {
        Objective Spy
        Where spawnbot_mission_spy
        DesiredCount 2
        InitialCooldown 12
        CooldownTime 45
        BeginAtWave 2
        RunForThisManyWaves 1

        TFBot
        {
            Template G_Spy
        }
    }

    Mission //Wave 2 Sniper Mission
    {
        Objective Sniper
        Where spawnbot_void1
        DesiredCount 2
        InitialCooldown 20
        CooldownTime 30
        BeginAtWave 2
        RunForThisManyWaves 1
        
        TFBot
        {
            Template G_Heavy_Void_Remnant_Giant
        }
    }

    Mission //Wave 3 Sniper Mission
    {
        Objective Sniper
        Where spawnbot_void1
        Where spawnbot_void3
        DesiredCount 3
        InitialCooldown 0
        CooldownTime 25
        BeginAtWave 3
        RunForThisManyWaves 1

        RandomChoice
        {
            RandomChoice
            {
                TFBot
                {
                    Name "Bat Magician"
                    Class Pyro
                    ClassIcon spellbook
                    Skill Hard
                    Item tf_weapon_spellbook
                    Item "The Dead Head"
                    Item "The Bat Outta Hell"
                    WeaponRestrictions MeleeOnly

                    AimAt Head
                    SpellDropRateCommon 0.2

                    Spell
                    {
                        Delay 0
                        Cooldown 7
                        IfSeeTarget 1
                        Charges 1
                        Type "Ball O' Bats"
                    }
                }

                TFBot
                {
                    Name "Pumpkin Magician"
                    Class Heavy
                    ClassIcon spellbook
                    Skill Hard
                    Item tf_weapon_spellbook
                    Item "The Dead Head"
                    Item "The Bat Outta Hell"
                    WeaponRestrictions MeleeOnly

                    AimAt Head
                    SpellDropRateCommon 0.2

                    Spell
                    {
                        Delay 0
                        Cooldown 7
                        IfSeeTarget 1
                        Charges 1
                        Type "Pumpkin MIRV"
                    }
                }
            }
        }
    }

    Mission //Wave 4 Sniper Mission
    {
        Objective Sniper
        Where spawnbot_void1
        Where spawnbot_void4
        DesiredCount 4
        BeginAtWave 4
        RunForThisManyWaves 1
        CooldownTime 5

        RandomChoice
        {
            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Bleed
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Barbed_Giant
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Template G_Sniper_Huntsman_Barbed_Giant
                Attributes AlwaysCrit
                Name "Void Blood"
            }

            TFBot
            {
                Name "Void Lethargy"
                Template G_Heavy_Natascha_Giant

                ItemAttributes
                {
                    ItemName Natascha
                    "fire rate penalty" 2
                    "bullets per shot bonus" 2
                }
            }
        }
    }

    Mission //Wave 4 Support Engineer Mission
    {
        Objective Engineer
        Where spawnbot
        DesiredCount 1
        InitialCooldown 0
        CooldownTime 45
        BeginAtWave 4
        RunForThisManyWaves 1

        TFBot
        {
            Name "Support Engineer"
            ClassIcon dispenser_lite
            Template G_Engineer_Teleporter
            ExtAttr BuildDispenserAsSentryGun 
            Attributes TeleportToHint

            CharacterAttributes
            {
                "engy dispenser radius increased" 20
                "mult dispenser rate" 2 //custom attribute
                "construction rate increased" 3
                "building scale" 1.5
            }
        }
    }

    Mission //Wave 5 Crit Engineer Mission
    {
        Objective Engineer
        Where spawnbot
        DesiredCount 1
        CooldownTime 45
        BeginAtWave 5
        RunForThisManyWaves 1

        TFBot
        {
            Name "Overclocked Engineer"
            Template G_Engineer
            Health 500
            Attributes TeleportToHint
            Attributes AlwaysCrit
            TeleportWhere spawnbot

            ExtAttr BuildDispenserAsTeleporter

            CharacterAttributes
            {
                "engineer sentry build rate multiplier" 2
                "engy dispenser radius increased" 5
            }
        }
    }

    Mission //Wave 5 Trash Pandas
    {
        Objective Spy
        Where
        {
            Relative Behind
            MaxDistance 2250
            MinDistance 1250
        }
        DesiredCount 3
        CooldownTime 15
        BeginAtWave 5
        RunForThisManyWaves 1

        TFBot
        {
            Template G_Trash_Panda
            Action Mobber
            Attributes DisableDodge

            DesiredAttackRange 50
            MoveBehindEnemy 1
        }
    }

    Mission //Wave 5 Sniper Mission
    {
        Objective Sniper
        Where spawnbot_void1
        Where spawnbot_void3
        DesiredCount 5
        CooldownTime 5
        BeginAtWave 5
        RunForThisManyWaves 1

        RandomChoice
        {
            TFBot
            {
                Name "Void Burn"
                Class Soldier
                ClassIcon soldier_mangler
                Skill Hard
                Item "The Cow Mangler 5000"
                Item "The Equalizer"
                Item "Lord Cockswain's Pith Helmet"

                AimLeadProjectileSpeed 1
                
                ItemAttributes
                {
                    ItemName "The Cow Mangler 5000"
                    "damage penalty" 0.05
                    "weapon burn dmg increased" 11
                    "reload time decreased" 0
                    "fire retardant" 1
                    "no self blast dmg" 2
                }
            }

            TFBot
            {
                Template G_Sniper_Void_Rail
            }
        }
    }
    
    Wave //Wave 1 - $900
    {
        CustomWaveNumber 1
        CustomMaxWaveNumber 5
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }

        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        Explanation
        {
            Line "{blue}Many weapons have been rebalanced."
            Line "{blue}Prices of Canteens and many upgrades have been rebalanced."
            Line "{c0c0c0}Medics can assist their Engineers by healing their buildings."
        }

        WaveSpawn
        {
            Name 1aa
            Where spawnbot
            TotalCount 2
            SpawnCount 2

            TotalCurrency 10

            WaitBeforeStarting 0

            Squad
            {
                TFBot
                {
                    Template G_Soldier_Rapid_Giant
                    UseMeleeThreatPrioritization 1 

                    FireWeapon 
                    {
                        Delay 0
                        Cooldown .05
                        IfSeeTarget 1
                        Type Primary
                    }
                }

                TFBot
                {
                    Template G_Medic_Vac_Fire
                    ClassIcon medic_vac_trio_nys
                }
            }
        }

        WaveSpawn
        {
            Name 1ab
            Where spawnbot
            TotalCount 2
            SpawnCount 2

            TotalCurrency 10
            WaitForAllDead 1aa
            WaitBeforeStarting 5

            Squad
            {
                TFBot
                {
                    Template G_Soldier_Rapid_Giant
                    UseMeleeThreatPrioritization 1 

                    FireWeapon 
                    {
                        Delay 0
                        Cooldown .05
                        IfSeeTarget 1
                        Type Primary
                    }
                }

                TFBot
                {
                    Template G_Medic_Vac_Blast
                    ClassIcon medic_vac_trio_nys
                }
            }
        }

        WaveSpawn
        {
            Name 1ac
            Where spawnbot
            TotalCount 2
            SpawnCount 2

            TotalCurrency 10
            WaitForAllDead 1ab
            WaitBeforeStarting 5

            Squad
            {
                TFBot
                {
                    Template G_Soldier_Rapid_Giant
                    UseMeleeThreatPrioritization 1 

                    FireWeapon 
                    {
                        Delay 0
                        Cooldown .05
                        IfSeeTarget 1
                        Type Primary
                    }
                }

                TFBot
                {
                    Template G_Medic_Vac_Bullet
                    ClassIcon medic_vac_trio_nys
                }
            }
        }

        WaveSpawn
        {
            Name 1a
            Where spawnbot_side
            Where spawnbot_flank
            RandomSpawn 1
            TotalCount 50
            SpawnCount 5
            MaxActive 8

            WaitBetweenSpawns 2
            WaitBeforeStarting 1

            TotalCurrency 320

            RandomChoice
            {
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }

                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }
                
                TFBot
                {
                    Template G_Demo_Samurai
                }

                TFBot
                {
                    Template G_Demo_Samurai
                }

                TFBot
                {
                    Template T_TFBot_Demoman_Samurai
                    Tag bot_flank
                    Action Mobber
                    Attributes DisableDodge
                }
            }
        }

        WaveSpawn
        {
            Name 1b
            Where spawnbot
            TotalCount 6
            SpawnCount 2
            MaxActive 3
            Support 1

            WaitForAllDead 1ac
            WaitBetweenSpawns 26
            WaitBeforeStarting 5

            TotalCurrency 500

            Squad
            {
                ShouldPreserveSquad 1
                TFBot
                {
                    Template G_Heavy_Featherweight_Giant
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic

                    AimLeadProjectileSpeed 1
                }
            }
        }

        WaveSpawn
        {
            Where spawnbot_flank
            TotalCount 15
            SpawnCount 2
            MaxActive 4
            Support 1

            WaitForAllDead 1ac
            WaitBetweenSpawns 7

            TotalCurrency 150

            RandomChoice
            {
                TFBot
                {
                    Template G_Pyro_Detonator
                }

                TFBot
                {
                    Template G_Pyro_Detonator
                    Tag bot_flank
                }
            }
        }

        WaveSpawn
        {
            Name 1tank1
            TotalCount 1
            SpawnCount 1

            WaitForAllDead 1ac
            WaitBeforeStarting 3

            TotalCurrency 100

            Tank
            {
                Name tankboss_voidghost
                StartingPathTrackNode tank_path_voidghost_start
                Health 22500
                Speed 75

                DisableSmokeStack 1 
                Model models/bots/boss_bot/boss_tank_color.mdl 
                SpawnTemplate ColorTank 

                OnKilledOutput
                {
                    Target boss_dead_relay_voidghost
                    Action Trigger
                }

                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
    }

    Wave //Wave 2 - $900
    {
        CustomWaveNumber 2
        CustomMaxWaveNumber 5
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }

        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        WaveSpawn
        {
            Where spawnbot_side
            TotalCount 5
            SpawnCount 2
            MaxActive 2

            Support 1

            WaitBetweenSpawns 14

            TotalCurrency 50

            TFBot
            {
                Template G_Demo_Charge
                Tag bot_flank

                Action Mobber
                Attributes DisableDodge
            }
        }

        WaveSpawn
        {
            Name 2a
            Where spawnbot_flank
            TotalCount 8
            SpawnCount 1
            MaxActive 2

            WaitBetweenSpawns 12

            TotalCurrency 150

            TFBot
            {
                Name "Major League Scout"
                Class Scout
                ClassIcon scout_stun_giant
                Skill Expert
                Health 1600
                WeaponRestrictions MeleeOnly
                Item "Batter's Helmet"
                Item "The Sandman"
                Attributes MiniBoss
                Tag bot_giant

                AimLeadProjectileSpeed 3000
                
                ItemAttributes
                {
                    ItemName "The Sandman"
                    "effect bar recharge rate increased" 0.05
                    "mod stun waist high airborne" 1.5
                    "killstreak tier" 2
                    "killstreak idleeffect" 1
                }
                
                CharacterAttributes
                {
                    "damage force reduction" 0.35
                    "airblast vulnerability multiplier" 0.35
                    "airblast vertical vulnerability multiplier" 0.5
                    "override footstep sound set" 5
                }
            }
        }

        WaveSpawn
        {
            Name 2a
            Where spawnbot
            TotalCount 40
            SpawnCount 4
            MaxActive 8

            WaitBeforeStarting 1
            WaitBetweenSpawns 4

            TotalCurrency 200

            Squad
            {
                TFBot
                {
                    Template T_TFBot_Soldier_RocketShotgun
                    AimLeadProjectileSpeed 1
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic
                }
            }
        }

        WaveSpawn
        {
            Name 2b
            Where spawnbot
            TotalCount 15
            SpawnCount 5
            MaxActive 6

            WaitForAllDead 2a
            WaitBeforeStarting 2
            WaitBetweenSpawns 15

            TotalCurrency 400

            Squad
            {
                TFBot
                {
                    Name "Giant Burst Fire Demo"
                    Class Demoman
                    ClassIcon demo_loosecannon
                    Skill Expert
                    health 3300
                    Item "The Bomber Knight"
                    Item "The Hurt Locher"
                    Item "The Loose Cannon"
                    Attributes MiniBoss
                    Attributes HoldFireUntilFullReload
                    Tag bot_giant

                    AimAt Head 
                    AimLeadProjectileSpeed 1
                    UseMeleeThreatPrioritization 1 

                    ItemAttributes
                    {
                        ItemName "The Loose Cannon"
                        "grenade launcher mortar mode" -1
                        //"auto fires when full" 1
                        //"auto fires full clip" 1
                        "clip size upgrade atomic" 6
                        "fire rate bonus" 0.1
                        "reload time decreased" 0.4
                        "projectile speed increased" 1.6
                        "projectile spread angle penalty" 4
                    }

                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.25
                        "airblast vulnerability multiplier" 0.25
                        "airblast vertical vulnerability multiplier" 0.5
                        "override footstep sound set" 4
                    }
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic
                }

                TFBot
                {
                    Template G_Medic_BigHeal
                    ClassIcon medic
                }
            }
        }

        WaveSpawn
        {
            Where spawnbot_invasion
            TotalCount 13
            SpawnCount 1
            MaxActive 3

            WaitForAllDead 2a
            WaitBetweenSpawns 5

            TotalCurrency 18

            TFBot
            {
                Template G_Soldier_Grave_Digger
                Tag bot_flank

                Action Mobber
                Attributes DisableDodge

                DesiredAttackRange 50
                MoveBehindEnemy 1
            }
        }

        WaveSpawn
        {
            Name 2b
            Where spawnbot_side
            TotalCount 50
            SpawnCount 5
            MaxActive 10

            WaitForAllDead 2a
            WaitBetweenSpawns 5

            TotalCurrency 72

            RandomChoice
            {
                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Normal
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                }

                TFBot
                {
                    Class Scout
                    ClassIcon scout_fan
                    Skill Expert
                    Item "The Force-a-Nature"
                    Item "The Haunted Hat"
                    Tag bot_flank
                    Action Mobber 
                    Attributes DisableDodge

                    MaxVisionRange 800
                    DesiredAttackRange 150
                    MoveBehindEnemy 1
                }
            }
        }

        WaveSpawn
        {
            Name 2c
            Where spawnbot_flank
            TotalCount 2
            SpawnCount 2

            WaitForAllSpawned 2b
            WaitBeforeStarting 8

            TotalCurrency 10

            Squad
            {
                TFBot
                {
                    Name "Giant Burst Fire Demo"
                    Class Demoman
                    ClassIcon demo_loosecannon
                    Skill Expert
                    health 3300
                    Item "The Bomber Knight"
                    Item "The Hurt Locher"
                    Item "The Loose Cannon"
                    Attributes MiniBoss
                    Attributes HoldFireUntilFullReload
                    Tag bot_giant

                    AimAt Head 
                    AimLeadProjectileSpeed 1
                    UseMeleeThreatPrioritization 1 

                    ItemAttributes
                    {
                        ItemName "The Loose Cannon"
                        "grenade launcher mortar mode" -1
                        //"auto fires when full" 1
                        //"auto fires full clip" 1
                        "clip size upgrade atomic" 6
                        "fire rate bonus" 0.1
                        "reload time decreased" 0.4
                        "projectile speed increased" 1.6
                        "projectile spread angle penalty" 4
                    }

                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.25
                        "airblast vulnerability multiplier" 0.25
                        "airblast vertical vulnerability multiplier" 0.5
                        "override footstep sound set" 4
                    }
                }

                TFBot
                {
                    Template G_Medic_Kritz_Giant
                }
            }
        }
    }

    Wave //Wave 3 - $900
    {
        CustomWaveNumber 3
        CustomMaxWaveNumber 5
        StartWaveOutput
        {
            Target wave_start_relay_void
            Action Trigger
        }

        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        PlayerAttributes
        {
            "maxammo primary increased" 10
            "maxammo secondary increased" 10
            "increased air control" 2

            Engineer
            {
                "maxammo metal increased" 2
                "metal regen" 100
                "construction rate increased" 2
                "mult firerocket rate" 0.5
            }
        }

        WaveSpawn
        {
            Name dummy
            
            FirstSpawnWarningSound misc/halloween_eyeball/vortex_eyeball_died.wav
        }

        WaveSpawn
        {
            Name TimerStart
            Where ""
            TotalCount 1
            SpawnCount 1
            Support Limited
            
            WaitBeforeStarting 10

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Class Heavyweapons
                        ClassIcon timer_lite
                        Attributes SuppressFire
                        Scale 0.01
                        Health 354
                        Attributes UseBossHealthBar

                        CharacterAttributes
                        {
                            "dmg taken from blast reduced" 0
                            "dmg taken from bullets reduced" 0
                            "dmg taken from fire reduced" 0
                            "dmg taken from crit reduced" 0
                            "dmg from ranged reduced" 0
                            "move speed penalty" 0.001
                            "increased jump height" 0.1
                            "health regen" -1
                        }
                    }
                }
            }
        }

        WaveSpawn //Empty Announcer WaveSpawn
		{
			Name 60seconds
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_60sec.mp3"
			
			WaitBeforeStarting 316
		}
		
		WaveSpawn //Empty Announcer WaveSpawn
		{
			Name 30seconds
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_30sec.mp3"
			
			WaitBeforeStarting 349
		}
		
		WaveSpawn //Empty Announcer WaveSpawn
		{
			Name 10seconds
			Support 1
			FirstSpawnWarningSound "vo/announcer_ends_10sec.mp3"
			
			WaitBeforeStarting 370
		}

        WaveSpawn //Ends the wave after like 5:40
		{
			Name EndWave
			Support 1
			
			WaitBeforeStarting 381
			
			FirstSpawnOutput
			{
				Target boss_deploy_relay
				Action Trigger
			}
		}

        WaveSpawn
        {
            Name warning
            Where spawnbot_void1
            TotalCount 1
            SpawnCount 1

            Support Limited

            WaitBeforeStarting 0

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Name "You hear a voice..."
                        Class Scout
                        Attributes MiniBoss
                        Health 10
                        Scale 0.2
                        WeaponRestrictions MeleeOnly

                        CharacterAttributes
                        {
                            "health regen" -10
                        }
                    }
                }
            }
        }

        WaveSpawn
        {
            Name warning
            Where spawnbot_void1
            TotalCount 1
            SpawnCount 1

            Support Limited

            WaitBeforeStarting 2.25

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Name "beckoning you to the void..."
                        Class Scout
                        Attributes MiniBoss
                        Health 10
                        Scale 0.2
                        WeaponRestrictions MeleeOnly

                        CharacterAttributes
                        {
                            "health regen" -10
                        }
                    }
                }
            }
        }

        WaveSpawn
        {
            Name warning
            Where spawnbot_void1
            TotalCount 1
            SpawnCount 1

            Support Limited

            WaitBeforeStarting 4.5

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Name "an ominous presence looms..."
                        Class Scout
                        Attributes MiniBoss
                        Health 10
                        Scale 0.2
                        WeaponRestrictions MeleeOnly

                        CharacterAttributes
                        {
                            "health regen" -10
                        }
                    }
                }
            }
        }

        WaveSpawn
        {
            Name warning
            Where spawnbot_void1
            TotalCount 1
            SpawnCount 1

            Support Limited

            WaitBeforeStarting 6.75

            RandomChoice
            {
                Squad
                {
                    TFBot
                    {
                        Name "go forward and find it!"
                        Class Scout
                        Attributes MiniBoss
                        Health 10
                        Scale 0.2
                        WeaponRestrictions MeleeOnly

                        CharacterAttributes
                        {
                            "health regen" -10
                        }
                    }
                }
            }
        }

        WaveSpawn
        {
            Name dummy
            MaxActive 0
            Support 1

            WaitBeforeStarting 11

            FirstSpawnOutput
            {
                Target classic_mode_intel
                Action forceresetsilent
            }
        }
        
        WaveSpawn
        {
            Name 3bomb
            Where spawnbot_flank
            TotalCount 1
            SpawnCount 1
            MaxActive 1

            Support Limited

            WaitBeforeStarting 11
            
            TFBot
            {
                Name Joe
                Class Sniper
                Scale 0.1
                Attributes SuppressFire
                WeaponRestrictions MeleeOnly

                CharacterAttributes
                {
                    "move speed penalty" 0.0001
                    "voice pitch scale" 0
                    "hand scale" 0
                    "head scale" 0
                    "torso scale" 0
                    "dmg taken increased" 0
                    "damage force reduction" 0
                    "airblast vulnerability multiplier" 0
                    "increased jump height" 0.01
                    "override footstep sound set" 9
                }
            }
        }

        WaveSpawn
        {
            Name 3b
            Where spawnbot_void1
            Where spawnbot_void2
            Where spawnbot_void3
            TotalCount 33
            SpawnCount 3
            MaxActive 7

            WaitBeforeStarting 15
            WaitBetweenSpawns 3

            TotalCurrency 50

            TFBot
            {
                Name "Void Infantry"
                Class Sniper
                ClassIcon sniper_carbine
                Skill Normal
                Item "The Cleaner's Carbine"
                Item "Liquidator's Lid"
                WeaponRestrictions SecondaryOnly
                Attributes DisableDodge

                CharacterAttributes
                {
                    "airblast vulnerability multiplier" 0.25
                    "damage force reduction" 0.25
                }
            }
        }

        WaveSpawn
        {
            Name 3b
            Where spawnbot_void4
            TotalCount 4
            SpawnCount 1
            MaxActive 2

            WaitBeforeStarting 20
            WaitBetweenSpawns 14

            TotalCurrency 350

            RandomChoice
            {
                TFBot
                {
                    Name "Void Arrow"
                    Template G_Sniper_Huntsman_Rapid_Giant
                    ClassIcon sniper_bow_uw
                    Attributes DisableDodge

                    AimLeadProjectileSpeed 1 

                    ItemAttributes
                    {
                        ItemName "The Huntsman"
                        "projectile speed increased" 1.5
                    }

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0
                        "damage force reduction" 0
                    }
                }

                TFBot
                {
                    Name "Void Blood"
                    Template G_Sniper_Huntsman_Barbed_Giant
                    ClassIcon sniper_bow_uw
                    Attributes DisableDodge

                    AimLeadProjectileSpeed 1 

                    ItemAttributes
                    {
                        ItemName "The Fortified Compound"
                        "projectile speed increased" 1.5
                    }

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0
                        "damage force reduction" 0
                    }
                }

                TFBot
                {
                    Name "Void Ignition"
                    Template G_Sniper_Huntsman_Ignite_Giant
                    ClassIcon sniper_bow_uw
                    Attributes DisableDodge

                    AimLeadProjectileSpeed 1 

                    ItemAttributes
                    {
                        ItemName "The Huntsman"
                        "projectile speed increased" 1.5
                    }

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0
                        "damage force reduction" 0
                    }
                }
            }
        }

        WaveSpawn
        {
            Name 3c
            Where spawnbot_void1
            Where spawnbot_void3
            Where spawnbot_void4
            RandomSpawn 1
            TotalCount 10
            SpawnCount 2
            MaxActive 2

            WaitForAllSpawned 3b
            WaitBeforeStarting 15
            WaitBetweenSpawns 15

            TotalCurrency 100

            TFBot
            {
                Name "Void Rusher"
                Template G_Scout_Super_Giant
                Item "The Haunted Hat"
                Item "The Fan o'War"
                Attributes DisableDodge

                FastUpdate 1

                CharacterAttributes
                {
                    "cancel falling damage" 1
                    "airblast vulnerability multiplier" 0
                    "damage force reduction" 0
                }
            }
        }

        WaveSpawn
        {
            Name 3c
            Where spawnbot_void1
            Where spawnbot_void4
            TotalCount 40
            SpawnCount 4
            MaxActive 8

            WaitForAllDead 3b
            WaitBeforeStarting 3
            WaitBetweenSpawns 5

            TotalCurrency 50

            Squad
            {
                TFBot
                {
                    Name "Void Mines"
                    Template G_Demo_Stickybomb
                    Attributes DisableDodge
                    AimAt Feet

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0.25
                        "damage force reduction" 0.25
                    }
                }

                TFBot
                {
                    Name "Void Aid"
                    Template G_Medic_QuickUber
                    Attributes DisableDodge

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0.25
                        "damage force reduction" 0.25
                    }
                }

                TFBot   
                {
                    Name "Void Fury"
                    Skill Normal
                    Template G_Pyro_Fury
                    Attributes DisableDodge

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "airblast vulnerability multiplier" 0.25
                        "damage force reduction" 0.25
                    }
                }

                TFBot
                {
                    Name "Void Fury"
                    Skill Normal
                    Template G_Pyro_Fury
                    Attributes DisableDodge

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "damage force reduction" 0.25
                        "airblast vulnerability multiplier" 0.25
                    }
                }
            }
        }

        WaveSpawn
        {
            Name 3preface
            Where spawnbot_void1
            Where spawnbot_void3
            RandomSpawn 1
            TotalCount 27
            SpawnCount 3
            MaxActive 7
            
            WaitForAllDead 3c
            WaitBeforeStarting 2
            WaitBetweenSpawns 3

            TotalCurrency 50
            
            TFBot
            {
                Name "Void Infantry"
                Class Sniper
                ClassIcon sniper_carbine
                Skill Normal
                Item "Upgradeable TF_WEAPON_SMG"
                Item "Liquidator's Lid"
                WeaponRestrictions SecondaryOnly
                Attributes DisableDodge
                
                UseMeleeThreatPrioritization 1 

                CharacterAttributes
                {
                    "airblast vulnerability multiplier" 0.25
                    "damage force reduction" 0.25
                }
            }
        }

        WaveSpawn
        {
            Name 3preface
            Where spawnbot_void4
            TotalCount 2
            SpawnCount 2
            MaxActive 2
            
            WaitForAllDead 3c
            WaitBeforeStarting 2
            WaitBetweenSpawns 5

            TotalCurrency 100
            
            Squad
            {
                TFBot
                {
                    Name "Void Rage"
                    Template G_Heavy_Deflector_Giant
                    ClassIcon heavy_deflector_push
                    Attributes DisableDodge
                    Attributes SpawnWithFullCharge

                    ItemAttributes
                    {
                        ItemName "Deflector"
                        "generate rage on damage" 3
                        "increase buff duration" 1001
                        //"deploy time decreased" 0.25
                        //"gesture speed increase" 2
                        "fire rate penalty" 2.5
                        "bullets per shot bonus" 1.5
                        "damage bonus" 1.2
                        "dmg bonus vs buildings" 2
                    }

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "damage force reduction" 0
                        "airblast vulnerability multiplier" 0
                    }

                    FireWeapon
                    {
                        Delay 1
                        Cooldown 0
                        Type Secondary
                    }

                    Taunt
                    {
                        Delay 3
                        Cooldown 3
                        Repeats 1
                    }
                }

                TFBot
                {
                    Name "Void Immortality"
                    Template G_Medic_Uber_Giant
                    Attributes DisableDodge

                    CharacterAttributes
                    {
                        "cancel falling damage" 1
                        "override footstep sound set" 5
                    }
                }
            }
        }

        WaveSpawn
        {
            Name 3bossnoise

            WaitForAllDead 3preface
            WaitBeforeStarting 4

            FirstSpawnWarningSound misc/halloween/clock_tick.wav
        }

        WaveSpawn
        {
            Name 3bossnoise

            WaitForAllDead 3preface
            WaitBeforeStarting 6

            FirstSpawnWarningSound misc/halloween/clock_tick.wav
        }

        WaveSpawn
        {
            Name 3bossnoise

            WaitForAllDead 3preface
            WaitBeforeStarting 8

            FirstSpawnWarningSound misc/halloween/clock_tick.wav
        }

        WaveSpawn
        {
            Name 3boss
            Where spawnbot_void1
            TotalCount 1
            SpawnCount 1

            WaitForAllDead 3preface
            WaitBeforeStarting 10

            FirstSpawnWarningSound misc/halloween/spell_spawn_boss.wav

            TotalCurrency 200
            
            TFBot
            {
                Template G_Demo_Spook
                Health 20000
                Attributes DisableDodge
                UseMeleeThreatPrioritization 1 
                FastUpdate 1
                Action Mobber

                CharacterAttributes
                {
                    "cancel falling damage" 1
                }
            }
        }
    }

    Wave //Wave 4 - $800
    {
        CustomWaveNumber 4
        CustomMaxWaveNumber 5
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }

        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        WaveSpawn
        {
            Where spawnbot_invasion
            TotalCount 10
            SpawnCount 1
            MaxActive 2

            Support 1

            WaitBeforeStarting 1
            WaitBetweenSpawns 10

            TotalCurrency 260

            TFBot
            {
                Class Heavy
                Skill Normal
                Tag bot_flank

                UseMeleeThreatPrioritization 1
                FastUpdate 1

                Action Mobber
            }
        }

        WaveSpawn
        {
            Name 4a
            Where spawnbot_invasion
            TotalCount 45
            SpawnCount 3
            MaxActive 8

            WaitBetweenSpawns 4
            WaitBeforeStarting 1

            TotalCurrency 140

            RandomChoice
            {
                TFBot
                {
                    Class Engineer
                    Skill Hard
                    Item "The Haunted Hat"
                    Item "The Rescue Ranger"
                    Attributes AlwaysCrit

                    Action FetchFlag
                }

                TFBot
                {
                    Class Engineer
                    Skill Expert
                    Health 300
                    Scale 1.25
                    Item "The Haunted Hat"
                    Item "Panic Attack Shotgun"

                    Action Mobber
                    Attributes DisableDodge
                    DesiredAttackRange 125
                }

                TFBot
                {
                    Class Engineer
                    Skill Hard
                    Health 325
                    Scale 1.25
                    Item "The Haunted Hat"
                    Item "Golden Wrench"
                    Attributes AlwaysCrit
                    WeaponRestrictions MeleeOnly

                    Action Mobber
                    Attributes DisableDodge
                    DesiredAttackRange 50
                    MoveBehindEnemy 1

                    Attributes AutoJump
                    AutoJumpMin 2
                    AutoJumpMax 6

                    FastUpdate 1

                    VoiceCommand 
                    {
                        Delay 0
                        Cooldown 5
                        IfSeeTarget 1
                        Type "Battle Cry"
                    }
                }

                TFBot
                {
                    Class Engineer
                    Skill Hard
                    Item "The Haunted Hat"
                    Item "The Widowmaker"
                    WeaponRestrictions SecondaryOnly

                    Action FetchFlag
                }

                TFBot
                {
                    Class Engineer
                    Skill Expert
                    Item "The Haunted Hat"
                    WeaponRestrictions SecondaryOnly

                    Action FetchFlag
                }
            }
        }

        WaveSpawn
        {
            Name 4a
            Where spawnbot
            TotalCount 6
            SpawnCount 2
            MaxActive 3

            WaitBetweenSpawns 18

            TotalCurrency 100

            Squad
            {
                TFBot
                {
                    Template G_Heavy_Apocofist_Giant
                    Attributes AlwaysCrit

                    MaxVisionRange 800

                    ExtAttr JumpStomp
                    FastUpdate 1
                    AimTrackingInterval 0

                    ExtAttr IgnoreBuildings

                    CharacterAttributes
                    {
                        "always allow taunt" 1
                        "damage penalty" 0.1
                        "dmg penalty vs players" 10
                        "dmg bonus vs buildings" 10
                    }

                    Taunt
                    {
                        Delay 3
                        Cooldown 8
                        IfSeeTarget 1
                    }
                }

                TFBot
                {
                    Template G_Medic_Uber_Giant
                }
            }
        }

        WaveSpawn
        {
            Name 4b
            Where spawnbot_flank
            TotalCount 4
            SpawnCount 1
            MaxActive 2

            WaitForAllDead 4a
            WaitBeforeStarting 2
            WaitBetweenSpawns 22

            TotalCurrency 30

            TFBot
            {
                Template G_Heavy_Enrage_Giant
                UseMeleeThreatPrioritization 1 
                FastUpdate 1
            }
        }

        WaveSpawn
        {
            Name 4b
            Where spawnbot_side
            TotalCount 30
            SpawnCount 2
            MaxActive 6
            
            WaitforAllDead 4a
            WaitBeforeStarting 2
            WaitBetweenSpawns 5

            Squad
            {
                TFBot
                {
                    Name "Frontier Justice"
                    Class Engineer
                    Skill Normal
                    Item "The Frontier Justice"
                    Item "The Frontier Djustice"
                    Item "The Texas Half-Pants"
                    Attributes AlwaysCrit
                    Attributes HoldFireUntilFullReload
                    Action FetchFlag
                }

                TFBot
                {
                    Template G_Medic_Uber
                }
            }
        }

        WaveSpawn
        {
            Name 4b
            TotalCount 1
            SpawnCount 1

            WaitForAllSpawned 4a
            WaitBeforeStarting 10

            TotalCurrency 270

            Tank
            {
                Name tankboss_voidghost
                StartingPathTrackNode tank_path_voidghost_start
                Health 30000
                Speed 70

                DisableSmokeStack 1 
                Model models/bots/boss_bot/boss_tank_color.mdl 
                SpawnTemplate ColorTank 

                OnKilledOutput
                {
                    Target boss_dead_relay_voidghost
                    Action Trigger
                }

                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
    }

    Wave //Wave 5 - $800
    {
        CustomWaveNumber 5
        CustomMaxWaveNumber 5
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }

        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        WaveSpawn
        {
            Name 5a
            Where spawnbot_flank
            TotalCount 4
            SpawnCount 1
            MaxActive 1

            WaitBetweenSpawnsAfterDeath 5

            TotalCurrency 204

            TFBot
            {
                Name "Giant Homing Soldier"
                Class Soldier
                ClassIcon soldier_rocketrain_homing_nys
                Skill Expert
                Health 4200
                Item gentlemanne_rocketlauncher_coffinnail
                Item "The Gunboats"
                Item "Merc's Pride Scarf"
                Item "Exquisite Rack"
                Attributes MiniBoss
                Attributes HoldFireUntilFullReload
                Attributes SuppressFire
                Tag bot_giant
                Scale 1.85
                StripItemSlot 2

                AimOffset "0 0 2000"

                RocketCustomParticle eyeboss_projectile 

                AddCond
                {
                    Index 36
                }

                HomingRockets
                {
                    IgnoreDisguisedSpies 1
                    IgnoreStealthedSpies 0
                    TurnPower 500
                    MaxAimError 250
                    RocketSpeed 0.5
                }

                FireWeapon
                {
                    Delay 0
                    Cooldown 3.5
                    IfSeeTarget 1
                }
                    
                ItemAttributes
                {
                    ItemName gentlemanne_rocketlauncher_coffinnail
                    "killstreak tier" 2
                    "killstreak idleeffect" 1
                    "set_item_texture_wear" 0
                    "mult projectile count" 10
                    "mini rockets" 1
                    "reload time decreased" 0.05
                    "projectile spread angle penalty" 75
                    "damage penalty" 0.8
                    "hand scale" 1.1
                }
                    
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.2
                    "airblast vulnerability multiplier" 0.2
                    "airblast vertical vulnerability multiplier" 0.5
                    "override footstep sound set" 3
                }
            }
        }

        WaveSpawn
        {
            Name 5a
            Where spawnbot_side
            TotalCount 40
            SpawnCount 4
            MaxActive 9

            WaitBeforeStarting 1
            WaitBetweenSpawns 6

            TotalCurrency 196

            Squad
            {
                TFBot
                {
                    Template G_Scout_Bonk
                }

                TFBot
                {
                    Template G_Medic_Uber
                }
            }
        }

        WaveSpawn
        {
            Name 5b
            TotalCount 1
            SpawnCount 1

            WaitForAllDead 5a

            TotalCurrency 100

            Tank
            {
                Name tankboss_voidghost
                StartingPathTrackNode tank_path_voidghost_start
                Health 20000
                Speed 150

                DisableSmokeStack 1 
                Model models/bots/boss_bot/boss_tank_color.mdl 
                SpawnTemplate ColorTank 

                OnKilledOutput
                {
                    Target boss_dead_relay_voidghost
                    Action Trigger
                }

                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }

        WaveSpawn
        {
            Name 5b
            TotalCount 1
            SpawnCount 1

            WaitForAllDead 5a
            WaitBeforeStarting 3

            TotalCurrency 100


            Tank
            {
                Name tankboss_underworld
                StartingPathTrackNode tank_path_bridge1
                Health 20100
                Speed 148

                DisableSmokeStack 1 
                Model models/bots/boss_bot/boss_tank_color.mdl 
                SpawnTemplate ColorTank 

                OnKilledOutput
                {
                    Target boss_dead_relay_underworld
                    Action Trigger
                }

                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }

        WaveSpawn
        {
            Name 5c
            Where spawnbot_invasion
            RandomSpawn 1
            TotalCount 24
            SpawnCount 4
            MaxActive 8

            WaitForAllSpawned 5b
            WaitBeforeStarting 8
            WaitBetweenSpawns 4

            TotalCurrency 50

            Squad
            {
                TFBot
                {
                    Class Heavy
                    Skill Normal
                    Item Tomislav
                }

                TFBot
                {
                    Template G_Medic_Uber
                }
            }
        }

        WaveSpawn
        {
            Name 5d
            Where spawnbot_invasion
            RandomSpawn 1
            TotalCount 12
            SpawnCount 4
            MaxActive 8

            WaitForAllSpawned 5c
            WaitBeforeStarting 4
            WaitBetweenSpawns 5

            TotalCurrency 50

            Squad
            {
                TFBot
                {
                    Class Heavy
                    Skill Hard
                    Item Tomislav
                    Item "The War Goggles"
                    Tag bot_flank

                    UseMeleeThreatPrioritization 1

                    ItemAttributes
                    {
                        ItemName "Upgradeable TF_WEAPON_MINIGUN"
                        "is australium item" 1
                        "item style override" 1
                    }

                    ItemAttributes
                    {
                        ItemName "The War Goggles"
                        "set item tint rgb" 15185211
                    }
                }

                TFBot
                {
                    Template G_Medic_Shield
                }
            }
        }

        WaveSpawn
        {
            Name 5d
            Where spawnbot
            TotalCount 3
            SpawnCount 1
            MaxActive 3

            WaitForAllDead 5b
            WaitBetweenSpawns 18
            WaitBeforeStarting 6

            TotalCurrency 150

            TFBot
            {
                Name "Giant Shotgun Heavy"
                Class Heavyweapons
                ClassIcon heavy_shotgun
                Skill Expert
                Health 5000
                Attributes MiniBoss
                WeaponRestrictions SecondaryOnly
                Item "Panic Attack Shotgun"
                Item "The Alternative Medicine Mann"
                Item "Forgotten King's Pauldrons"
                Item "Shin Shredders"
                Tag bot_giant
                Tag bot_flank
                MaxVisionRange 800

                Action Mobber
                NoIdleSound 1
                StripItemSlot 0
                
                ItemAttributes
                {
                    ItemName "Panic Attack Shotgun"
                    "fire rate bonus" 2.5
                    "bullets per shot bonus" 10
                    "damage penalty" 0.5
                    "reload time increased hidden" 0.05
                    "mod no reload display only" 1
                    "killstreak tier" 2
                    "killstreak idleeffect" 1
                }
                
                CharacterAttributes
                {
                    "move speed bonus"	0.7
                    "damage force reduction" 0.15
                    "airblast vulnerability multiplier" 0.15
                    "airblast vertical vulnerability multiplier" 0.5
                    "override footstep sound set" 2
                }
            }
        }

        WaveSpawn
        {
            Name bleedsupport
            Where
            {
                Relative Anywhere
                MaxDistance 2000
                MinDistance 1000
            }
            Support 1
            SpawnCount 3
            MaxActive 10

            WaitForAllDead 5d
            WaitBeforeStarting 3

            TFBot
            {
                Name "Cloaked Sniper"
                Template G_Sniper_Silent
                Action Sniper

                ItemAttributes
                {
                    ItemName "The Hitman's Heatmaker"
                    "mark for death" 1
                    "damage penalty" 0.25
                    "damage causes airblast" 1
                    "reload time increased" 2
                }

                AddCond
                {
                    Index 66
                    Delay 4
                }
            }
        }

        WaveSpawn
        {
            Name bleed
            Where spawnbot
            TotalCount 1
            SpawnCount 1

            WaitForAllDead 5d
            WaitBeforeStarting 7

            FirstSpawnWarningSound misc/halloween/hwn_dance_howl.wav

            TFBot
            {
                Template G_Medic_Hemorrhage
                Action FetchFlag
                
                UseMeleeThreatPrioritization 1
                AimAt Body
                AimLeadProjectileSpeed 2000

                CharacterAttributes
                {
                    "wet immunity" 1
                }
            }
        }

        WaveSpawn
        {
            Name dummy
            Support 1

            TFBot
            {
                Class Engineer
                Attributes AlwaysCrit
            }
        }
    }

    Templates
    {
        G_Trash_Panda
        {
            Name "Back Alley Biter"
            Class Pyro
            ClassIcon trashpanda
            Skill Hard
            Health 65
            Scale 0.6
            Item "Racc Mann"
            Item "The Back Scratcher"
            WeaponRestrictions MeleeOnly

            ItemAttributes
            {
                ItemName "The Back Scratcher"
                "bleeding duration" 5
                "mark for death" 1
                "dmg from ranged reduced" 0.125
                "dmg from melee increased" 2
                "fire rate penalty" 2
                "bombinomicon effect on death" 1
            }

            CharacterAttributes
            {
                "torso scale" 0
                "head scale" 3.35
                "hand scale" 0.8
                "gesture speed increase" 2
                "voice pitch scale" 1.25
                "override footstep sound set" 9
                "move speed bonus" 1.3
                "damage force reduction" 0.5
                "airblast vulnerability multiplier" 0.5
            }
        }

        G_Sniper_Void_Rail
        {
            Name "Void Rail"
            Class Sniper
            Skill Hard
            Item "Shooting Star"
            Item "The Shahanshah"
            Item "Corona Australis"
            Item "The Toowoomba Tunic"
            Item "eotl_demopants"
            MaxVisionRange 1600

            ItemAttributes
            {
                ItemName "Shooting Star"
                "sniper charge per sec" 0
                "damage causes airblast" 1
                "apply z velocity on damage" -3000
                "voice pitch scale" 0.75
            }
        }

        G_Soldier_Grave_Digger
        {
            Name "Grave Digger"
            Class Soldier
            ClassIcon soldier_shovel
            Skill Hard
            Health 1200
            Scale 1.5
            Item "The Hat With No Name"
            Item "Upgradeable TF_WEAPON_SHOVEL"
            WeaponRestrictions MeleeOnly
            
            ItemAttributes
            {
                ItemName "Upgradeable TF_WEAPON_SHOVEL"
                "damage causes airblast" 1
                "apply z velocity on damage" -1500
                "fire rate penalty" 1.25
                "damage bonus" 1.5
                "melee range multiplier" 1.2
            }

            CharacterAttributes
            {
                "move speed bonus" 1.1
                "damage force reduction" 0.5
                "airblast vulnerability multiplier" 0.5
                "head scale" 0.7
                "voice pitch scale" 1.25
                "hand scale" 1.2
                "health regen" 5
            }
        }
        
        G_Sniper_Void_Stalker
        {
            Name "Void Stalker"
            Class Sniper
            Skill Hard
            Item "Spine-Chilling Skull 2011 Style 2"
            Item "The Triggerman's Tacticals"
            Item "The Hitman's Heatmaker"
            Item "The Tribalman's Shiv"
            Attributes DisableDodge
            Attributes AlwaysCrit

            ItemAttributes
            {
                ItemName "The Hitman's Heatmaker"
                "silent killer" 1
                "cancel falling damage" 1
                "voice pitch scale" 0.75
            }
        }

        G_Heavy_Void_Remnant
        {
            Name "Void Remnant"
            Class Heavyweapons
            ClassIcon sniper
            Item "Hellhunter's Headpiece"
            Item "The Triggerman's Tacticals"
            Item "harvest_minigun_macabreweb"
            Attributes DisableDodge

            ItemAttributes
            {
                ItemName "harvest_minigun_macabreweb"
                "weapon spread bonus" 0
                "fire rate penalty" 6
                "bullets per shot bonus" 0.5
                "mark for death" 1
                "damage causes airblast" 1
                "sniper fires tracer hidden" 1
                "slow enemy on hit" 1
                "attach particle effect" 702
                "set_item_texture_wear" 1
                "cancel falling damage" 1
                "voice pitch scale" 0.75
            }
        }

        G_Heavy_Void_Remnant_Giant
        {
            Name "Void Remnant"
            Class Heavyweapons
            ClassIcon sniper
            Skill Expert
            Health 5000
            Item "Hellhunter's Headpiece"
            Item "The Triggerman's Tacticals"
            Item "harvest_minigun_macabreweb"
            Attributes DisableDodge
            Attributes MiniBoss

            ItemAttributes
            {
                ItemName "harvest_minigun_macabreweb"
                "weapon spread bonus" 0
                "fire rate penalty" 6
                "bullets per shot bonus" 0.75
                "mark for death" 1
                "damage causes airblast" 1
                "sniper fires tracer hidden" 1
                "slow enemy on hit" 5
                "attach particle effect" 702
                "set_item_texture_wear" 1
                "cancel falling damage" 1
            }

            CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.15
				"airblast vulnerability multiplier" 0.15
				"override footstep sound set" 2
			}
        }

        G_Demo_Samurai
        {
            Name "Samurai Demoknight"
            Template T_TFBot_Demoman_Knight
            ClassIcon demoknight_samurai
            Health 200
            Item "Demo Kabuto"
            Item "The Splendid Screen"
            Item "Ali Baba's Wee Booties"
            Item "The Half-Zatoichi"
        }
    }

    PointTemplates
    {
        ColorTank
        {
            OnSpawnOutput
            {
                Target "!activator"
                Action "color"
                Param  "41 21 61"
            }
        }
    }
}
