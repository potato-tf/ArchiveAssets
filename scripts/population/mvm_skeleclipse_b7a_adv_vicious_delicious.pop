//	Mission made by BlacKy -> -> https://steamcommunity.com/profiles/76561197970217314/
//	Massive thanks to Lazy, Oskar and Murko who helped me playtest the mission and custom weapons.
//	Also thanks to Ptyx and other potato heads who helped me with problem solving in custom weapons and other scripty stuff.

//	===Credit Statistics===
//	Starting Credits         : 1300
//	Total Dropped Credits    : 4700
//	Total Bonus Credits      : 400
//	Maximum Possible Credits : 6400
//	W1:  900
//	W2:  900
//	W3:  950
//	W4: 1050
//	W5:	 900



#base robot_giant.pop
#base robot_standard.pop
#base robot_blacky_weps_vd.pop
//#base	blacky_restricts.pop	//	This popfile blocks uber/crit canteens, EH, and RS for bazooka

population
{
	StartingCurrency	1300
	RespawnWaveTime		4
	CanBotsAttackWhileInSpawnRoom	no
	AddSentryBusterWhenDamageDealtExceeds	3000
	Advanced	1
	Mission
	{
		Objective	DestroySentries
		Where	spawnbot
		BeginAtWave	1
		RunForThisManyWaves	5
		InitialCooldown	30
		CooldownTime	30
		DesiredCount	1
		TFBot
		{
			Template	T_TFBot_SentryBuster
			Item		"The Bone Cone"
			ItemAttributes
			{
				ItemName	"The Bone Cone"
				"SPELL: set item tint RGB"	5	//	Cycles between many halloween paints
			}
			CharacterAttributes
			{
				"rage giving scale"	0.75
				"Head scale"	2
				"torso scale"	0.3
			//	"SPELL: set Halloween footstep type"	1			//	dark green
			//	"SPELL: set halloween footstep type"	2			//	purple
			//	"SPELL: set Halloween footstep type"	8421376		//	orange
				"SPELL: set Halloween footstep type"	32452877	//	TVoT (RED)
				"SPELL: Halloween voice modulation"		1
				"SPELL: Halloween death ghosts"			1
			}
		}
	}
	Mission
	{
		Objective	Sniper
		Where	spawnbot_left
		Where	spawnbot_right
		BeginAtWave	1
		RunForThisManyWaves	1
		InitialCooldown	40
		CooldownTime	40
		DesiredCount	1
		TFBot
		{
			Template	T_TFBot_Sniper
		}
	}
	Mission
	{
		Objective	Spy
		Where	spawnbot
		BeginAtWave	2
		RunForThisManyWaves	1
		InitialCooldown	30
		CooldownTime	45
		DesiredCount	2
		TFBot
		{
			Template	T_TFBot_Spy
		}
	}
	//Mission
	//{
	//	Objective	Engineer
	//	Where	spawnbot_left
	//	BeginAtWave	3
	//	RunForThisManyWaves	1
	//	InitialCooldown	40
	//	CooldownTime	40
	//	DesiredCount	1
	//	TFBot
	//	{
	//		Template	T_TFBot_Engineer_Sentry_Battle_TeleIn
	//	}
	//}
	Mission
	{
		Objective	Sniper
		Where	spawnbot_left
		BeginAtWave	3
		RunForThisManyWaves	1
		InitialCooldown	25
		CooldownTime	40
		DesiredCount	1
		TFBot
		{
			Template	T_TFBot_Sniper
		}
	}
	Mission
	{
		Objective	Spy
		Where	spawnbot
		BeginAtWave	5
		RunForThisManyWaves	1
		InitialCooldown	30
		CooldownTime	45
		DesiredCount	3
		TFBot
		{
			Template	T_TFBot_Spy
		}
	}
	Templates
	{
		//	- - - - - - - - - - - - - - - - - - - - - - - - STANDARD - - - - - - - - - - - - - - - - - - - - - - - -
		//	- - - - - - - - - - - - - - - - - - - - - - - - STANDARD - - - - - - - - - - - - - - - - - - - - - - - -
		//	- - - - - - - - - - - - - - - - - - - - - - - - STANDARD - - - - - - - - - - - - - - - - - - - - - - - -
		//	- - - - - - - - - - - - - - - - - - - - - - - - STANDARD - - - - - - - - - - - - - - - - - - - - - - - - 
		
		T_TFBot_Soldier_Barrage_conch
		{
			Health	200
			Name	"Barrage Soldier"
			Class	Soldier
			Skill	Hard
			Classicon	soldier_barrage_conch_seel
			Item 		"Upgradeable TF_WEAPON_ROCKETLAUNCHER"
			Item		"The Concheror"
			Attributes	HoldFireUntilFullReload
			Attributes  SpawnWithFullCharge
			CharacterAttributes
			{
				"increase buff duration"	9.0
			}
			ItemAttributes
			{
				Itemname	"Upgradeable TF_WEAPON_ROCKETLAUNCHER"
				"Damage Bonus"	0.5
				"clip size bonus"	3
				"Projectile speed increased"	0.5
				"faster reload rate"	0.5
				"fire rate bonus"	0.5
			}
		}
		T_TFBot_Soldier_Uncharged
		{
			Class Soldier
			Name "Uncharged Soldier"
			ClassIcon soldier_crit
			Skill Normal
			Health 200
			Item "The Original"
			WeaponRestrictions PrimaryOnly
			ItemAttributes
			{
				ItemName "The Original"
				"faster reload rate" 0.2
				"fire rate bonus" 2
				"Projectile speed increased" 0.5
			}
		}
		T_TFBot_Pyro_DF
		{
			Health	175
			Name	"Dragon Fury Pyro"
			Class	Pyro
			Skill	Normal
			MaxVisionRange 1000
			item 	"the dragon's fury"
			Item	"Pyromancer's Mask"
			classicon pyro_dragon_fury_swordstone
		}
		T_TFBot_Demo_Sticky
		{
			Class 				Demoman
			Health				175
			Skill 				Expert
			Name				"Sticky Demoman"
			WeaponRestrictions	SecondaryOnly
			Classicon 			demo_sticky_daan
			ItemAttributes
			{
				ItemName "TF_WEAPON_PIPEBOMBLAUNCHER"
				"stickybomb charge rate" 		0.03
				"max pipebombs decreased" 		-7
				"Projectile range increased" 	0.5
			}
			ItemAttributes
			{
				ItemName "TF_WEAPON_GRENADELAUNCHER"
				"is_passive_weapon" 1
				"override projectile type" 27
			}
			CharacterAttributes
			{
				"No self blast dmg"	2
			}
		}
		T_TFBot_Heavyweapons_Deflector
		{
			Class Heavyweapons
			Name "Deflector Heavy"
			ClassIcon heavy_deflector
			Skill Hard
			Item "The U-clank-a"
			Item "Deflector"
			WeaponRestrictions PrimaryOnly
			MaxVisionRange 1200
			ItemAttributes 
			{
				ItemName "Deflector"
				"attack projectiles" 1
			}
		}
		T_TFBot_Heavyweapons_Natascha
		{
			Class 		Heavyweapons
			Skill		Hard
			Classicon	heavy_natascha_nys
			Name		"Natascha Heavy"
			Item 		"Natascha"
			Item		"Mad mask"
		}
		T_TFBot_Medic_Kritz_shield
		{
			Health	150
			Name	"Kritzkrieg Medic"
			Class	Medic
			Skill	Expert
			Item	"the Kritzkrieg"
			Classicon	medic_kritz_shield_lite
			WeaponRestrictions	SecondaryOnly
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Attributes	ProjectileShield
			CharacterAttributes
			{
				"bot medic uber health threshold" 	300
				"generate rage on heal"	2
			}
			ItemAttributes
			{
				ItemName	"the Kritzkrieg"
				"uber duration bonus" 999
			}
		}
		T_TFBot_Medic_KritzRoll
		{
			Class	Medic
			Name	"Medic Kritz Flash"
			Skill	Expert
			ClassIcon	medic_kritz_flash
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			WeaponRestrictions SecondaryOnly
			Item	"The Kritzkrieg"
			ItemAttributes
			{
				ItemName "The Kritzkrieg"
				"ubercharge rate bonus"		75
				"uber duration bonus"		-7
				"heal rate bonus"			500
			}
			CharacterAttributes
			{
				"move speed bonus"					1.2
				"damage force reduction"			0.6
				"airblast vulnerability multiplier" 0.6
				"bot medic uber health threshold"	100000
			}
		}
		T_TFBot_Fixed_Medic_Vaccinator_Bullet
		{
			Class Medic
			Skill Expert
			Item "tf_weapon_medigun"
			Name "Bullet Vac Medic"
			classicon	medic_vac_trio_nys
			Attributes	SpawnWithFullCharge
			Attributes	VaccinatorBullets
			Attributes	IgnoreEnemies
			WeaponRestrictions	SecondaryOnly
			CharacterAttributes
			{
				"ubercharge rate bonus" 25
                "bot medic uber health threshold"    350
			}
            ItemAttributes
            {
                ItemName    tf_weapon_medigun
                "heal rate bonus"    5
                "medigun fire resist passive"    0.5
                "medigun fire resist deployed"    0.5
                "medigun charge is resists"    3
                "lunchbox adds minicrits"    3
				"ubercharge rate bonus"	20
				//"uber duration bonus"	-6
            }
			ItemAttributes
			{
				ItemName "TF_WEAPON_SYRINGEGUN_MEDIC"
				"damage penalty" 0.1
			}
		}
		T_TFBot_Fixed_Medic_Vaccinator_Blast
		{
			Class Medic
			Skill Expert
			Item "tf_weapon_medigun"
			Name "Blast Vac Medic"
			classicon	medic_vac_trio_nys
			Attributes	SpawnWithFullCharge
			Attributes	VaccinatorBlast
			Attributes	IgnoreEnemies
			WeaponRestrictions	SecondaryOnly
			CharacterAttributes
			{
				"ubercharge rate bonus" 25
                "bot medic uber health threshold"    350
			}
            ItemAttributes
            {
                ItemName    tf_weapon_medigun
                "heal rate bonus"    5
                "medigun fire resist passive"    0.5
                "medigun fire resist deployed"    0.5
                "medigun charge is resists"    4
                "lunchbox adds minicrits"    3
				"ubercharge rate bonus"	20
				//"uber duration bonus"	-6
            }
			ItemAttributes
			{
				ItemName "TF_WEAPON_SYRINGEGUN_MEDIC"
				"damage penalty" 0.1
			}
		}
		T_TFBot_Fixed_Medic_Vaccinator_Fire
		{
			Class Medic
			Skill Expert
			Item "tf_weapon_medigun"
			Name "Fire Vac Medic"
			classicon	medic_vac_trio_nys
			Attributes	SpawnWithFullCharge
			Attributes	VaccinatorFire
			Attributes	IgnoreEnemies
			WeaponRestrictions	SecondaryOnly
			CharacterAttributes
			{
				"ubercharge rate bonus" 25
                "bot medic uber health threshold"    350
			}
            ItemAttributes
            {
                ItemName    tf_weapon_medigun
                "heal rate bonus"    5
                "medigun fire resist passive"    0.5
                "medigun fire resist deployed"    0.5
                "medigun charge is resists"    5
                "lunchbox adds minicrits"    3
				"ubercharge rate bonus"	20
				//"uber duration bonus"	-6
            }
			ItemAttributes
			{
				ItemName "TF_WEAPON_SYRINGEGUN_MEDIC"
				"damage penalty" 0.1
			}
		}
		T_TFBot_Medic_Shield
		{
			Health	150
			Name	"Shield Medic"
			Class	Medic
			Skill	Expert
			WeaponRestrictions	SecondaryOnly
			Classicon	medic_shield_qf
			Attributes	SpawnWithFullCharge
			Attributes	ProjectileShield
			Attributes	IgnoreEnemies
			Item	"tf_weapon_syringegun_medic"
			Item	"the quick-fix"
			CharacterAttributes
			{
				"generate rage on heal"	2
			}
			ItemAttributes
			{
				ItemName	"the quick-fix"
				"bot medic uber deploy delay duration"	300
				"increase buff duration"	15
			}
		}
		
		//   - - - - - - - - - - - - - - - - - - - - - - - - - - - - GIANTS - - - - - - - - - - - - - - - - - - - - - - - - 
		//   - - - - - - - - - - - - - - - - - - - - - - - - - - - - GIANTS - - - - - - - - - - - - - - - - - - - - - - - - 
		//   - - - - - - - - - - - - - - - - - - - - - - - - - - - - GIANTS - - - - - - - - - - - - - - - - - - - - - - - - 
		//   - - - - - - - - - - - - - - - - - - - - - - - - - - - - GIANTS - - - - - - - - - - - - - - - - - - - - - - - - 
		
		
		T_TFBot_Giant_Scout_Neckrid	//	AKA Knuckles
		{
			Class		Scout
			Skill		Expert
			Health		15000
			Scale		1.8
			Name		"Neckrid"
			Classicon	scunter
			Item		"Upgradeable TF_WEAPON_SCATTERGUN"
			Attributes	HoldFireUntilFullReload
			Attributes	UseBossHealthBar
			Attributes 	MiniBoss
			Attributes	AlwaysFireWeapon
			//Item		"The El Jefe"
			//Item		"The Ripped Rider"
			//Item		"EOTL_blinks_breeches"	//	Brooklyn Booties
			Item		"Jungle Jersey"
			Item		"Claws And Infect"
			Item		"Crazy Legs"
			Item		"Head Hunter"
			Tag			"popext_warpaint{ idx = 303, slot = 0}"	//	Macaw Masked
			//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
			ItemAttributes
			{
				ItemName	"Head Hunter"
				"attach particle effect"	193	//	Warp Drive
			}
			ItemAttributes
			{
				Itemname	"Upgradeable TF_WEAPON_SCATTERGUN"
				"set_item_texture_wear"				0				//	FN
				"paintkit_proto_def_index"			"4.24593e-43n"	//	303 - Macaw Masked
			//	The above 2 lines enable warpaints in a listen server
			//	"damage penalty" 					0.75
				"clip size penalty"					1.5
				"faster reload rate" 				0.5
				"fire rate bonus"    				0.33
			}
			CharacterAttributes
			{
				"SPELL: set Halloween footstep type"			2452877	//	TVoT (BLU)
				"override footstep sound set" 					5
				"move speed bonus"								0.5
				"airblast vertical vulnerability multiplier"	0.3
				"airblast vulnerability multiplier"				0.1
				"damage force reduction" 						0.2
				"rage giving scale" 							0.5
				"Hand Scale"									1.5
			}
		}
		T_TFBot_Giant_Soldier_Trioriginal
		{
			Class Soldier
			Name "Giant Triple Uncharged Soldier"
			ClassIcon soldier_rocket_shotgun_charged
			Skill Expert
			Health 4000
			Item "The Original"
			WeaponRestrictions PrimaryOnly
			Attributes	HoldFireUntilFullReload
			Attributes	MiniBoss
			Item		"Poopy Doe"
			Item		"The Cryptic Keepsake"
			ItemAttributes
			{
				ItemName "The Original"
				"fire rate bonus"					2
				"Projectile speed increased"		0.5
				"fire rate bonus"					0.001
				"clip size upgrade atomic"			-1
				"faster reload rate"				0.75
				"projectile spread angle penalty"	3
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
			}
		}
		T_TFBot_Giant_Fast_Degree_pyro
		{
			Class		Pyro
			Name		"Giant Fast PhD Pyro"
			Skill		Expert
			Health		3000
			Attributes	MiniBoss
			WeaponRestrictions MeleeOnly
			Item		"The Third Degree"
			Item		"Wiki Cap"
			Item		"The Space Diver"
			Classicon	pyro_thirddegree_blu_fast
			ItemAttributes
			{
				ItemName	"The Third Degree"
				"fire rate bonus"			1.5
				"melee range multiplier"	1.5
			}
			CharacterAttributes
			{
				"move speed bonus"						0.8
				"damage force reduction"				0.6
				"airblast vulnerability multiplier"		0.6
				"override footstep sound set"			6
				"cancel falling damage"					1
				"Hand Scale"							1.5
			}
		}
		T_TFBot_Giant_Fast_homewrecker_pyro
		{
			Class		Pyro
			Name		"Giant Fast Wrecker Pyro"
			Skill		Expert
			Health		3000
			Attributes	MiniBoss
			WeaponRestrictions MeleeOnly
			Item		"The Homewrecker"
			Item		"The Vicious Visage"
			Item		"The Space Diver"
			Classicon	pyro_homewrecker_fast_lite
			ItemAttributes
			{
				ItemName	"The Homewrecker"
				"fire rate bonus"			1.5
				"melee range multiplier"	1.5
			}
			CharacterAttributes
			{
				"move speed bonus"						0.8
				"damage force reduction"				0.6
				"airblast vulnerability multiplier"		0.6
				"override footstep sound set"			6
				"cancel falling damage"					1
				"Hand Scale"							1.5
			}
		}
		T_TFBot_Giant_Flare_Shotgun_Pyro	//	scrapped giant
		{
			Class	Pyro
			Health	3000
			Skill	Expert
			Name	"Giant Flare Shotgun Pyro"
			ClassIcon	pyro_flare_burst_nys
			WeaponRestrictions SecondaryOnly
			Attributes	HoldFireUntilFullReload
			Attributes	MiniBoss
			Attributes	AlwaysFireWeapon
			Item	"TF_WEAPON_SHOTGUN_PYRO"
			ItemAttributes
			{
				ItemName	"TF_WEAPON_SHOTGUN_PYRO"
				"override projectile type"			6	//	Flare
				"Damage Bonus"						3
				"fire rate bonus"    				0.01
				"faster reload rate"				0.5
				"projectile spread angle penalty"	3
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.6
				"airblast vulnerability multiplier" 0.6
				"override footstep sound set" 6
			}
		}
		T_TFBot_Loch_Lunatic
		{
			Class		Demoman
			Skill		Expert
			Name		"Loaded Lunacy"
			Health		25000
			ClassIcon 	boss_skeleton_lite	//	best boss icon or what?!
			WeaponRestrictions PrimaryOnly
			Attributes	MiniBoss
			Attributes	HoldFireUntilFullReload
			Attributes	UseBossHealthBar
			Item		"The Loch-n-Load"
			Item		"The Bonedolier"
			Item		"Forgotten King's Pauldrons"
			Item		"Forgotten King's Restless Head"
			Tag			"popext_warpaint{ idx = 286, slot = 0}"	//	Skull Cracked
			//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
			ItemAttributes
			{
				ItemName	"Forgotten King's Restless Head"
				"attach particle effect"			3016	//	Infernal Smoke
				"particle effect use head origin"	1		//	unlocks the ability to change particle's position
				"particle effect vertical offset"	10		//	changes height of the particle effect
			}
			ItemAttributes
			{
				ItemName "The Loch-n-Load"
				"set_item_texture_wear"				0				//	FN
				"paintkit_proto_def_index"			"4.00771e-43n"	//	286 - Skull Cracked
			//	The above 2 lines enable warpaints in a listen server
				"Damage Bonus"						2
				"faster reload rate"				0.25
				"fire rate bonus"					0.1
				"clip size upgrade atomic"			6
				"projectile spread angle penalty"	3
				"Projectile speed increased"		1.15
			}
			CharacterAttributes
			{
				"move speed bonus"								0.5
				"override footstep sound set"					4
				"cancel falling damage"							1
				"airblast vertical vulnerability multiplier"	0.3
				"airblast vulnerability multiplier"				0.1
				"damage force reduction" 						0.2
				"rage giving scale" 							0.5
				"fire rate bonus with reduced health"			0.01
			}
		}
		T_TFBot_DShK_Heavy
		{
			Class Heavyweapons
			Name "Giant DShK Heavy"
			ClassIcon heavy_giant
			Skill Expert
			Health 5000
			WeaponRestrictions PrimaryOnly
			MaxVisionRange 1200
			Attributes MiniBoss
			Attributes	AlwaysFireWeapon
			Item	"Tomislav"
			ItemAttributes
			{
				ItemName "Tomislav"
				"damage bonus"					1.5
				"fire rate bonus"				10
				"sniper fires tracer HIDDEN"	1	//	machina tracers
				"bullets per shot bonus"		0.25
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.3
				"airblast vulnerability multiplier" 0.3
				"override footstep sound set" 2
			}
		}
		T_TFBot_Giant_Crit_Medic
		{
			Health	4500
			Name	"Giant Crit Medic"
			Class	Medic
			Skill	Expert
			Item	"The Kritzkrieg"
			Attributes	MiniBoss
			Classicon	medic_kritz2
			Attributes 	SpawnWithFullCharge
			CharacterAttributes
			{
				"airblast vertical vulnerability multiplier"	0.5
				"airblast vulnerability multiplier"	0.2
				"bot medic uber health threshold" 	8000
			}
			ItemAttributes
			{
				ItemName	"The Kritzkrieg"
				"uber duration bonus"	999
				"heal rate bonus"		500
			}
		}
		T_TFBot_Giant_Crit_Medic_Shield
		{
			Health	4500
			Name	"Giant Crit Shield Medic"
			Class	Medic
			Skill	Expert
			Item	"The Kritzkrieg"
			Classicon	medic_kritz2_shield_lite
			Attributes	MiniBoss
			Attributes 	SpawnWithFullCharge
			Attributes	ProjectileShield
			Attributes	IgnoreEnemies
			Item		"power spike"
			Item		"Medical Monarch"
			Item		"The Steam Pipe"
			Item		"Medical Emergency"
			CharacterAttributes
			{
				"move speed bonus"	1.5
				"airblast vertical vulnerability multiplier"	0.1
				"airblast vulnerability multiplier"				0.1
				"bot medic uber health threshold" 				8000
				"heal rate bonus"								200
				"generate rage on heal"							2
			}
			ItemAttributes
			{
				ItemName	"The Kritzkrieg"
				"uber duration bonus" 999
			}
		}
		T_TFBot_Giant_Blutsauger_Medic
		{
			Health	20000
			Name	"Giant Crit Medic"
			Class	Medic
			Skill	Expert
			Item	"The Kritzkrieg"
			Item	"The Blutsauger"
			Attributes	MiniBoss
			Classicon	medic_blutsauger_lite
			Attributes 	SpawnWithFullCharge
			Attributes	UseBossHealthBar
			CharacterAttributes
			{
				"airblast vertical vulnerability multiplier"	0.5
				"airblast vulnerability multiplier"	0.2
				"bot medic uber health threshold" 	80000
			}
			ItemAttributes
			{
				ItemName	"The Kritzkrieg"
				"uber duration bonus"	999
				"heal rate bonus"		500
			}
		}
		T_TFBot_Giant_Sleeper_Sniper	//	scrapped mission-support boss for w3
		{
			Class	Sniper
			Skill	Expert
			Health	10000
			Name	"U-riN-3"	//	aka urine
			Item	"The Sydney Sleeper"
			Item	"The Razorback"
			Item	"Corona Australis"
			Item	"The Bushwacka"
			ClassIcon	sniper_sydneysleeper_headshot
			Attributes	MiniBoss
			Attributes	UseBossHealthBar
			WeaponRestrictions	PrimaryOnly
			ItemAttributes
			{
				Itemname	"The Sydney Sleeper"
				"damage penalty"				0.5
				"explosive sniper shot"			3
				"fire rate bonus"    			1.5
				"sniper charge per sec"			100
				"attach particle effect"		3106	//	Thunderous Rage
			}
            CharacterAttributes
            {
				"move speed bonus"						0.01
				"damage force reduction"				0.4
				"airblast vulnerability multiplier"		0.4
				"override footstep sound set"			4
				"cancel falling damage"					1
				"cannot pick up intelligence"			1
			}
		}
		T_TFBot_SuperSpy
		{
			Class	Spy
			Skill	Expert
			Name	"Brainwashed Spy"
			Health	1500
			Scale	1.3
			Item	"Sucker Slug"
			Item	"The Dead Ringer"
			Item	"Your Eternal Reward"
			Classicon	spy_ringer_sif
			Attributes	MiniBoss
			WeaponRestrictions	MeleeOnly
			CharacterAttributes
			{
				"cancel falling damage" 1
				"airblast vulnerability multiplier" 0.5
				"move speed bonus" 1.3
			//	"override footstep sound set" 5	//	scout's 'brrrrr' footstep sound
				"cannot pick up intelligence"	1
			}
		}
	}
	Wave
	{
		InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param	
			"
				EntFire(`bombpath_choose_middle_relay`, `Trigger`)
				EntFire(`bombpath_holograms*`,`color`,`255 70 00`)	//	this changes the bomb hologram colors
					
                // Load popextensions script
                IncludeScript(`popextensions_main.nut`, getroottable())
					
                MissionAttrs
                ({
                    ForceHoliday = 2
					BotsAreHumans = 130
					NoThrillerTaunt = 1
                })
				
				// The below lines prints text in the middle of the screen on setup time
				
				local hText = SpawnEntityFromTable(`game_text`, {
                    targetname = `wave_explanation_text`
                    channel    = 1
                    effect     = 2
                    fadeout    = 0.5
                    fxtime     = 0.5
                    holdtime   = 15
                    x          = -1
                    y          = 0.25
                    spawnflags = 1
                    color      = `51 221 51`
                    message    = `This mission features custom weapons! Look for the side menu to the left of your screen when upgrading your weapons.`
                })
                hText.AcceptInput(`Display`, null, null, null)
                hText.Kill()
				
            "
        }
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	ambient_thunder_1.1
			StartWaveWarningSound	"ambient\halloween\thunder_01.wav"
		}
		WaveSpawn
		{
			Name	1a
			TotalCurrency	100
			TotalCount	4
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	1
			WaitBetweenSpawns	25
			TFBot
			{
				Class	Scout
				Name	"Armored Sun Scout"
				Skill	Expert
				Health	2500
				WeaponRestrictions	MeleeOnly
				Attributes	MiniBoss
				Item		"Sun-on-a-Stick"
				ClassIcon	scout_sunstick_swordstone_armored
				Tag nav_prefer_flank_mid
				CharacterAttributes
				{
					"damage force reduction" 0.7
					"airblast vulnerability multiplier" 0.7
					"override footstep sound set" 5
					"move speed penalty" 0.70
				}
			}
		}
		WaveSpawn
		{
			Name	1b
			TotalCurrency	100
			TotalCount	18
			MaxActive	4
			SpawnCount	2
			Where	spawnbot_left
			WaitBeforeStarting	5
			WaitBetweenSpawns	10
			TFBot
			{
				Template	T_TFBot_Pyro_Flaregun
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	1b2
			TotalCurrency	50
			TotalCount	14
			MaxActive	4
			SpawnCount	2
			Where	spawnbot_left
			WaitBeforeStarting	7
			WaitBetweenSpawns	8
			RandomChoice
			{
				TFBot
				{
					Class	Heavy
					Skill	Easy
					Name	"Heater Heavy"
					Item	"the Bunsen Brave"
					Item	"The Huo Long Heatmaker"
					ClassIcon	Heavy_heater
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Class	Heavy
					Skill	Normal
					Name	"Heater Heavy"
					Item	"the Bunsen Brave"
					Item	"The Huo Long Heatmaker"
					ClassIcon	Heavy_heater
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	1c
			TotalCurrency	100
			TotalCount	36
			MaxActive	8
			SpawnCount	4
			Where	spawnbot_right
			WaitBeforeStarting	15
			WaitBetweenSpawns	8
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Sniper_Huntsman
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_QuickFix
					Tag nav_prefer_flank_mid
				}
			}
		}
		//WaveSpawn
		//{
		//	Name	sup1.1
		//	TotalCount	30
		//	MaxActive	6
		//	SpawnCount	3
		//	Where	spawnbot_right
		//	WaitBeforeStarting	15
		//	WaitBetweenSpawns	10
		//	Support	limited
		//	TFBot
		//	{
		//		Template	T_TFBot_Scout_Jumping_Sandman
		//		Attributes	AlwaysCrit
		//	}
		//}
		WaveSpawn
		{
			Name	1d
			WaitForAllSpawned	1b
			TotalCurrency	100
			TotalCount	18
			MaxActive	4
			SpawnCount	2
			Where	spawnbot_right
			WaitBeforeStarting	2
			WaitBetweenSpawns	6
			TFBot
			{
				Class	Soldier
				Skill	Normal
				Name	"Direct Hit Soldier"
				Item	"The Direct Hit"
				Item	"The Cross-Comm Crash Helmet"
				ClassIcon	soldier_directhit_lite
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	1d2
			WaitForAllSpawned	1a
			TotalCurrency	100
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	10
			WaitBetweenSpawns	20
			TFBot
			{
				Template	T_TFBot_Giant_Soldier
				Name		"Giant Bison Spammer Soldier"
				Item		"The Righteous Bison"
				WeaponRestrictions	SecondaryOnly
				Attributes	HoldFireUntilFullReload
				ClassIcon	soldier_bison_spammer
				Tag nav_prefer_flank_mid
				Item		"Demonic Dome"
				ItemAttributes
				{
					ItemName	"The Righteous Bison"
					"faster reload rate"			0.1
					"fire rate bonus"    			0.5
					"override projectile type"		13	//	Bison projectiles
					"energy weapon penetration"		1	//	Replaces bison projectile to pomson so it penetrates
				}
			}
		}
		WaveSpawn
		{
			Name	1d3
			WaitForAllSpawned	1a
			TotalCurrency	100
			TotalCount	18
			MaxActive	8
			SpawnCount	2
			Where	spawnbot_right
			Where	spawnbot_left
			WaitBeforeStarting	10
			WaitBetweenSpawns	5
			TFBot
			{
				Template	T_TFBot_Pyro_Flaregun
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	1e
			WaitForAllSpawned	1d2
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	25
			WaitBetweenSpawns	25
			TFBot
			{
				Template	T_TFbot_Heavyweapons_Heater
				Name	"Giant Heater Heavy"
				Item	"the Bunsen Brave"
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	sup1.3
			WaitForAllSpawned	1d3
			TotalCount	10
			MaxActive	10
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	0
			WaitBetweenSpawns	5
			Support	1
			TFBot
			{
				Class	Pyro
				Skill	Normal
				Name	"Detonator Pyro"
				Item	"The Detonator"
				WeaponRestrictions	SecondaryOnly
				ClassIcon	pyro_detonator2
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	1f
			WaitForAllSpawned	1e
			TotalCurrency	50
			TotalCount	4
			MaxActive	4
			SpawnCount	4
			Where	spawnbot_left
			WaitBeforeStarting	25
			WaitBetweenSpawns	0
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Demo_Burst
					Item		"Upgradeable TF_WEAPON_GRENADELAUNCHER"
					Tag			"popext_warpaint{ idx =	291, slot = 0}"	//	Broken Bones
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName "Upgradeable TF_WEAPON_GRENADELAUNCHER"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"4.07778e-43n"	//	291 - Broken Bones
					//	The above 2 lines enable warpaints in a listen server
						"faster reload rate" 0.65
						"fire rate bonus" 0.1
						"clip size upgrade atomic" 7.0
						"projectile spread angle penalty" 5
						"Projectile speed increased"	1.1
					}
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	1g
			WaitForAllSpawned	1f
			TotalCurrency	50
			TotalCount	4
			MaxActive	4
			SpawnCount	4
			Where	spawnbot_right
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Demo_Burst
					Item		"Upgradeable TF_WEAPON_GRENADELAUNCHER"
					Tag			"popext_warpaint{ idx =	291, slot = 0}"	//	Broken Bones
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName "Upgradeable TF_WEAPON_GRENADELAUNCHER"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"4.07778e-43n"	//	291 - Broken Bones
					//	The above 2 lines enable warpaints in a listen server
						"faster reload rate" 0.65
						"fire rate bonus" 0.1
						"clip size upgrade atomic" 7.0
						"projectile spread angle penalty" 5
						"Projectile speed increased"	1.1
					}
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Big-Heal Medic"
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	1h
			WaitForAllSpawned	1g
			TotalCurrency	100
			TotalCount	3
			MaxActive	3
			SpawnCount	3
			Where	spawnbot_left
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Demo_Burst
					Item		"Upgradeable TF_WEAPON_GRENADELAUNCHER"
					Tag			"popext_warpaint{ idx =	291, slot = 0}"	//	Broken Bones
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName "Upgradeable TF_WEAPON_GRENADELAUNCHER"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"4.07778e-43n"	//	291 - Broken Bones
					//	The above 2 lines enable warpaints in a listen server
						"faster reload rate" 0.65
						"fire rate bonus" 0.1
						"clip size upgrade atomic" 7.0
						"projectile spread angle penalty" 5
						"Projectile speed increased"	1.1
					}
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Popping QF Medic"
					Item		"The Surgeon's Stahlhelm"
					Attributes	SpawnWithFullCharge
					Classicon	medic_pop
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
					ItemAttributes
					{
						Itemname	"The Quick-Fix"
					}
					CharacterAttributes
					{
						"move speed bonus"	1
						"bot medic uber health threshold"	50
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_BigHeal
					Name		"Popping QF Medic"
					Item		"The Surgeon's Stahlhelm"
					Attributes	SpawnWithFullCharge
					Classicon	medic_pop
					Item		"The Surgeon's Stahlhelm"
					Tag nav_prefer_flank_mid
					ItemAttributes
					{
						Itemname	"The Quick-Fix"
					}
					CharacterAttributes
					{
						"move speed bonus"	1
						"bot medic uber health threshold"	50
					}
				}
			}
		}
	}
	Wave
	{
		InitWaveOutput
        {
            Target gamerules
            Action RunScriptCode
            Param	
			"
				EntFire(`bombpath_choose_left_relay`, `Trigger`)
				EntFire(`bombpath_holograms*`,`color`,`255 70 00`)	//	this changes the bomb hologram colors
					
                // Load popextensions script
                IncludeScript(`popextensions_main.nut`, getroottable())
					
                MissionAttrs
                ({
                    ForceHoliday = 2
					BotsAreHumans = 130
					NoThrillerTaunt = 1
                })
            "
        }
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	ambient_thunder_2.1
			StartWaveWarningSound	"ambient\halloween\thunder_02.wav"
		}
		WaveSpawn
		{
			Name	2a
			TotalCurrency	50
			TotalCount	4
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	1
			WaitBetweenSpawns	15
			TFBot
			{
				Template	T_TFBot_Giant_Fast_homewrecker_pyro
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2a2
			TotalCurrency	50
			TotalCount	4
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	1
			WaitBetweenSpawns	15
			TFBot
			{
				Template	T_TFBot_Giant_Fast_homewrecker_pyro
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2a3
			TotalCurrency	100
			TotalCount	35
			MaxActive	10
			SpawnCount	5
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	6
			WaitBetweenSpawns	4
			TFBot
			{
				Class		Scout
				Name		"Scatterbonk Scout"
				Skill		Easy
				Health		125
				Item		"Bonk! Atomic Punch"
				Item		"Bonk Helm"
				Classicon	scout_bonk_scatter_nys2
				Attributes	HoldFireUntilFullReload
				Attributes	AlwaysFireWeapon
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name 2b
			WaitForAllSpawned	2a
			TotalCurrency	100
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	7
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_start.wav"
            Tank
			{
				Health	17500
				Speed	50
				Name	"tankboss"
				StartingPathTrackNode "boss_path_right_1"
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
				OnKilledOutput
				{
					Target	boss_dead_right_relay
					Action	Trigger
				}
			}
			FirstSpawnOutPut	//	A Vscript for showing tank's HP in game, as text
			{
				Target	wave_start_relay
				Action	RunScriptCode
				Param	"ClientPrint(null,3,`\x07dd3333 A tank has been deployed with 17,500 HP!`)"
			}
		}
		WaveSpawn
		{
			Name	2c
			WaitForAllSpawned	2b
			TotalCurrency	25
			TotalCount	8
			MaxActive	3
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	8
			WaitBetweenSpawns	8
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Heavy_IronFist_Airblast
					Classicon	heavy_steelfist_push_yoovy
					Health		450
					Scale		1.2
					Tag nav_prefer_flank_left
				}
			}
		}
		WaveSpawn
		{
			Name	2c2
			WaitForAllSpawned	2b
			TotalCurrency	100
			TotalCount	14
			MaxActive	6
			SpawnCount	2
			Where	spawnbot_left
			WaitBeforeStarting	8
			WaitBetweenSpawns	8
			TFBot
			{
				Template	T_TFBot_Sniper_Huntsman
				Name		"Fire Huntsman Sniper"
				Classicon	sniper_bow_fire_yoovy
				Tag nav_prefer_flank_left
				ItemAttributes
				{
					Itemname "The Huntsman"
					"Set DamageType Ignite"		1
					"attach particle effect"	13
				}
			}
		}
		WaveSpawn
		{
			Name	sup2.1
			WaitForAllSpawned	2b
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	25
			WaitBetweenSpawns	8
			Support 1
			TFBot
			{
				Class	Pyro
				Skill	Normal
				Name	"Phlog Pyro"
				ClassIcon	pyro_phlog
				Attributes	SpawnWithFullCharge
				Item	"the phlogistinator"
				Tag nav_prefer_flank_left
				ItemAttributes
				{
					ItemName	"the phlogistinator"
					"airblast disabled"	0
				}
			}
		}
		WaveSpawn
		{
			Name	2d
			WaitForAllDead	2a
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	7
			WaitBetweenSpawns	20
			TFBot
			{
				Template	T_TFBot_Giant_Fast_Degree_pyro
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2d2
			WaitForAllSpawned	2d
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	20
			TFBot
			{
				Template	T_TFBot_Giant_Fast_Degree_pyro
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2d3
			WaitForAllSpawned	2c
			TotalCurrency	100
			TotalCount	32
			MaxActive	12
			SpawnCount	3
			Where	spawnbot
			WaitBeforeStarting	3
			WaitBetweenSpawns	6
			TFBot
			{
				Template	T_TFBot_Soldier_Uncharged
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2e
			WaitForAllSpawned	2d2
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	7
			WaitBetweenSpawns	0
			TFBot
			{
				Template	T_TFBot_Giant_Soldier_Extended_Concheror
				Name		"Giant DH Conch Soldier"
				Item		"The Direct Hit"
				Item		"The Cross-Comm Crash Helmet"
				Classicon	soldier_banner_trio_accurate
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2e2
			WaitForAllSpawned	2e
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			TFBot
			{
				Template	T_TFBot_Giant_Soldier_Extended_Buff_Banner
				Name		"Giant DH Buff Soldier"
				Item		"The Direct Hit"
				Item		"The Cross-Comm Crash Helmet"
				Classicon	soldier_banner_trio_accurate
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	2e3
			WaitForAllSpawned	2e2
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			TFBot
			{
				Template	T_TFBot_Giant_Soldier_Extended_Battalion
				Name		"Giant DH Backup Soldier"
				Item		"The Direct Hit"
				Item		"The Cross-Comm Crash Helmet"
				Classicon	soldier_banner_trio_accurate
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	sup2.2
			WaitForAllSpawned	2e3
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	10
			WaitBetweenSpawns	8
			Support 1
			TFBot
			{
				Class	Pyro
				Skill	Normal
				Name	"Phlog Pyro"
				ClassIcon	pyro_phlog
				Attributes	SpawnWithFullCharge
				Item	"the phlogistinator"
				Tag nav_prefer_flank_left
				ItemAttributes
				{
					ItemName	"the phlogistinator"
					"airblast disabled"	0
				}
			}
		}
		//WaveSpawn
		//{
		//	Name	2f
		//	WaitForAllDead	2b
		//	TotalCurrency	50
		//	TotalCount	1
		//	MaxActive	1
		//	SpawnCount	1
		//	WaitBeforeStarting	7
		//	WaitBetweenSpawns	0
		//	FirstSpawnWarningSound "mvm/mvm_tank_start.wav"
        //    Tank
		//	{
		//		Health	12500
		//		Speed	50
		//		Name	"tankboss"
		//		StartingPathTrackNode "boss_path_middle_1"
		//		OnBombDroppedOutput
		//		{
		//			Target boss_deploy_relay
		//			Action Trigger
		//		}
		//		OnKilledOutput
		//		{
		//			Target	boss_dead_left_relay
		//			Action	Trigger
		//		}
		//	}
		//	FirstSpawnOutPut	//	A Vscript for showing tank's HP in game, as text
		//	{
		//		Target	wave_start_relay
		//		Action	RunScriptCode
		//		Param	"ClientPrint(null,3,`\x0700cc00 A tank has been deployed with 12,500 HP!`)"
		//	}
		//}
		WaveSpawn
		{
			Name	2f
			WaitForAllDead	2e3
			TotalCurrency	25
			TotalCount	6
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	2
			WaitBetweenSpawns	4
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Heavy_IronFist_Airblast
					Classicon	heavy_steelfist_push_yoovy
					Health		450
					Scale		1.2
					Tag nav_prefer_flank_left
				}
			}
		}
		WaveSpawn
		{
			Name	2g
			WaitForAllSpawned	2e3
			TotalCurrency	100
			TotalCount	4
			MaxActive	4
			SpawnCount	2
			Where	spawnbot
			WaitBeforeStarting	35
			WaitBetweenSpawns	25
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Heavyweapons
					Name		"Giant Tomislav Heavy"
					Item		"Tomislav"
					Item		"Capone's Capper"
					Classicon	heavy_accurate_lite
					Tag nav_prefer_flank_left
					Tag			"popext_warpaint{ idx = 289, slot = 0}"	//	Neon-Ween
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName	"Tomislav"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"4.04975e-43n"	//	289 - Neon-Ween
					//	The above 2 lines enable warpaints in a listen server
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_Shield
					Tag nav_prefer_flank_left
				}
			}
		}
	}
	Wave
	{
		InitWaveOutput       
		{
            Target gamerules
            Action RunScriptCode
            Param	
			"
				EntFire(`bombpath_choose_right_relay`, `Trigger`)
				EntFire(`bombpath_holograms*`,`color`,`255 70 00 `)	//	this changes the bomb hologram colors
				
                MissionAttrs
                ({
                    ForceHoliday = 2
					BotsAreHumans = 130
					NoThrillerTaunt = 1
                })
            "
        }
		StartWaveOutput
		{
			Target	wave_start_relay 
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	ambient_thunder_3.1
			StartWaveWarningSound	"ambient\halloween\thunder_03.wav"
		}
		WaveSpawn
		{
			Name	3a
			TotalCurrency	100
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	1
			WaitBetweenSpawns	12
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_RocketPush
					Name		"Giant Conch Blast Soldier"
					Item		"The Concheror"
					Tag nav_prefer_flank_right
					Attributes  SpawnWithFullCharge
					ClassIcon	soldier_blast_conch_yoovy
					Item		"Wanderer's Wool"
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
			}
		}
		WaveSpawn
		{
			Name	3b
			TotalCurrency	100
			TotalCount	30
			MaxActive	6
			SpawnCount	3
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	2
			WaitBetweenSpawns	6
			TFBot
			{
				Template	T_TFBot_Pyro_DF
				Tag nav_prefer_flank_right
			}
		}
		WaveSpawn
		{
			Name	3b2
			TotalCurrency	50
			TotalCount	16
			MaxActive	6
			SpawnCount	2
			Where	spawnbot_right
			Where	spawnbot_left
			WaitBeforeStarting	2
			WaitBetweenSpawns	15
			Squad
			{
				TFBot
				{
					Class	Heavy
					Skill	Hard
					Name	"Fist Heavy"
					Classicon	heavy_fist_nys
					Attributes AlwaysCrit
					WeaponRestrictions	MeleeOnly
					Tag nav_prefer_flank_middle	//	intentionally flanking when possible
				}
				TFBot
				{
					Template	T_TFBot_Medic_QuickUber
				}
			}
		}
		WaveSpawn
		{
			Name	3c
			WaitForAllSpawned	3a
			TotalCurrency	150
			TotalCount	3
			MaxActive	3
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	20
			WaitBetweenSpawns	15
			TFBot
			{
				Template	T_TFBot_Giant_Soldier
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_right
				Item	"Upgradeable TF_WEAPON_ROCKETLAUNCHER"	
				Tag	"popext_warpaint{ idx = 295, slot = 0}"	//	Polter-Guised
				//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
				ItemAttributes
				{
					ItemName "Upgradeable TF_WEAPON_ROCKETLAUNCHER"	
					"set_item_texture_wear"				0				//	FN
					"paintkit_proto_def_index"			"4.13383e-43n"	//	295 - Polter-Guised
				//	The above 2 lines enable warpaints in a listen server
				}
			}
		}
		WaveSpawn
		{
			Name	3d
			WaitForAllSpawned	3b
			TotalCurrency	150
			TotalCount	26
			MaxActive	12
			SpawnCount	4
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	5
			WaitBetweenSpawns	5
			TFBot
			{
				Class	Soldier
				Skill	Normal
				Tag nav_prefer_flank_right
			}
		}
		WaveSpawn
		{
			Name	3e
			WaitForAllSpawned	3c
			TotalCurrency	100
			TotalCount	12
			MaxActive	6
			SpawnCount	3
			Where	spawnbot
			WaitBeforeStarting	10
			WaitBetweenSpawns	15
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Pyro
					Name		"Giant Backburner Pyro"
					Classicon	pyro_backburner_nys
					Item		"The Backburner"
					Item		"The Flame Warrior"
					Attributes	AlwaysFireWeapon
					Tag nav_prefer_flank_right
					ItemAttributes
					{
						Itemname	"The Backburner"
						"lunchbox adds minicrits"	2
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_QuickFix
					Health		500
					Scale		1.5
					Name		"Armored Pop Quick-Fix Medic"
					Classicon	medic_quickfix_armored_spammer
					Attributes	SpawnWithFullCharge
					WeaponRestrictions	SecondaryOnly
					ItemAttributes
					{
						ItemName	"The Quick-Fix"
						"uber duration bonus"			100
						"heal rate bonus"				5
						"reduced_healing_from_medics"	0.4
					}
					CharacterAttributes
					{
						"airblast vulnerability multiplier" 0.6
						"bot medic uber health threshold" 	1000
						"cannot pick up intelligence"		1
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_QuickFix
					Health		500
					Scale		1.5
					Name		"Armored Pop Quick-Fix Medic"
					Classicon	medic_quickfix_armored_spammer
					Attributes	SpawnWithFullCharge
					WeaponRestrictions	SecondaryOnly
					ItemAttributes
					{
						ItemName	"The Quick-Fix"
						"uber duration bonus"			100
						"heal rate bonus"				5
						"reduced_healing_from_medics"	0.4
					}
					CharacterAttributes
					{
						"airblast vulnerability multiplier" 0.6
						"bot medic uber health threshold" 	1000
						"cannot pick up intelligence"		1
					}
				}
			}
		}
		WaveSpawn
		{
			Name	3f
			WaitForAllSpawned	3d
			TotalCurrency	100
			TotalCount	14
			MaxActive	10
			SpawnCount	2
			Where	spawnbot
			WaitBeforeStarting	5
			WaitBetweenSpawns	5
			TFBot
			{
				Class	Heavy
				Skill	Normal
				Tag nav_prefer_flank_right
			}
		}
		WaveSpawn
		{
			Name	sup3.1
			WaitForAllSpawned	3f
			TotalCount	5
			MaxActive	5
			SpawnCount	1
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	0
			WaitBetweenSpawns	5
			Support	1
			TFBot
			{
				Template	T_TFBot_Soldier_Extended_Buff_Banner
				Tag nav_prefer_flank_right
			}
		}
		WaveSpawn
		{
			Name	3g
			WaitForAllSpawned	3e
			TotalCurrency	150
			TotalCount	3
			MaxActive	3
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	10
			WaitBetweenSpawns	20
			TFBot
			{
				Class	Demoman
				Name	"Lord Nukesalot"
				ClassIcon demo_atomic_mort
				Health	3300
				Scale	1.9
				Skill	Expert
				WeaponRestrictions PrimaryOnly
				Item	"The Loose Cannon"
				Attributes	MiniBoss
				Attributes	HoldFireUntilFullReload
				Attributes	AlwaysFireWeapon
				Tag nav_prefer_flank_right
				Tag	"popext_warpaint{ idx = 293, slot = 0}"	//	Searing Souls
				//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
				ItemAttributes
				{
					ItemName "The Loose Cannon"
					"set_item_texture_wear"				0				//	FN
					"paintkit_proto_def_index"			"4.1058e-43n"	//	293 - Searing Souls
				//	The above 2 lines enable warpaints in a listen server
					"grenade launcher mortar mode"		0
					"faster reload rate"				0.01
					"fire rate bonus"					4
					"Projectile speed increased"		0.8
					"projectile spread angle penalty"	5
					"damage bonus"						2.5
					"damage causes airblast"			1
					"blast radius increased"			2.5
					"use large smoke explosion"			1
					"fuse bonus"    					1
				}
				CharacterAttributes
				{
					"move speed bonus"					0.5
					"damage force reduction"			0.4
					"airblast vulnerability multiplier"	0.4
					"override footstep sound set"		4
					"No self blast dmg"					2
				}
			}
		}
		WaveSpawn
		{
			Name	3h
			WaitForAllSpawned	3g
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	25
			WaitBetweenSpawns	0
			TFBot
			{
				Template	T_TFBot_Giant_Scout_Neckrid
				Tag nav_prefer_flank_right
			}
		}
		WaveSpawn
		{
			Name	neckrid_boss_spawn_3.1
			WaitForAllSpawned	3h
			FirstSpawnWarningSound	"vo\halloween_boss\knight_spawn.mp3"
		}
		WaveSpawn
		{
			Name	neckrid_boss_death_3.1
			WaitForAllDead	3h
			DoneWarningSound	"vo\halloween_boss\knight_death02.mp3"
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target wave_start_relay
			Action trigger
		}
		InitWaveOutput
		{
			Target bignet
			Action runscriptcode
            Param	
			"
				EntFire(`bombpath_choose_left_relay`, `Trigger`)
				EntFire(`bombpath_holograms*`,`color`,`255 70 00`)	//	this changes the bomb hologram colors
				
                // Load popextensions script
                IncludeScript(`popextensions_main.nut`, getroottable())
				
                MissionAttrs
                ({
                    ForceHoliday = 2
					BotsAreHumans = 130
					NoThrillerTaunt = 1
                })
				
				// The below lines prints text in the middle of the screen on setup time
				
				ClientPrint(null,3,`\x07dd3333 Combat tanks will forever patrol the map and will not deploy a bomb into the hatch.`)
				local hText = SpawnEntityFromTable(`game_text`, {
                    targetname = `wave_explanation_text`
                    channel    = 1
                    effect     = 2
                    fadeout    = 0.5
                    fxtime     = 0.5
                    holdtime   = 20
                    x          = -1
                    y          = 0.41	//	just beneath the w3 end screen
                    spawnflags = 1
                    color      = `221 51 51`
                    message    = `Combat tanks will forever patrol the map and will not deploy a bomb into the hatch.`
                })
                hText.AcceptInput(`Display`, null, null, null)
                hText.Kill()
				
				//	COMBAT TANK STUFF
				
				IncludeScript(`tankextensions_main`, getroottable())

					TankExt.SetValueOverrides
					({
					//	COMBATTANK_ROTATE_SPEED_DEFAULT = 1    // default: 0.8
					//	COMBATTANK_MAX_RANGE = 2000            // default: 1400
					//	COMBATTANK_MINIGUN_BULLET_DAMAGE = 45  // default: 22
					//	COMBATTANK_ROCKETPOD_RELOAD_DELAY = 0  // default: 0.3
					})

				//IncludeScript(`tankextensions/paratank`, getroottable())
				//IncludeScript(`tankextensions/ubertank`, getroottable())
				IncludeScript(`tankextensions/combattank`, getroottable())
				IncludeScript(`tankextensions/combattank_weapons/minigun`, getroottable())
				IncludeScript(`tankextensions/combattank_weapons/rocketpod`, getroottable())

				TankExt.CreateLoopPaths
				({
					tank_loop_mid =	//	tank spawns inside the tank tunnel and loops from the middle path towards the left path through the hatch, then keeps on circling these 2 paths endlessly.
					[
						Vector(-84, 4672, -204)
						Vector(-64, 4329, -100)
						Vector(-86, 3574, 21)
						Vector(-885, 2861, -1)
						Vector(-910, 2286, 167) // loop start
						Vector(-45, 1682, 130)
						Vector(-37, 452, 141)
						Vector(-595, -66, 139)
						Vector(-1192, 124, -50)
						Vector(-1275, 2128, 145)
						Vector(-910, 2286, 167) // loop end
					]
				})
				TankExt.StartingPathNames
				([
					// map paths
					`boss_path_left_1`
					`boss_path_middle_1`
					`boss_path_right_1`
					
					// custom paths
					`tank_loop_mid_1`
				])
			"
		}
		StartWaveOutput
		{
			Target	wave_start_relay 
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	ambient_thunder_4.1
			StartWaveWarningSound	"ambient\halloween\thunder_04.wav"
		}
		WaveSpawn
		{
			Name	4a
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	2
			Where	spawnbot
			WaitBeforeStarting	1
			WaitBetweenSpawns	1
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Pyro
					Name		"Phlog Pyro"
					ClassIcon	pyro_phlog
					Attributes	SpawnWithFullCharge
					Item		"the phlogistinator"
					Item		"The Bubble Pipe"
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						ItemName	"the phlogistinator"
						"airblast disabled"	0
					}
					CharacterAttributes
					{
						"airblast vertical vulnerability multiplier"	0.5
						"airblast vulnerability multiplier" 0.2
 					}
				}
				TFBot
				{
					Template	T_TFBot_Giant_Medic
					Name		"Giant Quick-Uber Medic"
					Classicon	medic_uber_giant
					Attributes	SpawnWithFullCharge
					Item		"warbird_medigun_corsair"
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						Itemname	"warbird_medigun_corsair"
						"uber duration bonus"	-3
					}
					CharacterAttributes
					{
						"bot medic uber health threshold" 	750
						"move speed bonus"	1
						"airblast vertical vulnerability multiplier"	0.5
						"airblast vulnerability multiplier"	0.2
					}
				}
			}
		}
		WaveSpawn
		{
			Name	4b
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	2
			Where	spawnbot_right
			WaitBeforeStarting	25
			WaitBetweenSpawns	1
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Pyro
					Name		"Phlog Pyro"
					ClassIcon	pyro_phlog
					Attributes	SpawnWithFullCharge
					Item		"the phlogistinator"
					Item		"The Bubble Pipe"
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						ItemName	"the phlogistinator"
						"airblast disabled"	0
					}
					CharacterAttributes
					{
						"airblast vertical vulnerability multiplier"	0.5
						"airblast vulnerability multiplier" 0.2
 					}
				}
				TFBot
				{
					Template	T_TFBot_Giant_Medic
					Name		"Giant Quick-Uber Medic"
					Classicon	medic_uber_giant
					Attributes	SpawnWithFullCharge
					Item		"warbird_medigun_corsair"
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						Itemname	"warbird_medigun_corsair"
						"uber duration bonus"	-3
					}
					CharacterAttributes
					{
						"bot medic uber health threshold" 	750
						"move speed bonus"	1
						"airblast vertical vulnerability multiplier"	0.5
						"airblast vulnerability multiplier"	0.2
					}
				}
			}
		}
		WaveSpawn
		{
			Name	4c
			TotalCurrency	200
			TotalCount	31
			MaxActive	6
			SpawnCount	1
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	5
			WaitBetweenSpawns	3
			TFBot
			{
				Class		Demoman
				Name		"BurstFire Demoman"
				Skill		Hard
				Item		"The Iron Bomber"
				Classicon	demo_burst
				Attributes	HoldFireUntilFullReload
				Tag nav_prefer_flank_left
				ItemAttributes
				{
					Itemname	"The Iron Bomber"
					"faster reload rate"				1.75
					"fire rate bonus"					0.05
					"clip size penalty"					0.5
					"projectile spread angle penalty"	3
				}
			}
		}
		WaveSpawn
		{
			Name	4c2
			TotalCurrency	150
			TotalCount	42
			MaxActive	12
			SpawnCount	6
			Where	spawnbot
			WaitBeforeStarting	2
			WaitBetweenSpawns	15
			TFBot
			{
				Class	Sniper
				Skill	Normal
				Name	"SMG Sniper"
				ClassIcon	sniper_smg_tind
				WeaponRestrictions	SecondaryOnly
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	4d
			WaitForAllSpawned	4b
			TotalCurrency	50
			TotalCount	12
			MaxActive	8
			SpawnCount	4
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	20
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_SlowBarrage
					Name		"Giant Conch Barrage Soldier"
					Item		"The Concheror"
					Item		"warbird_rocketlauncher_warhawk"
					ItemAttributes
					{
						ItemName "warbird_rocketlauncher_warhawk"
						"clip size upgrade atomic" 26.0
						"faster reload rate" 0.22
						"fire rate bonus" 0.2
						"projectile spread angle penalty" 5
					}
					Attributes  SpawnWithFullCharge
					ClassIcon	soldier_barrage_conch
					Tag nav_prefer_flank_left
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
				TFBot
				{
					Template	T_TFBot_Soldier_RocketShotgun
					Name		"Black Box Backup Soldier"
					Classicon	soldier_blackbox_backup
					Attributes	AlwaysCrit
					Attributes	SpawnWithFullCharge
					Item		"The Battalion's Backup"
					Tag nav_prefer_flank_left
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
				TFBot
				{
					Template	T_TFBot_Soldier_RocketShotgun
					Name		"Black Box Backup Soldier"
					Classicon	soldier_blackbox_backup
					Attributes	AlwaysCrit
					Attributes	SpawnWithFullCharge
					Item		"The Battalion's Backup"
					Tag nav_prefer_flank_left
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
				TFBot
				{
					Template	T_TFBot_Soldier_RocketShotgun
					Name		"Black Box Backup Soldier"
					Classicon	soldier_blackbox_backup
					Attributes	AlwaysCrit
					Attributes	SpawnWithFullCharge
					Item		"The Battalion's Backup"
					Tag nav_prefer_flank_left
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
			}
		}
		WaveSpawn
		{
			Name	sup4.1
			WaitForAllSpawned	4d
			TotalCount	1
			SpawnCount	1
			MaxActive	1
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_start.wav"
			Support Limited
			Tank
			{
				Health	30000
				Speed	80
				Name	"combattank|rocketpod|rocketpod"	//	tank's characteristics (type|weapon1|weapon2)
				StartingPathTrackNode "tank_loop_mid_1"		//	for modded tanks, you place the *modded* path's name here
				ClassIcon	tank_combat_rocket [$SIGSEGV] 	//	A rocketpod tank icon for modded servers
			}
			FirstSpawnOutPut	//	A Vscript for showing tank's HP in game, as text
			{
				Target	wave_start_relay
				Action	RunScriptCode
				Param	"ClientPrint(null,3,`\x07dd3333 A combat tank has been deployed with 30,000 HP!`)"
			}
		}
		WaveSpawn
		{
			Name	tank_barrier_destruction4.1
			WaitForAllSpawned	sup4.1
			TotalCount 1
			WaitBeforeStarting	3.3
			Support limited
			FirstSpawnOutput
			{
				Target tank_bust_relay	//	This destroys the tank barrier manually
				Action trigger
			}
		}
		WaveSpawn
		{
			Name	4e
			WaitForAllSpawned	sup4.1
			TotalCurrency	50
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	15
			WaitBetweenSpawns	15
			TFBot
			{
				Template	T_TFBot_Giant_Pyro
				Classicon	pyro_reflect_daan
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_left
				Item	"Upgradeable TF_WEAPON_FLAMETHROWER"
				Tag	"popext_warpaint{ idx = 205, slot = 0}"	//	Fire Glazed
				//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
				ItemAttributes
				{
					ItemName "Upgradeable TF_WEAPON_FLAMETHROWER"
					"set_item_texture_wear"				0				//	FN
					"paintkit_proto_def_index"			"2.87266e-43n"	//	205 - Fire Glazed
				//	The above 2 lines enable warpaints in a listen server
				}
			}
		}
		WaveSpawn
		{
			Name	4e2
			WaitForAllSpawned	sup4.1
			TotalCurrency	100
			TotalCount	28
			MaxActive	8
			SpawnCount	2
			Where	spawnbot_right
			WaitBeforeStarting	20
			WaitBetweenSpawns	3
			TFBot
			{
				Class	Scout
				Skill	Hard
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	4f
			WaitForAllSpawned	4c2
			TotalCurrency	100
			TotalCount	20
			MaxActive	10
			SpawnCount	1
			Where	spawnbot_right
			Where	spawnbot_left
			WaitBeforeStarting	20
			WaitBetweenSpawns	3
			TFBot
			{
				Class	Pyro
				Skill	Hard
				Item	"Upgradeable TF_WEAPON_FLAMETHROWER"
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_left
				ItemAttributes
				{
					Itemname	"Upgradeable TF_WEAPON_FLAMETHROWER"
					"airblast disabled"	1
				}
			}
		}
		WaveSpawn
		{
			Name	sup4.2
			WaitForAllSpawned	4e
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	10
			WaitBetweenSpawns	10
			Support	1
			TFBot
			{
				Class	Soldier
				Skill	Normal
				Name	"Direct Hit Soldier"
				Item	"The Direct Hit"
				Item	"The Cross-Comm Crash Helmet"
				ClassIcon	soldier_directhit_lite
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	sup4.3
			WaitForAllSpawned	4e
			TotalCount	6
			MaxActive	6
			SpawnCount	2
			Where	spawnbot_right
			Where	spawnbot_left
			WaitBeforeStarting	7
			WaitBetweenSpawns	7
			Support	1
			TFBot
			{
				Class		Demoman
				Name		"Loch Demoman"
				Skill		Hard
				Item		"The Loch-n-Load"
				Classicon	demo_loch_nys
				Attributes	HoldFireUntilFullReload
				Tag nav_prefer_flank_left
			}
		}
		WaveSpawn
		{
			Name	4g
			WaitForAllSpawned	4e
			TotalCurrency	100
			TotalCount	2
			MaxActive	2
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	25
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Heavyweapons_Deflector
					Name		"Condemned CoK Deflector Heavy"
					Item		"The Chicken Kiev"
					ClassIcon	heavy_deflector_cok
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						ItemName "Deflector"
						"critboost on kill"	5
					}
				}
			}
		}
		WaveSpawn
		{
			Name	sup4.4
			WaitForAllDead	4f
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_right
			Where	spawnbot_left
			WaitBeforeStarting	10
			WaitBetweenSpawns	7
			Support	1
			RandomChoice
			{
				TFBot
				{
					Class	Soldier
					Skill	Normal
					Name	"Direct Hit Soldier"
					Item	"The Direct Hit"
					Item	"The Cross-Comm Crash Helmet"
					ClassIcon	soldier_directhit_lite
					Tag nav_prefer_flank_left
				}
				TFBot
				{
					Class		Demoman
					Name		"Loch Demoman"
					Skill		Hard
					Item		"The Loch-n-Load"
					Classicon	demo_loch_nys
					Attributes	HoldFireUntilFullReload
					Tag nav_prefer_flank_left
				}
			}
		}
		WaveSpawn
		{
			Name	4h
			WaitForAllSpawned	4g
			TotalCurrency	200
			TotalCount	2
			MaxActive	2
			SpawnCount	2
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	25
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Heavyweapons_Deflector
					Name		"Condemned CoK Deflector Heavy"
					Item		"The Chicken Kiev"
					ClassIcon	heavy_deflector_cok
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						ItemName "Deflector"
						"critboost on kill"	5
					}
					//CharacterAttributes
					//{
					//	"move speed bonus"	0.4
					//}
				}
				TFBot
				{
					Template	T_TFBot_Giant_Medic
					Name		"Giant Quick-Uber Medic"
					Classicon	medic_uber_giant
					Attributes	SpawnWithFullCharge
					Item		"warbird_medigun_corsair"
					Tag nav_prefer_flank_left
					ItemAttributes
					{
						Itemname	"warbird_medigun_corsair"
						"uber duration bonus"	-3
					}
					CharacterAttributes
					{
						"bot medic uber health threshold" 	750
						"move speed bonus"	1
						"airblast vertical vulnerability multiplier"	0.5
						"airblast vulnerability multiplier"	0.2
					}
				}
			}
		}
		WaveSpawn
		{
			Name	Tank_Destruction_4.1	// a failsafe that kills the combat tank when the wave (subwave 4h) is over.
			WaitForAllDead	4h
			FirstSpawnOutput
			{
				Target bignet
				Action RunScriptCode
				Param "EntFire(`tank_boss`, `RemoveHealth`, `30000`, -1)"
			}
		}
	}
	Wave
	{
		InitWaveOutput       
		{
            Target gamerules 
            Action RunScriptCode
            Param
			"
				EntFire(`bombpath_choose_middle_relay`, `Trigger`)
				EntFire(`bombpath_holograms*`,`color`,`255 70 00`)	//	this changes the bomb hologram colors
				
                // Load popextensions script
                IncludeScript(`popextensions_main.nut`, getroottable())
				
                MissionAttrs
                ({
                    ForceHoliday = 2
					BotsAreHumans = 130
					NoThrillerTaunt = 1
                })
				
				//	COMBAT TANK STUFF
				
				IncludeScript(`tankextensions_main`, getroottable())

					TankExt.SetValueOverrides
					({
					//	COMBATTANK_ROTATE_SPEED_DEFAULT = 1    // default: 0.8
					//	COMBATTANK_MAX_RANGE = 2000            // default: 1400
						COMBATTANK_MINIGUN_BULLET_DAMAGE = 16  // default: 22
					//	COMBATTANK_ROCKETPOD_RELOAD_DELAY = 0  // default: 0.3
					})


				//IncludeScript(`tankextensions/paratank`, getroottable())	//	script for parachute tank
				//IncludeScript(`tankextensions/ubertank`, getroottable())	//	script for uber tank
				IncludeScript(`tankextensions/combattank`, getroottable())	//	script for combat tank
				IncludeScript(`tankextensions/combattank_weapons/minigun`, getroottable())	//	minigun script
				IncludeScript(`tankextensions/combattank_weapons/rocketpod`, getroottable())	//	rocketpod script
				TankExt.CreateLoopPaths
				({
					tank_loop_left = 	//	tank spawns inside the tank tunnel and loops from the left path towards the middle path through the hatch, then keeps on circling these 2 paths endlessly.
					[
						Vector(-84, 4672, -204)
						Vector(-64, 4329, -100)
						Vector(-86, 3574, 21)
						Vector(-885, 2861, -1)
						Vector(-910, 2286, 167) // loop start
						Vector(-1275, 2128, 145)
						Vector(-1192, 124, -50)
						Vector(-595, -66, 139)
						Vector(-37, 452, 141)
						Vector(-45, 1682, 130)
						Vector(-910, 2286, 167) // loop end
					]
				})
				TankExt.StartingPathNames
				([
					// map paths
					`boss_path_left_1`
					`boss_path_middle_1`
					`boss_path_right_1`
					
					// custom paths
					`tank_loop_left_1`
				])
			"
        }
		StartWaveOutput
		{
			Target	wave_start_relay 
			Action	Trigger
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	ambient_thunder_5.1
			StartWaveWarningSound	"ambient\halloween\thunder_05.wav"
		}
		WaveSpawn
		{
			Name	5a
			TotalCurrency	100
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot
			WaitBeforeStarting	1
			WaitBetweenSpawns	10
			TFBot
			{
				Class	Demoman
				Skill	Expert
				Health	3300
				Name	"Giant Demoknight Charger"
				Classicon	demoknight_headtaker_charger_nys
				Item "Prince Tavish's Crown"
				Item "The Chargin' Targe"
				Item "The Horseless Headless Horseman's Headtaker"
				WeaponRestrictions MeleeOnly
				Attributes	MiniBoss
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_mid
				ItemAttributes
				{
					ItemName "The Chargin' Targe"
					"Attack not cancel charge"			1
					"charge impact damage increased"	2
					"charge recharge rate increased"	2.5
					"charge time increased"				1.5
				}
				CharacterAttributes
				{
					"move speed bonus" 0.5
					"damage force reduction" 0.5
					"airblast vulnerability multiplier" 0.5
					"override footstep sound set" 4
				}
			}
		}
		WaveSpawn
		{
			Name	5b
			TotalCurrency	75
			TotalCount	15
			MaxActive	10
			SpawnCount	5
			Where	spawnbot_right
			WaitBeforeStarting	5
			WaitBetweenSpawns	10
			TFBot
			{
				Template	T_TFBot_Demo_Sticky
				Name		"Armored Sticky Demo"
				Health		300
				Scale		1.3
				Classicon	demo_sticky_daan_armored
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	5c
			TotalCurrency	75
			TotalCount	15
			MaxActive	10
			SpawnCount	5
			Where	spawnbot_left
			WaitBeforeStarting	5
			WaitBetweenSpawns	10
			TFBot
			{
				Template	T_TFBot_Demo_Sticky
				Name		"Armored Sticky Demo"
				Health		300
				Scale		1.3
				Classicon	demo_sticky_daan_armored
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	5c2
			WaitForAllSpawned	5c
			TotalCurrency	50
			TotalCount	27
			MaxActive	9
			SpawnCount	3
			Where	spawnbot
			WaitBeforeStarting	5
			WaitBetweenSpawns	4
			TFBot
			{
				Class	Soldier
				Skill	Normal
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	5d
			WaitForAllSpawned	5a
			TotalCurrency	150
			TotalCount	6
			MaxActive	4
			SpawnCount	2
			Where	spawnbot_left
			WaitBeforeStarting	0
			WaitBetweenSpawns	20
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_Spammer_Reload
					Name		"Giant Burstfire Banner Soldier"
					ClassIcon	soldier_burstfire_buff
					Attributes  SpawnWithFullCharge
					Item		"The Buff Banner"
					Item		"Upgradeable TF_WEAPON_ROCKETLAUNCHER"
					Tag nav_prefer_flank_mid
					Tag	"popext_warpaint{ idx = 237, slot = 0}"	//	Spectral Shimmered
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName "Upgradeable TF_WEAPON_ROCKETLAUNCHER"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"3.32108e-43n"	//	237 - Spectral Shimmered
					//	The above 2 lines enable warpaints in a listen server
						"move speed bonus"					0.5
						"faster reload rate"				0.6
						"fire rate bonus"					0.1
						"clip size upgrade atomic"			5.0
						"Projectile speed increased"		0.65
					}
					CharacterAttributes
					{
						"increase buff duration"	9.0
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	5e
			WaitForAllSpawned	5a
			TotalCurrency	150
			TotalCount	6
			MaxActive	4
			SpawnCount	2
			Where	spawnbot_right
			WaitBeforeStarting	10
			WaitBetweenSpawns	20
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_Trioriginal
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name sup5.1
			WaitForAllSpawned	5d
			TotalCount	1
			SpawnCount	1
			MaxActive	1
			WaitBeforeStarting	3
			WaitBetweenSpawns	0
			FirstSpawnWarningSound "mvm/mvm_tank_start.wav"
			Support Limited
			Tank
			{
				Health	30000
				Speed	80
				Skin	1
				Name	"combattank|minigun|minigun"		//	tank's characteristics (type|weapon1|weapon2)
				StartingPathTrackNode "tank_loop_left_1"	//	for modded tanks, you place the *modded* path's name here
				ClassIcon	tank_combat_minigun [$SIGSEGV] 	//	A minigun tank icon for modded servers
			}
			FirstSpawnOutPut	//	A Vscript for showing tank's HP in game, as text
			{
				Target	wave_start_relay
				Action	RunScriptCode
				Param	"ClientPrint(null,3,`\x07dd3333 A final combat tank has been deployed with 30,000 HP!`)"
			}
		}
		WaveSpawn
		{
			Name	tank_barrier_destruction5.1
			WaitForAllSpawned	sup5.1
			TotalCount 1
			WaitBeforeStarting	3.3
			Support limited
			FirstSpawnOutput
			{
				Target tank_bust_relay	//	This destroys the tank barrier manually
				Action trigger
			}
		}
		WaveSpawn
		{
			Name	5f
			WaitForAllSpawned	5e
			TotalCurrency	100
			TotalCount	4
			MaxActive	4
			SpawnCount	1
			Where	spawnbot_left
			WaitBeforeStarting	20
			WaitBetweenSpawns	15
			TFBot
			{
				Class	Demoman
				Skill	Expert
				Health	3300
				Name	"Giant Demoknight Charger"
				Classicon	demoknight_headtaker_charger_nys
				Item "Prince Tavish's Crown"
				Item "The Chargin' Targe"
				Item "The Horseless Headless Horseman's Headtaker"
				WeaponRestrictions MeleeOnly
				Attributes	MiniBoss
				Attributes	AlwaysCrit
				Tag nav_prefer_flank_mid
				ItemAttributes
				{
					ItemName "The Chargin' Targe"
					"Attack not cancel charge"			1
					"charge impact damage increased"	2
					"charge recharge rate increased"	2.5
					"charge time increased"				1.5
				}
				CharacterAttributes
				{
					"move speed bonus" 0.5
					"damage force reduction" 0.5
					"airblast vulnerability multiplier" 0.5
					"override footstep sound set" 4
				}
			}
		}
		WaveSpawn
		{
			Name	5f2
			WaitForAllSpawned	sup5.1
			TotalCurrency	100
			TotalCount	28
			MaxActive	10
			SpawnCount	2
			Where	spawnbot
			WaitBeforeStarting	20
			WaitBetweenSpawns	5
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Heavyweapons_Deflector
					Tag nav_prefer_flank_mid
				}
				TFBot
				{
					Template	T_TFBot_Medic_QuickFix
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	5g
			WaitForAllSpawned	5f
			TotalCurrency	100
			TotalCount	8
			MaxActive	6
			SpawnCount	2
			Where	spawnbot_right
			WaitBeforeStarting	25
			WaitBetweenSpawns	12
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Pyro
					Name 		"Dragon Fury Pyro"
					item 		"The Dragon's Fury"
			//		Item		"The Concheror"
					Item		"The Fire Breather"
					Item		"Smiling Somen"
					Item		"The Scorched Skirt"
					classicon 	pyro_dragon_fury_swordstone
					Attributes	AlwaysCrit
			//		Attributes  SpawnWithFullCharge
					Tag nav_prefer_flank_mid
					Tag	"popext_warpaint{ idx = 390, slot = 0}"	//	Dragon Slayer
					//	The above line makes warpaints work in Potato testing servers with popext. slot 0 = primary weapon slot
					ItemAttributes
					{
						ItemName "The Dragon's Fury"
						"set_item_texture_wear"				0				//	FN
						"paintkit_proto_def_index"			"5.46506e-43n"	//	390 - Dragon Slayer
					//	The above 2 lines enable warpaints in a listen server
					}
			//		CharacterAttributes
			//		{
			//			"increase buff duration"	9.0
			//		}
				}
				TFBot
				{
					Template	T_TFBot_Medic
					Tag nav_prefer_flank_mid
				}
			}
		}
		WaveSpawn
		{
			Name	sup5.2
			WaitForAllSpawned	5f2
			TotalCount	9
			MaxActive	9
			SpawnCount	3
			Where	spawnbot_left
			Where	spawnbot_right
			WaitBeforeStarting	5
			WaitBetweenSpawns	6
			Support	1
			TFBot
			{
				Class	Heavy
				Skill	Normal
				Name	"Tomislav Heavy"
				Item	"Tomislav"
				Item	"Capone's Capper"
				Classicon	heavy_accurate_lite
			}
		}
		WaveSpawn
		{
			Name	5h
			WaitForAllSpawned	5g
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot_right
			WaitBeforeStarting	25
			WaitBetweenSpawns	0
			TFBot
			{
				Template	T_TFBot_Loch_Lunatic
				Tag nav_prefer_flank_mid
			}
		}
		WaveSpawn
		{
			Name	lunacy_demo_boss_spawn_5.1
			WaitForAllSpawned	5h
			FirstSpawnWarningSound	"ambient\halloween\mysterious_perc_10.wav"
		}
		WaveSpawn
		{
			Name	lunacy_demo_boss_spawn_5.2
			WaitForAllSpawned	5h
			WaitBeforeStarting	10
			FirstSpawnWarningSound	"ambient\halloween\male_scream_16.wav"
		}
		WaveSpawn
		{
			Name	lunacy_demo_boss_death_5.3
			WaitForAllDead	5h
			DoneWarningSound	"ambient\halloween\male_scream_06.wav"
		}
		WaveSpawn
		{
			Name	Tank_Destruction_5.1	// a failsafe that kills the combat tank when the wave (subwave 5h) is over.
			WaitForAllDead	5h
			FirstSpawnOutput
			{
				Target bignet
				Action RunScriptCode
				Param "EntFire(`tank_boss`, `RemoveHealth`, `30000`, -1)"
			}
		}
	}
	//Wave	//	tank experimentation wave
	//{
	//	StartWaveOutput
	//	{
	//		Target wave_start_relay
	//		Action trigger
	//	}
	//	InitWaveOutput
	//	{
	//		Target wave_start_relay
	//		Action runscriptcode
	//		Param
	//		"
	//			EntFire(`bombpath_choose_middle_relay`, `Trigger`)
	//			EntFire(`bombpath_holograms*`,`color`,`00 255 00 `)	//	this changes the bomb hologram colors
				
    //           // Load popextensions script
    //            IncludeScript(`popextensions_main.nut`, getroottable())
				
    //            MissionAttrs
    //            ({
    //                ForceHoliday = 2
	//				BotsAreHumans = 130
	//				NoThrillerTaunt = 1
    //            })
				
    //            IncludeScript(`popextensions_main.nut`, getroottable())
	//			IncludeScript(`tankextensions_main`, getroottable())

	//					TankExt.SetValueOverrides({
	//					COMBATTANK_ROTATE_SPEED_DEFAULT = 2    // default: 0.8
	//			//		COMBATTANK_MAX_RANGE = 2000            // default: 1400
	//			//		COMBATTANK_MINIGUN_BULLET_DAMAGE = 45  // default: 22
	//			//		COMBATTANK_ROCKETPOD_RELOAD_DELAY = 0  // default: 0.3
	//			})

	//			//IncludeScript(`tankextensions/paratank`, getroottable())
	//			//IncludeScript(`tankextensions/ubertank`, getroottable())
	//			IncludeScript(`tankextensions/combattank`, getroottable())
	//			IncludeScript(`tankextensions/combattank_weapons/minigun`, getroottable())
	//			IncludeScript(`tankextensions/combattank_weapons/rocketpod`, getroottable())

	//			TankExt.CreateLoopPaths
	//			({
	//				tank_loop_mid =	//	tank spawns from botspawn_right, drops down the ledge and loops from the middle path towards the left path through the hatch, then keeps on circling these 2 paths endlessly.
	//				[
	//					Vector(882, 4351, 235)
	//					Vector(480, 4344, 235)
	//					Vector(439, 3803, -5)
	//					Vector(-338, 3267, 10)
	//					Vector(-922, 2806, 21)
	//					Vector(-910, 2286, 167) // loop start
	//					Vector(-45, 1682, 130)
	//					Vector(-37, 452, 141)
	//					Vector(-599, 60, 139)
	//					Vector(-1144, 126, -52)
	//					Vector(-1275, 2128, 145)
	//					Vector(-910, 2286, 167) // loop end
	//				]
	//			})
	//			TankExt.StartingPathNames
	//			([
	//				// map paths
	//				`boss_path_left_1`
	//				`boss_path_middle_1`
	//				`boss_path_right_1`
	//				
	//				// custom paths
	//				`tank_loop_mid_1`
	//			])
	//		"
	//	}
	//	DoneOutput
	//	{
	//		Target wave_finished_relay
	//		Action trigger
	//	}
	//	WaveSpawn
	//	{
	//		Name	6a
	//		TotalCount 1
	//		TotalCurrency 0
	//		Tank
	//		{
	//			Health	100000
	//			Speed	90
	//			Name	"combattank|minigun|rocketpod"
	//			StartingPathTrackNode "tank_loop_1"
	//		}
	//		FirstSpawnOutPut	//	A Vscript for showing tank's HP in game, as text
	//		{
	//			Target	wave_start_relay
	//			Action	RunScriptCode
	//			Param	"ClientPrint(null,3,`\x0700cc00 A combat tank has been deployed with 25,000 HP! This tank will forever patrol the map and will not deploy a bomb into the hatch.`)"
	//		}
	//	}
	//}
}
// F I N