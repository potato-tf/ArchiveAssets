//Expert mission made by MIKObscura: https://steamcommunity.com/id/MIKObscura/
#base robot_standard.pop
#base robot_giant.pop
#base overclock_cactus_general.pop

how_tf_do_you_make_an_exp_again?
{
    StartingCurrency 600
    CanBotsAttackWhileInSpawnRoom no
    RespawnWaveTime 5
    Advanced 1
	UpgradeStationKeepWeapons 1
    NoRomevisionCosmetics 1 [$SIGSEGV]
	PrecacheModel "models/bots/boss_bot/boss_tank_color" [$SIGSEGV]
    PrecacheModel "models/bots/soldier/bot_soldier_gibby.mdl" [$SIGSEGV]
	PrecacheModel "models/bots/soldier_boss/bot_soldier_boss_gibby.mdl" [$SIGSEGV]
    PrecacheModel "models/props_mvm/mvm_comically_small_player_shield.mdl" [$SIGSEGV]
	PrecacheModel "models/bots/sniper_boss/bot_sniper_boss.mdl" [$SIGSEGV]
    PrecacheModel "models/props_gameplay/cap_circle_320.mdl" [$SIGSEGV]
    CustomNavFile "mvm_null_b9a_fixed"

    PointTemplates
    {
        ghosttank
		{
			OnSpawnOutput
			{
				Target "!activator"
				Action "color"
				
				//Change to any RGB value
				Param "65 65 65"
			}
            OnSpawnOutput
			{
				Target "!activator"
				Action "DisableShadow"
			}
            OnSpawnOutput
            {
				Target  "!activator"
				Action  "Alpha"
				Param   "120"
            }
            OnSpawnOutput
            {
				Target  "!activator"
				Action  "AddOutput"
				Param   "rendermode 5"
            }
        }
        malachite
        {
            NoFixup 1
            trigger_multiple
			{
				"targetname" "cloak_radius"
                "filtername" "filter_cloak"
				"spawnflags" "1"
                "StartDisabled" "1"
				"mins" "-200 -200 -450"
				"maxs" "200 200 450"
				"origin" "100 0 0"
                "wait" "0.1"
            
                "OnStartTouch" "!activator,$AddCond,66,0,-1"
                "OnEndTouch" "!activator,$RemoveCond,66,0,-1"
                "OnTrigger" "!activator,$AddCond,66,0,-1"
			}
            prop_dynamic
            {
                "model" "models/props_gameplay/cap_circle_320.mdl"
                "Skin" "2"
                "StartDisabled" "1"
                "targetname" "cloak_prop"
                "disableshadows" "1"
                "modelscale" "1.25"
            }
            OnSpawnOutput
            {
                Target cloak_radius
                Action Enable
                Delay 0.1
            }
            OnSpawnOutput
            {
                Target cloak_prop
                Action Enable
                Delay 0.1
            }
            OnParentKilledOutput
            {
                Target cloak_stop
                Action Enable
            }
        }
        cloak_stop
        {
            NoFixup 1
            filter_tf_bot_has_tag
            {
                "tags" "stealth_giver"
                "require_all_tags" "0"
                "Negated" "1"
                "targetname" "filter_tags"
            }
            filter_tf_bot_has_tag
            {
                "tags" "stealth_giver"
                "require_all_tags" "0"
                "Negated" "0"
                "targetname" "filter_tags2"
            }
            filter_activator_tfteam
            {
                "TeamNum" "3"
                "targetname" "filter_blu"
            }
            filter_multi
            {
                "targetname" "filter_cloak"
                "FilterType" "0"
                "Filter01" "filter_blu"
                "Filter02" "filter_tags"
            }
            filter_multi
            {
                "targetname" "filter_cloak_stop"
                "FilterType" "0"
                "Filter01" "filter_blu"
                "Filter02" "filter_tags2"
            }
            trigger_multiple
			{
				"targetname" "cloak_stop"
				"spawnflags" "1"
                "StartDisabled" "1"
                "filtername" "filter_blu"
				"mins" "-5000 -5000 -1800"
				"maxs" "5000 5000 1800"
				"origin" "0 0 0"
                "OnStartTouch" "!activator,$RemoveCond,66,0,-1"
                "OnStartTouch" "!self,Disable,,0.01,-1"
			}
        }
        rainbow_gun //that feeling when you spend hours on something stupid and realize you just needed to add one single line instead
        {
            NoFixup 1
            filter_tf_bot_has_tag
            {
                "tags" "rainbow"
                "require_all_tags" "0"
                "Negated" "0"
                "targetname" "filter_tags3"
            }
            trigger_multiple
            {
                "targetname" "rainbow_trigger"
                "mins" "-3000 -3000 -2000"
                "maxs" "3000 3000 2000"
                "filtername" "filter_blu"
                "origin" "0 0 0"
                "spawnflags" "1"
                "OnStartTouch" "popscript,$rainbowGun,,0,-1"
            }
        }
        distortion
		{
			//OnSpawnOutput
			//{
			//	Target "!activator"
			//	Action "addoutput"
			//	Param "renderfx 15"
			//}
            OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "rendermode 1"
			}
            OnSpawnOutput
            {
                Target "!activator"
                Action "alpha"
                Param 190
                Delay 0.01
            }
		}
        no_supp
        {
            NoFixup 1
            logic_relay
            {
                "targetname" "support_end"
                "OnTrigger" "spawnbot_jeep,Disable,,0,-1"
            }
            logic_relay
            {
                "targetname" "support_restart"
                "OnTrigger" "spawnbot_jeep,Enable,,0,-1"
            }
        }
        no_console_spam
        {
            NoFixup 1
            $filter_keyvalue
            {
                "targetname" "filter_effect"
                "$name" "effect_name"
                "$value" "shingle_flyaway"
            }
            logic_relay
            {
                "targetname" "bye_console_spam"
                "OnSpawn" "@f@filter_effect@info_particle_system,Kill,,0,-1"
            }
        }
    }

    Templates 
    {
        T_TFBot_Soldier_Malachite
        {
            Class Soldier
            Scale 1.4
            Health 600
            SpawnTemplate malachite
            tag stealth_giver
            ClassIcon soldier_backup_d
            Item "Idiot Box"
            UseCustomModel "models/bots/soldier_boss/bot_soldier_boss_gibby.mdl"
            Name "Cloak Banner Soldier"
            Skill Expert
            CharacterAttributes
            {
                "attach particle effect" 3041
                "voice pitch scale" 0.6
            }
        }
        T_TFBot_Soldier_Giant_Malachite
        {
            Template T_TFBot_Giant_Soldier
            SpawnTemplate malachite
            tag stealth_giver
            ClassIcon soldier_backup_d
            Item "Idiot Box"
            Name "Giant Cloak Banner Soldier"
            UseCustomModel "models/bots/soldier_boss/bot_soldier_boss_gibby.mdl"
            Skill Expert
            CharacterAttributes
            {
                "attach particle effect" 3041
                "voice pitch scale" 0.6
            }
        }
        T_TFBot_Giant_Soldier_Uncharged
		{
			Class Soldier
			Name "Giant Uncharged Soldier"
			ClassIcon soldier_crit
			Skill Normal
			Health 3800
			Item "The Original"
			//Attributes AlwaysCrit
			WeaponRestrictions PrimaryOnly
			Attributes MiniBoss
			ItemAttributes
			{
				ItemName "The Original"
				"faster reload rate" 0.2
				"fire rate bonus" 2
				"Projectile speed increased" 0.5
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
			}
		}
        T_TFBot_Heavyweapons_Fist_KGB
        {
            Template T_TFBot_Heavyweapons_Fist
            Item "The Killing Gloves of Boxing"
            ClassIcon heavy_champ
            Item "Pugilist's Protector"
            Name "Boxing Champ"
            //CharacterAttributes
            //{
            //    "move speed bonus" 0.7
            //}
        }
        T_TFBot_Soldier_Spammer 
		{
			Class Soldier
			Name "Rapid Fire Soldier"
			ClassIcon soldier_spammer
			Skill Expert
			Item "The Lucky Shot"	
			WeaponRestrictions PrimaryOnly
			ItemAttributes
			{
				ItemName "TF_WEAPON_ROCKETLAUNCHER"
				"faster reload rate" -0.8
				"fire rate bonus" 0.5
                "Projectile speed increased" 0.65
			}
		}
		T_TFBot_Soldier_Spammer_Reload 
		{
			Class Soldier
			Name "Burst Fire Soldier"
			ClassIcon soldier_burstfire
			Skill Expert
            Scale 1.4
            Health 600
			Attributes HoldFireUntilFullReload
			ItemAttributes
			{
				ItemName "TF_WEAPON_ROCKETLAUNCHER"
				"move speed bonus"	0.5 
				"health from packs decreased" 0.01 
				"voice pitch scale" 0
				"faster reload rate" 0.6
				"fire rate bonus" 0.1
				"clip size upgrade atomic" 5.0
				"Projectile speed increased" 0.65
			}
		}
        T_TFBot_Phlog_Pyro
		{
			Class Pyro
			Item "The Phlogistinator"
			Name "Phlogistinator Pyro"
			Skill Expert
			Attributes SpawnWithFullCharge
			ClassIcon pyro_phlog_ver2
            Taunt 
            {
                Delay 2
                Repeats 1
            }
			ItemAttributes
			{
				ItemName "The Phlogistinator"
				"airblast disabled" 0
			}
		}
        T_TFBot_Bison_Giant
        {
            Class Soldier
            Skill Expert
            Item "The Righteous Bison"
            Name "Giant Homing Bison Soldier"
            ClassIcon soldier_bison_homing_lite
            WeaponRestrictions SecondaryOnly
            Attributes MiniBoss
            Health 3800
            ItemAttributes
            {
                ItemName "The Righteous Bison"
                "set item tint rgb" 16738740
                "mod projectile heat seek power" 60
				"mod projectile heat aim error" 180
				"mod projectile heat aim time" 1.5
                "faster reload rate" -0.8
                "Projectile speed increased" 0.5
                
            }
            CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
			}
        }
        T_TFBot_Giant_Scout_Shortstop
		{
			Class Scout
			Name "Giant Shortstop Scout"
			ClassIcon scout_shortstop
			Skill Normal
			Item "The Shortstop"
			Health 1600
			Attributes MiniBoss
			WeaponRestrictions PrimaryOnly
			CharacterAttributes
			{
				"damage force reduction" 0.7
				"airblast vulnerability multiplier" 0.7
				"override footstep sound set" 5
			}
		}
        T_TFBot_Giant_Sniper_Rapidfire
        {
            Name "Giant Hipfire Sniper"
            Class Sniper
            MaxVisionRange 1000
            //ClassIcon sniper_alwaysfire
            Health 2500
            Attributes MiniBoss
            Attributes AlwaysFireWeapon
            Skill Expert
            WeaponRestrictions PrimaryOnly
            UseCustomModel "models/bots/sniper_boss/bot_sniper_boss.mdl"  
        
            ItemAttributes
            {
                ItemName "TF_WEAPON_SNIPERRIFLE"
                "damage bonus" 1.5
                "sniper fires tracer" 1
            }
            CharacterAttributes
            {
                "move speed bonus" 0.5
                "damage force reduction" 0.2
                "airblast vulnerability multiplier" 0.2
                "override footstep sound set" 5 // 5=Scout,3=Soldier,6=Pyro,4=Demoman,2=Heavy,7=Buster
            }
        }
        T_TFBot_Giant_Soldier_Spammer_Reload_Buff
        {
            Class Soldier
			Name "Giant Burstfire Buff Soldier"
            Item "The Buff Banner"
			ClassIcon soldier_burstfire_buff
			Health 3800
			Skill Expert
			Attributes MiniBoss
            Attributes SpawnWithFullCharge
            Attributes HoldFireUntilFullReload
			ItemAttributes
			{
				ItemName "TF_WEAPON_ROCKETLAUNCHER"
				"move speed bonus"	0.5
				"faster reload rate" 0.6
				"fire rate bonus" 0.1
				"clip size upgrade atomic" 5.0
				"Projectile speed increased" 0.65

			}
            ItemAttributes
            {
                ItemName "The Buff Banner"
                "increase buff duration" 9999
            }
			CharacterAttributes
			{
				"move speed bonus"	0.5 
				"health from packs decreased" 0.01 
				"voice pitch scale" 0
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
				"Projectile speed increased" 0.65
			}
        }
        T_TFBot_Soldier_Bison_Spammer
        {
            Class Soldier
            Attributes AlwaysCrit
            Skill Expert
            Item "The Righteous Bison"
            Name "Rapidfire Bison Soldier"
            ClassIcon soldier_bison_spammer
            WeaponRestrictions SecondaryOnly
            ItemAttributes
			{
				ItemName "The Righteous Bison"
				"faster reload rate" -0.8
				"fire rate bonus" 0.5
			}
        }
        T_TFBot_Giant_Soldier_RocketShotgun_Conch
        {
            Template T_TFBot_Giant_Soldier_RocketShotgun
            Item "The Concheror"
            Attributes SpawnWithFullCharge
            ClassIcon soldier_blackbox_conch_lite
            ItemAttributes
            {
                ItemName "The Concheror"
                "increase buff duration" 9999
            }
        }
        T_TFBot_Scout_Ninja
        {
            Class Scout
            Skill Expert
            WeaponRestrictions MeleeOnly
            Name "Ninja Scout"
            Scale 1.4
            Health 650
            //UseBestWeapon 1
            ClassIcon scout_threerune_daan
            Item "Three-Rune Blade"
            Item "The Frickin' Sweet Ninja Hood"
            Item TF_WEAPON_SPELLBOOK
            Spell 
            {
                Delay 5
                Cooldown 8
                Repeats 0
                IfSeeTarget 1
                Charges 1
                Limit 1
                Type "Teleport"
            }
            ItemAttributes
            {
                ItemName "Three-Rune Blade"
                "hit self on miss" 0
                "crit from behind" 1
            }
            CharacterAttributes
			{
				"head scale" 0.7
				"move speed bonus" 1.25
			}
        }
        T_TFBot_Giant_Scout_Milker
        {
            Class Scout
            Skill Expert
            Attributes MiniBoss
            Health 1600
            Item "Mad Milk"
            Item "The Milkman"
            Name "Giant Milker Scout"
            UseBestWeapon 1
            ClassIcon scout_milk
            ItemAttributes
            {
                ItemName "Mad Milk"
                "effect bar recharge rate increased" 0.35
            }
            CharacterAttributes
			{
				"damage force reduction" 0.7
				"airblast vulnerability multiplier" 0.7
				"override footstep sound set" 5
			}
        }
        T_TFBot_Heavy_Plasma
        {
            Class Heavyweapons
            Name "Plasma Heavy"
            Item "Computron 5000"
            ClassIcon heavy_atomic
            Skill Expert
            ItemAttributes
            {
                ItemName TF_WEAPON_MINIGUN
                "fire rate bonus"	2.0
                "override projectile type"	13
                "energy weapon penetration"	0
                "ragdolls plasma effect"	1
                "centerfire projectile" 1
            }
        }
        T_TFBot_Giant_Heavy_Plasma_Shotgun
        {
            Template T_TFBot_Giant_Heavyweapons_Shotgun
            Tag rainbow
            Item "Big Steel Jaw of Summer Fun"
            Name "Giant Plasma Burst Heavy"
            ClassIcon heavy_shotgun_gaussburst_mort
            Attributes HoldFireUntilFullReload
            ItemAttributes
            {
                ItemName TF_WEAPON_SHOTGUN_HWG
                "override projectile type"	13
                "energy weapon penetration"	0
                "ragdolls plasma effect"	1
                "fire rate bonus" 0.2
				"mult projectile count" 4
				"damage penalty" 0.55
				"faster reload rate" 1.55
                "attack projectiles" 0
                "energy weapon no hurt building" 1
                "projectile spread angle penalty" 3
                "auto fires full clip" 1
                "auto fires when full" 1
                //"set item tint rgb" 12073019
                "particle color rainbow" 200
                //"fire input on hit" "color_picker^PickRandom"
            }
            CharacterAttributes
            {
                "attack projectiles" 0
            }
        }
        T_TFBot_Giant_Scout_Wrap
        {
            Class Scout 
            Attributes MiniBoss
            Health 1600
            Skill Expert
            WeaponRestrictions MeleeOnly
            Item "The Wrap Assassin"
            Name "Giant Ornament Spammer Scout"
            ExtAttr AlwaysFireWeaponAlt
            ClassIcon scout_wrap_lite
            ItemAttributes
            {
                ItemName "The Wrap Assassin"
                "effect bar recharge rate increased" 0.1
            }
        }
        T_TFBot_Engineer_Frontier
        {
            Class Engineer
            Action Mobber
            Skill Expert
            Item "The Data Mining Light"
            Health 650
            Scale 1.2
            Item "The Frontier Justice"
            WeaponRestrictions PrimaryOnly
            ClassIcon engineer_frontier_justice_nys
            Name "Frontier Engineer"
            ItemAttributes
            {
                ItemName "The Frontier Justice"
                "critboost on kill" 3
                "clip size penalty" 1
                "item style override" 1
				"loot rarity" 1
				"is australium item" 1
                "turn to gold"	1
            }
        }
        T_TFBot_Giant_Demo_Burst_Loch
        {
            Template T_TFBot_Giant_Demoman
            Item "The Loch-n-Load"
            Name "Giant Loch-n-Burst Demo"
            ClassIcon demo_loch_nys
            ItemAttributes
            {
                ItemName "The Loch-n-Load"
                "faster reload rate" 0.65 //35% faster reload
				"fire rate bonus" 0.1
				"clip size upgrade atomic" 7.0
				"projectile spread angle penalty" 5
				"Projectile speed increased"	1.1
            }
        }
        T_TFBot_Giant_TriRocket_Soldier
        {
            Class Soldier
			Name "Giant Rocket Shotgun Soldier"
			ClassIcon soldier_rocket_shotgun_giant
            Item "The Black Box"
			Skill Expert
			Health 3800
			WeaponRestrictions PrimaryOnly
			Attributes HoldFireUntilFullReload
			Attributes MiniBoss
            ItemAttributes
			{
				ItemName "The Black Box"
				"damage bonus" 0.65
				"fire rate bonus" 0.001
				"faster reload rate" 1.2
				"Projectile speed increased" 0.65
				"projectile spread angle penalty" 2    
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.4
				"airblast vulnerability multiplier" 0.4
				"override footstep sound set" 3
			}
        }
        T_TFBot_Scout_Pocket
        {
            Class Scout
            Scale 1.4
            Health 650
            Skill Normal
            WeaponRestrictions SecondaryOnly
            Name "Pocket Pistol Scout"
            Item "Pretty Boy's Pocket Pistol"
            Item "The Fed-Fightin' Fedora"
            Item "Dillinger's Duffel"
            ClassIcon scout_pocketpistol_heal_lite
        }
        T_TFBot_Demo_Sticky
        {
            Class Demoman
            Skill Expert
            Name "Sticky Demo"
            ClassIcon demo_sticky_daan
            WeaponRestrictions    SecondaryOnly
            ItemAttributes
            {
                ItemName    "TF_WEAPON_GRENADELAUNCHER"
                "is_passive_weapon"    1
                "override projectile type"    27 // Fires nothing
            }
            ItemAttributes
            {
                ItemName    "TF_WEAPON_PIPEBOMBLAUNCHER"
                "stickybomb charge rate"     0.001 //Demo-bot will fire Stickybomb immediately
                "max pipebombs decreased"    -7 // 1 Stickybomb on ground allowed, will explode when another is fired
                "projectile range increased" 0.35 // Prevents overshooting target
            }
        }
        T_TFBot_Giant_Soldier_Spammer_Conch
        {
            Template T_TFBot_Giant_Soldier_Spammer 
            Item "The Concheror"
            Attributes SpawnWithFullCharge
            Name "Giant Rapid Conch Soldier"
            ClassIcon soldier_conch_spammer
            ItemAttributes
            {
                ItemName "The Concheror"
                "increase buff duration" 999
            }
        }
        T_TFBot_Giant_DemoMan_PrinceTavish_Splendid
        {
            Class Demoman
			ClassIcon demoknight_giant
			Name "Giant Demoknight"
			Skill Expert
			Health 3300
			Item "Prince Tavish's Crown"
			Item "The Splendid Screen"
			Item "The Eyelander"
			Item "Ali Baba's Wee Booties"
			WeaponRestrictions MeleeOnly
			Attributes MiniBoss
			ItemAttributes
			{
				ItemName "The Eyelander"
				"critboost on kill" 3
			}
			CharacterAttributes
			{
				"move speed bonus" 0.5
				"damage force reduction" 0.5
				"airblast vulnerability multiplier" 0.5
				"override footstep sound set" 4
			}
        }
    }
     Mission
	{
		Objective	DestroySentries
		Where	spawnbot_alley
		BeginAtWave	1
        RunForThisManyWaves 6
		InitialCooldown	30
		CooldownTime	40
		DesiredCount	1
		
		TFBot
		{
			Template	T_TFBot_SentryBuster
		}
	}
    Mission // For Wave 1
    {
        Where spawnbot
        Objective Spy
        BeginAtWave 1
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 35
    
        TFBot
        { 
            Template T_TFBot_Spy
        }
    }
    Mission // For Wave 4
    {
        Where spawnbot
        Objective Spy
        BeginAtWave 4
        RunForThisManyWaves 1
        DesiredCount 3
    
        InitialCooldown 15
        CooldownTime 35
    
        TFBot
        { 
            Template T_TFBot_Spy
        }
    }
    Mission // For Wave 3
    {
        Where spawnbot
        Objective Sniper // Engineer,Sniper,Spy,DestroySentries
        BeginAtWave 3
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 40
    
        TFBot
        { 
            Template T_TFBot_Sniper_Sydney_Sleeper
        }
    }
    Mission // For Wave 4
    {
        Where spawnbot
        Objective Engineer
        BeginAtWave 4
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 40
        CooldownTime 30
    
        TFBot
       { 
           Template T_TFBot_Engineer_Sentry_Tele_Battle
            Item "Defragmenting Hard Hat 17%"
            TeleportWhere spawnbot_alley
            TeleportWhere spawnbot_jeep
            TeleportWhere spawnbot_left
            TeleportWhere spawnbot_tank
        }
    }
    Mission // For Wave 6
    {
        Where spawnbot
        Objective Engineer
        BeginAtWave 6
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 20
        CooldownTime 35
    
        TFBot
        { 
            Template T_TFBot_Engineer_Sentry_Battle
            Item "Defragmenting Hard Hat 17%"
        }
    }
    SpawnTemplate cloak_stop
    SpawnTemplate no_supp
    SpawnTemplate no_console_spam
    //SpawnTemplate weapon_switch
    //SpawnTemplate rainbow_gun
    //LuaScriptFile "scripts/call_of_the_void.lua"

    Wave // Wave 1
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        Explanation
        {
            Line "{red}A mysterious energy has come from the void"
            Line "{red}and started to take over the robots"
            Line "{red}You need to stop it before it consumes our world"
            Line "{red}Some experimental new upgrades are available to help you in defeating it"
            Line "{red}------Transmission ended--------"
        }
        WaveSpawn
        {
            Name "wave11"
            Where spawnbot
            Where spawnbot_left
            TotalCount 3
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 14
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Giant_Soldier
            }
        }
        WaveSpawn
        {
            Name "wave12"
            Where spawnbot_left
            Where spawnbot_jeep
            TotalCount 9
            MaxActive 5
            SpawnCount 3
            WaitBeforeStarting 2
            WaitBetweenSpawns 10
        
            TotalCurrency 50
        
            TFBot
            { 
                Class Soldier
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name "wave13"
            Where spawnbot_left
            Where spawnbot_jeep
            Where spawnbot_alley
            TotalCount 12
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 3
            WaitBetweenSpawns 11
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Sniper_Huntsman
            }
        }
        WaveSpawn
        {
            Name "wave1a"
            WaitForAllSpawned "wave11"
            Where spawnbot
            Where spawnbot_left
            Where spawnbot_alley
            TotalCount 20
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 17
            WaitBetweenSpawns 15
        
            TotalCurrency 500
        
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Giant_DemoMan_PrinceTavish_Splendid
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickFix
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickFix
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickFix
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickFix
                }
            }
        }
        WaveSpawn
        {
            Name "wave1a1"
            WaitForAllSpawned "wave11"
            Where spawnbot
            TotalCount 12
            MaxActive 6
            SpawnCount 4
            WaitBeforeStarting 21
            WaitBetweenSpawns 7
        
            TotalCurrency 100
        
            TFBot
            { 
                Class Scout
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name "wave1a1"
            WaitForAllSpawned "wave11"
            Where spawnbot_jeep
            TotalCount 12
            MaxActive 6
            SpawnCount 4
            WaitBeforeStarting 20
            WaitBetweenSpawns 4
        
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Pyro_Flaregun
                Skill Expert
            }
        }
        WaveSpawn
        {
            Name "wave1a2"
            WaitForAllSpawned "wave1a1"
            Where spawnbot_left
            TotalCount 10
            MaxActive 7
            SpawnCount 5
            WaitBeforeStarting 11
            WaitBetweenSpawns 9
        
            TotalCurrency 50
           
            TFBot
            { 
                Class Soldier
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name "wave1b"
            WaitForAllDead "wave1a"
            Where spawnbot
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Heavyweapons_Heater
                Name "Giant Heater Heavy"
            }
        }
        WaveSpawn
        {
            Name "wave1b1"
            WaitForAllDead "wave1a"
            Where spawnbot_alley
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 14
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Giant_Scout
                WeaponRestrictions MeleeOnly
                Name "Giant Bat Scout"
                ClassIcon scout_bat_nys
            }
        }
        WaveSpawn
        {
            Name "wave1b2"
            WaitForAllDead "wave1a"
            Where spawnbot_left
            MaxActive 15
            SpawnCount 3
            Support 1
            WaitBeforeStarting 5
            WaitBetweenSpawns 4
        
            TotalCurrency 50
        
            TFBot
            { 
                Class Pyro
                Item "The Detonator"
                Name "Detonator Pyro"
                ClassIcon pyro_detonator
                WeaponRestrictions SecondaryOnly
                Skill Expert
            }
        }
    }
    Wave // Wave 2
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn 
        {
            Name "wave2atank"
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 50
        
            TotalCurrency 200
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "tank_path_b_1"
                SpawnTemplate "ghosttank"
                Model "models/bots/boss_bot/boss_tank_color.mdl"
                Health 16000
                Speed 80
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
        WaveSpawn
        {
            Name "wave2a"
            Where spawnbot
            Where spawnbot_left
            TotalCount 3
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 20
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Giant_Heavyweapons
            }
        }
        WaveSpawn
        {
            Name "wave2a1"
            Where spawnbot_jeep
            TotalCount 28
            MaxActive 10
            SpawnCount 4
            WaitBeforeStarting 2
            WaitBetweenSpawns 9
        
            TotalCurrency 50
        
            RandomChoice
            {
                TFBot
                {
                    Class Pyro
                    Skill Normal
                    ItemAttributes
                    {
                        ItemName TF_WEAPON_FLAMETHROWER
                        "airblast_destroy_projectile" 1
                    }
                }
                TFBot
                {
                    Class Pyro
                    Skill Easy
                }
            }
        }
        WaveSpawn
        {
            Name "wave2supp"
            WaitForAllDead "wave2a"
            Where spawnbot
            MaxActive 8
            SpawnCount 5
            Support 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 9
        
            TotalCurrency 0
        
            TFBot
            { 
                Class Scout
                Skill Easy 
            }
        }
        WaveSpawn
        {
            Name "wave2b"
            WaitForAllSpawned "wave2a"
            Where spawnbot_alley
            Where spawnbot_left
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 26
            WaitBetweenSpawns 14
        
            TotalCurrency 150
        
            TFBot
            { 
                Template T_TFBot_Giant_Demo_RapidFire
            }
        }
        WaveSpawn
        {
            Name "wave2b1"
            WaitForAllSpawned "wave2a"
            Where spawnbot_jeep
            TotalCount 20
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 32
            WaitBetweenSpawns 9
        
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Soldier_Extended_Concheror
            }
        }
        WaveSpawn
        {
            Name "wave2c"
            WaitForAllSpawned "wave2b"
            Where spawnbot
            Where spawnbot_tank
            TotalCount 3
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 14
            WaitBetweenSpawns 14
        
            TotalCurrency 200
        
            TFBot
            { 
                Template T_TFBot_Giant_Soldier_Spammer
            }
        }
        WaveSpawn
        {
            Name "wave2c1"
            WaitForAllSpawned "wave2b"
            Where spawnbot_alley
            TotalCount 24
            MaxActive 16
            SpawnCount 2
            WaitBeforeStarting 16
            WaitBetweenSpawns 3
        
            TotalCurrency 100
        
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Heavyweapons_Fist_KGB
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
    }
    Wave // Wave 3
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name "wave3"
            Where spawnbot
            Where spawnbot_left
            RandomSpawn 1
            TotalCount 10
            MaxActive 5
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 16
        
            TotalCurrency 500
        
            RandomChoice
            {
                TFBot
                {
                    Template T_TFBot_Giant_Demo_Burst
                }
                TFBot
                {
                    Template T_TFBot_Giant_Demo_Burst
                }
                TFBot
                {
                    Template T_TFBot_Giant_Demo_Burst_Loch
                }
                TFBot
                {
                    Template T_TFBot_Giant_Demo_Burst_Loch
                }
            }
        }
        WaveSpawn
        {
            Name "wave3a"
            Where spawnbot_jeep
            TotalCount 24
            MaxActive 8
            SpawnCount 6
            WaitBeforeStarting 2
            WaitBetweenSpawns 8
        
            TotalCurrency 150
        
            TFBot
            { 
                Class Pyro
                Skill Expert
                Attributes AlwaysCrit
                ItemAttributes
                {
                    ItemName TF_WEAPON_FLAMETHROWER
                    "airblast disabled" 1
                }
            }
        }
        WaveSpawn
        {
            Name "wave3a1"
            Where spawnbot_left
            Where spawnbot
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 3
            WaitBetweenSpawns 14
        
            TotalCurrency 150
        
            TFBot
            { 
                Template T_TFBot_Bison_Giant
            }
        }
        WaveSpawn
        {
            Name "wave3b"
            WaitForAllSpawned "wave3a"
            Where spawnbot
            TotalCount 12
            MaxActive 7
            SpawnCount 4
            WaitBeforeStarting 10
            WaitBetweenSpawns 8
        
            TotalCurrency 50
        
                TFBot
                { 
                    Class Heavyweapons
                    Skill Normal 
                }
        }
        WaveSpawn
        {
            Name "wave3c"
            WaitForAllDead "wave3a1"
            Where spawnbot_alley
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 4
            WaitBetweenSpawns 16
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Giant_Scout_Milker
            }
        }
        WaveSpawn
        {
            Name "wave3c1"
            WaitForAllDead "wave3b"
            Where spawnbot_jeep
            TotalCount 36
            MaxActive 12
            SpawnCount 6
            Support 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 8
        
            TotalCurrency 100
        
            TFBot
            {
                Class Scout
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name "wave3c2"
            WaitForAllSpawned "wave3b"
            Where spawnbot_alley
            TotalCount 24
            MaxActive 12
            SpawnCount 6
            WaitBeforeStarting 14
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
            Squad
            {
                TFBot
                { 
                    Class Soldier
                    Skill Expert
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
    }
    Wave // Wave 4
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        Explanation
        {
            Line "The robots have developped a banner to make themselves invisible"
            Line "Kill the glowing bots to remove their invisibility"
            Line "--------Transmission ended----------"
        }
        WaveSpawn 
        {
            Name "wave4tank"
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 45
        
            TotalCurrency 400
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "tank_path_a_1"
                SpawnTemplate "ghosttank"
                Model "models/bots/boss_bot/boss_tank_color.mdl"
                Health 22000
                Speed 75
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
        WaveSpawn
        {
            Name "wave4a"
            Where spawnbot_left
            Where spawnbot
            TotalCount 4
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 12
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Giant_Boxing_Heavy
            }
        }
        WaveSpawn
        {
            Name "wave4a1"
            Where spawnbot_left
            TotalCount 6
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 2
            WaitBetweenSpawns 12
        
            TotalCurrency 150
        
            TFBot
            { 
                Template T_TFBot_Giant_Sniper_Rapidfire
            }
        }
        WaveSpawn
        {
            Name "wave4a1"
            Where spawnbot
            TotalCount 40
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 1
            WaitBetweenSpawns 6
        
            TotalCurrency 100
        
            TFBot
            { 
                Class Demoman
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name "wave4b"
            WaitForAllSpawned "wave4a"
            Where spawnbot
            Where spawnbot_tank
            TotalCount 12
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 14
            WaitBetweenSpawns 22
        
            TotalCurrency 200
        
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Giant_Soldier_Spammer_Reload
                    //Attributes AlwaysCrit
                }
                TFBot
                { 
                    Template T_TFBot_Soldier_Malachite
                }
                TFBot
                {
                    Class Soldier
                    Skill Hard
                    ClassIcon soldier_backup_d
                    Scale 1.4
                    Health 600
                }
                TFBot
                {
                    Class Soldier
                    Skill Hard
                    ClassIcon soldier_backup_d
                    Health 600
                    Scale 1.4
                }
            }
        }
        WaveSpawn
        {
            Name "wave4b1"
            WaitForAllSpawned "wave4a"
            Where spawnbot_left
            TotalCount 18
            MaxActive 8
            SpawnCount 6
            Support Limited
            WaitBeforeStarting 17
            WaitBetweenSpawns 11
        
            TotalCurrency 50
        
            TFBot
            { 
                Template T_TFBot_Engineer_Frontier
            }
        }
        WaveSpawn
        {
            Name "wave4support"
            Where spawnbot_jeep
            MaxActive 10
            SpawnCount 6
            Support 1
            WaitBeforeStarting 5
            WaitBetweenSpawns 10
        
            TotalCurrency 0
        
            TFBot
            { 
                Template T_TFBot_Demoman_Knight
                Attributes AlwaysCrit
            }
        }
    }
    Wave // Wave 5
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name "wave5a"
            Where spawnbot
            TotalCount 6
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 25
        
            TotalCurrency 100
        
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Heavyweapons_Deflector
                }
                TFBot
                {
                    Template T_TFBot_Giant_Medic_Regen
                }
            }
        }
        WaveSpawn
        {
            Name "wave5a1"
            Where spawnbot
            Where spawnbot_left
            Where spawnbot_alley
            RandomSpawn 1
            TotalCount 16
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 1
            WaitBetweenSpawns 14
        
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Heavyweapons_Fist
                Name "Steel Gauntlet Pusher"
                ClassIcon heavy_steelfist_pusher
                //Attributes AlwaysCrit
                ItemColor
                {
                    ItemName "Fists of Steel"
                    Red 64
                    Green 64
                    Blue 53
                }
                CharacterAttributes
				{
					"voice pitch scale"	0.6
				}
                ItemAttributes
                {
                    ItemName "Fists of Steel"
                    "damage bonus" 1.5
                    "damage causes airblast" 1
                }
            }
        }
        WaveSpawn
        {
            Name "wave5a1"
            Where spawnbot_jeep
            Where spawnbot_alley
            TotalCount 25
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 2
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
                TFBot
                { 
                    Class Pyro
                    Skill Normal
                    Item "The Dragon's Fury"
                    ClassIcon pyro_dragon_fury
                    Name "Dragon Pyro"
                }
        }
        WaveSpawn
        {
            Name "wave5b"
            WaitForAllSpawned "wave5a"
            Where spawnbot_left
            Where spawnbot
            TotalCount 4
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 20
            WaitBetweenSpawns 13
        
            TotalCurrency 150
        
            TFBot
            {
                Template T_TFBot_Giant_Soldier_Spammer_Conch
            }
        }
        WaveSpawn
        {
            Name "wave5b1"
            WaitForAllSpawned "wave5a"
            Where spawnbot_jeep
            Where spawnbot_alley
            Where spawnbot
            TotalCount 64
            MaxActive 8
            SpawnCount 4
            Support Limited
            WaitBeforeStarting 24
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
            TFBot
            {
                Class Demoman
                Skill Expert
                Attributes AlwaysCrit
            }
        }
        WaveSpawn
        {
            Name "wave5b1"
            WaitForAllSpawned "wave5a"
            Where spawnbot_alley
            Where spawnbot
            TotalCount 80
            MaxActive 8
            SpawnCount 5
            Support Limited
            WaitBeforeStarting 24
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
            TFBot
            { 
                Class Heavyweapons
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name "wave5c"
            WaitForAllSpawned "wave5b"
            Where spawnbot
            Where spawnbot_left
            TotalCount 6
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 14
            WaitBetweenSpawns 23
        
            TotalCurrency 150
        
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Giant_Soldier_SlowBarrage
                }
                TFBot 
                {
                    Template T_TFBot_Giant_Medic
                }
            }
        }
    }  
    Wave // Wave 6
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name "wave6support"
            Where spawnbot_left
            Where spawnbot_alley
            Where spawnbot_jeep
            TotalCount 15
            MaxActive 5
            SpawnCount 5
            Support Limited
            WaitBeforeStarting 12
            WaitBetweenSpawns 16
        
            TotalCurrency 0
        
                TFBot
                { 
                    Class Heavyweapons
                    Skill Hard
                }
        }
        WaveSpawn
        {
            Name "wave6a"
            Where spawnbot
            Where spawnbot_left
            TotalCount 4
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 14
        
            TotalCurrency 100
        
            TFBot
            { 
                Template T_TFBot_Giant_Soldier_RocketShotgun_Conch
                Attributes AlwaysCrit
            }
        }
        WaveSpawn
        {
            Name "wave6a1"
            Where spawnbot_left
            Where spawnbot_alley
            Where spawnbot
            TotalCount 10
            MaxActive 4
            SpawnCount 1
            WaitBeforeStarting 0.1
            WaitBetweenSpawns 13
        
            TotalCurrency 200
        
            TFBot
            { 
                Template T_TFBot_Giant_Scout_Wrap
            }
        }
        WaveSpawn
        {
            Name "wave6a2"
            Where spawnbot_jeep
            Where spawnbot_alley
            TotalCount 20
            MaxActive 8
            SpawnCount 5
            WaitBeforeStarting 3
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
            TFBot
            { 
                Class Soldier
                Item "The Direct Hit"
                Skill Expert
                Name "Direct Hit Soldier"
                ClassIcon soldier_directhit_lite
            }
        }
        WaveSpawn
        {
            Name "wave6b"
            WaitForAllSpawned "wave6a"
            Where spawnbot
            Where spawnbot_left
            TotalCount 4
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 16
            WaitBetweenSpawns 30
        
            TotalCurrency 100
        
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Giant_Heavyweapons_BrassBeast
                    Name "Giant Brass Heavy"
                    ClassIcon heavy_brass_nys
                    Attributes AlwaysCrit
                    ItemAttributes
                    {
                        ItemName "The Brass Beast"
                        "damage bonus" 1.7
                    }
                }
                TFBot
                {
                    Template T_TFBot_Giant_Medic_Regen
                }
            }
        }
        WaveSpawn
        {
            Name "wave6b1"
            WaitForAllSpawned "wave6a"
            Where spawnbot_left
            TotalCount 18
            MaxActive 10
            SpawnCount 6
            WaitBeforeStarting 17
            WaitBetweenSpawns 9
        
            TotalCurrency 100
           
                TFBot
                { 
                    Template T_TFBot_Demo_Burst
                }
        }
        WaveSpawn // Tank # HP
        {
            Name "wave6c"
            WaitForAllSpawned "wave6b"
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 30
            WaitBetweenSpawns 0
        
            TotalCurrency 200
            FirstSpawnOutput                                                                                                                                                            
            {
                Target ST_maker_relay                                 
                Action Trigger                         
            }
        
            Tank
            {
                Name "sticky_tank"
                StartingPathTrackNode "boss_path_1"
                ClassIcon tank_sticky_hellmet
                Health 32000
                Speed 75
                Skin 1
        
                OnKilledOutput                                  
                {
                    Target ST_kill_relay
                    Action Trigger                         
                }
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
        WaveSpawn
        {
            Name "wave6c"
            WaitForAllSpawned "wave6b"
            Where spawnbot
            Where spawnbot_left
            TotalCount 4
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 40
            WaitBetweenSpawns 16
        
            TotalCurrency 150
        
            TFBot
            { 
                Template T_TFBot_Giant_Heavy_Plasma_Shotgun
            }
        }
        WaveSpawn
        {
            Name "wave6c"
            WaitForAllSpawned "wave6b"
            Where spawnbot
            Where spawnbot_left
            TotalCount 6
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 30
            WaitBetweenSpawns 24
        
            TotalCurrency 100
        
            Squad
            {
                TFBot
                { 
                    Template T_TFBot_Soldier_Giant_Malachite
                    Attributes AlwaysCrit
                }
                TFBot
                {
                    Template T_TFBot_Giant_Heavy_Plasma_Shotgun
                }
            }
        }
        WaveSpawn
        {
            Name "wave6c"
            WaitForAllSpawned "wave6b"
            Where spawnbot_jeep
            MaxActive 10
            SpawnCount 5
            Support 1
            WaitBeforeStarting 35
            WaitBetweenSpawns 10
        
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Demo_Sticky
            }
        }
        WaveSpawn
        {
            Name "wave6dsupport"
            WaitForAllSpawned "wave6b"
            Where spawnbot_alley
            Where spawnbot_jeep
            Where spawnbot_left
            MaxActive 10
            SpawnCount 2
            Support 1
            WaitBeforeStarting 35
            WaitBetweenSpawns 5
        
            TotalCurrency 0
        
            TFBot
            { 
                Template T_TFBot_Soldier_Extended_Buff_Banner
            }
        }
    }
}
