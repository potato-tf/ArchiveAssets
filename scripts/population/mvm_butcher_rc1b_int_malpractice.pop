
// Malpractice
// Butcher Intermediate
// Made by Athazar for HH3

// ...wait, what the fuck is wrong with me, actually? This map is horrendous.
// I'm only doing this because this is the only halloween map with a hospital theme.

// As for why, we're getting a little... quirky tonight, with this particular intermediate mission. It's ALL medics on EVERY wave... but with a twist.

// W1: Giant Amputator Medics. Nothing particularly notable.
// W2: Caustic Medics. Simulates the one Waterfront gimmick with their ubercharge.
// W3: Giant Needle Shotgun Medic. Also features Chimera Bots, which're a combination of two classes. I.e Demo/Soldier chimeras.
// W4: Cauterizer Medics. Uses the custom weapon; grants ignite on hit to their patient.
// W5: Giant Pill Popper Medics. Also, Giant Parasitized Punchies + Bread Parasites.
// W6: Giant Transmitter Medics. Uses the custom weapon; grants homing rockets to their patients. Oh and also some cyborgs here and there.
// W7: Boss - The Headless Doctor. Uses a variety of weapons with different interactions that can assist bots around it.

// While we're at it, let's theme the waves because fuck it we ball.

// W1: Medieval Menaces
// W2: Acidic Offensive
// W3: Military Escalation, probably (featuring special guest: body modification and unethical experiments)
// W4: Fire Resistance: The Wave
// W5: (T)eleporting (B)read (featuring special guest: body horror)
// W6: Back From The Future
// W7: "aw dang it my mission is woke now" (alternatively, something you can make an undertale joke out of) AKA Obligatory Final Boss Wave

// TL;DR- Intermediate that actually tries to be unique/do something new, like Calendartillery. #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP #CALENDARTILLERYSWEEP


// sm_ent_fire bignet runscriptcode "::AddThinkToEnt <- ::_AddThinkToEnt"
// sm_ent_fire bignet RunScriptCode "foreach(k,v in GameEventCallbacks){if(v)foreach(k,_ in v)v[k]=null}"


#base robot_giant.pop
#base robot_standard.pop
#base athazar_weapon_pack_red.pop

// spawnbot_left
// spawnbot_right
// spawnbot_top
// spawnbot_invasion but this seems really annoying
// spawnbot_chief
// spawnbot_mission_spy
// spawnbot_mission_sniper_left
// spawnbot_mission_sniper_right
// spawnbot_mission_sniper_top
// I don't know why these exist but okay
// spawnbot_mission_sentry_buster

// tank_path_b_1


This_fucking_sucks,_actually.
{



	StartingCurrency	600
	RespawnWaveTime		2
	CanBotsAttackWhileInSpawnRoom	no
	Advanced	1
	CustomNavFile	"mvm_butcher_rc1b_cleaner.nav"

	EventPopfile		Halloween
	CanBotsAttackWhileInSpawnRoom	no

	NoRomevisionCosmetics	1	[$SIGSEGV]
	TextPrintTime			0	[$SIGSEGV]
	BotsAreHumans        	2	[$SIGSEGV]
	ForceHoliday          	2	[$SIGSEGV]
	NoThrillerTaunt			1	[$SIGSEGV]	// no more
	NoCritPumpkin			1	[$SIGSEGV]
	ZombiesNoWave666		1	[$SIGSEGV]
	FastNPCUpdate			1	[$SIGSEGV]
	ForceRobotBleed			1	[$SIGSEGV]

	// Custom Weapons

	PrecacheModel	"models/ctf2w/weapons/c_models/c_payoff/c_payoff.mdl"
	PrecacheModel	"models/weapons/c_models/c_energy_drink/c_energy_drink_green.mdl"

	PrecacheModel	"models/ctf2w/weapons/c_models/c_spitfire_rocketlauncher/c_spitfire_rocketlauncher.mdl"
	PrecacheModel	"models/ctf2w/weapons/c_models/c_spitfire_rocketlauncher/w_rocket_spitfire.mdl"
	
	PrecacheModel	"models/weapons/c_models/c_solar_carbonizer/c_solar_carbonizer.mdl"
	PrecacheModel	"models/weapons/c_models/c_calefactor/c_calefactor.mdl"


	PrecacheModel	"models/ctf2w/weapons/c_models/c_techlauncher/c_techlauncher.mdl"
	PrecacheModel	"models/ctf2w/weapons/c_models/c_techlauncher/shellprojectile.mdl"

	PrecacheModel	"models/weapons/c_models/c_canned_ration/c_canned_ration.mdl"
	PrecacheModel	"models/weapons/c_models/c_canned_ration/c_ration_plate.mdl"

	PrecacheModel	"models/weapons/c_models/c_gamma_gazer/c_gamma_gazer_1.mdl"
	PrecacheModel	"models/ctf2w/weapons/w_models/w_mini_pda.mdl"

	PrecacheModel	"models/weapons/w_models/w_pill.mdl"
	PrecacheModel	"models/weapons/c_models/c_hypodermic_injector/c_hypodermic_injector.mdl"
	
	//PrecacheModel	"models/weapons/c_models/c_astral_assassin/c_astral_assassin.mdl"
	//PrecacheModel	"models/weapons/c_models/c_astral_assassin_projectile/c_astral_assassin_projectile.mdl"
	// who ACTUALLY uploads a fucking weapon model this fucked up like this oh my god

	PrecacheModel	"models/ctf2w/weapons/c_models/c_atgun/c_atgun.mdl"
	PrecacheModel	"models/weapons/c_models/c_laserbow/c_laserbow_nocull.mdl"
	PrecacheModel	"models/weapons/c_models/c_brick/c_brick.mdl"

	PrecacheModel	"models/weapons/c_models/c_tranquilizer/c_revolver.mdl"
	PrecacheModel	"models/weapons/c_models/c_timely_demise/c_timely_demise.mdl"
	PrecacheModel	"models/weapons/v_models/v_timebomb/v_timebomb.mdl"
	PrecacheModel	"models/weapons/w_models/w_rocketbullet.mdl"

	PrecacheModel	"models/buildables/mini_dispenser_faithful.mdl"
	PrecacheModel	"models/buildables/mini_dispenser_faithful_light.mdl"

	// Precache for The Headless Doctor icon swapping
	// Icons will not download without this
	PrecacheGeneric	"materials/hud/leaderboard_class_medic_crossbow_burst_penetration" [$SIGSEGV]
	PrecacheGeneric	"materials/hud/leaderboard_class_medic_blutsauger_lite" [$SIGSEGV]
	// thank you for pointing this out by the way. I swear I had these in here already but apparently not


	CustomWeapon	// bot only variant that isn't cbt for players to deal with especially if the med bot in question is putting this on a hitscan bot
	{
		Name	"Bot Cauterizer"
		OriginalItemName	"Upgradeable TF_WEAPON_MEDIGUN"
		"paintkit_proto_def_index"	205	// Fire Glazed
		"set_item_texture_wear"		0
		"special item description"	"Ubercharge grants minicrits, ignition on hit, high burn damage, and cosmetic burning effects to your weapon"
		"effect cond override"		118
		"effect add attributes"		"attach particle effect|1|weapon burn dmg increased|3|Set DamageType Ignite|1|projectile trail particle|~spell_fireball_small_red"
		"heal rate bonus"			5
		"uber duration bonus"		9999
		"ubercharge rate bonus"		9999
		"attach particle effect"	1
	}
	CustomWeapon	// bot only variant that isn't cbt for players to deal with especially if the med bot in question is putting this on a hitscan bot
	{
		Name	"Bot Acid Medigun"
		OriginalItemName	"Upgradeable TF_WEAPON_MEDIGUN"
		"paintkit_proto_def_index"	255	// Helldriver
		"set_item_texture_wear"		0
		"effect cond override"		118
		"effect add attributes"		"attach particle effect|702|bleeding duration|5|mult bleeding dmg|1.5|projectile trail particle|superrare_greenenergy"
		"heal rate bonus"			5
		"uber duration bonus"		9999
		"ubercharge rate bonus"		9999
		"attach particle effect"	702
	}

	CustomWeapon
	{
		Name	"Bot Needle Shotgun"
		OriginalItemName	"The Rescue Ranger"
		"custom item model"					"models/weapons/c_models/c_shotgun/c_shotgun.mdl"
		"override projectile type"			5
		"projectile spread angle penalty"	5
		"mult projectile count"				8
		"damage penalty"					0.5
		"clip size penalty"					1
		"reload time decreased"				0.33
		"custom kill icon"		"syringegun_medic"
	}

	// Final Boss Weapons added through $GiveItem. They don't do THAT much so as to not be overwhelming but yeah
	CustomWeapon
	{
		Name	"FinalBoss_Amputator"
		OriginalItemName	"The Amputator"
		"damage bonus"	2
		"melee range multiplier"	1.5
		"melee bounds multiplier"	2
	}
	CustomWeapon
	{
		Name	"FinalBoss_Blutsauger"
		OriginalItemName	"The Blutsauger"
		"damage bonus"		2
		"fire rate bonus"	0.6
		"faster reload rate"	0.8
	}
	CustomWeapon
	{
		Name	"FinalBoss_Crossbow"
		OriginalItemName	"The Crusader's Crossbow"
		"mult projectile count"	5
		"damage bonus"			2
		"faster reload rate"	0.7
		"projectile spread angle penalty"	3
		"projectile penetration"	1
		"dmg bonus vs buildings"	2
	}


	CustomWeapon	// used for solo testing on the testing servers
	{
		Name	"devgun"
		OriginalItemName	"The Pomson 6000"
		"fire rate bonus"	-1
		"faster reload rate"	-1
		"move speed bonus"	2
		"clip size bonus"	420
		"dmg penalty vs players"	6969
		"energy weapon penetration"	1
		"SPELL: set item tint RGB"	"5"
		"projectile speed increased"	2
		"mod projectile heat seek power"	690
		"mod projectile heat aim error"		420
		"heal on kill"			690
		"cannot be upgraded"	1
		"dmg taken increased"	0.001
		"collect currency on kill"	1
		"max health additive bonus"	6775
	}
	CustomWeapon	// used for solo testing on the testing servers
	{
		Name	"devgun2"
		OriginalItemName	"TF_WEAPON_SNIPERRIFLE"
		"faster reload rate"	0.25
		"move speed bonus"	2
		"damage bonus"		100	// precisely 5k for testing thresholds (such as Skybreaker's HP thresholds)
		"heal on kill"			690
		"dmg taken increased"	0.001
		"collect currency on kill"	1
		"max health additive bonus"	6775
		"maxammo primary increased"	100
		"damage all connected"	1
		"damage force reduction"	0.00001
		"no damage view flinch"		1
	}


	ExtraLoadoutItems	[$SIGSEGV]
	{
		Engineer
		{
//			Primary		"devgun"
		}
		
		Sniper
		{
//			Primary		"devgun2"
		}
	}







	PointTemplates
	{
		MissionName
		{
			logic_relay
			{
				"targetname"	"what_the_fuck_do_you_mean_by_geneva_convention_i_thought_you_said_geneva_suggestion"
				"OnTrigger"		"tf_objective_resource,$SetClientProp$m_iszMvMPopfileName,Malpractice (Int),0,-1"
			}
			OnSpawnOutput
			{
				Target			what_the_fuck_do_you_mean_by_geneva_convention_i_thought_you_said_geneva_suggestion
				Action			Trigger
			}
		}

		BossTitleCardLogic
		{
			game_text
			{
				"targetname"	"w3_titletext_1"
				"message"		"HEALING MASTER"
				"x"				"-1"
				"y"				"0.45"
				"spawnflags"	"1"
				"channel"		"2"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"4"
			}
			game_text
			{
				"targetname"	"w3_titletext_2"
				"message"		"CHIEF AMPUTATOR MEDIC"
				"x"				"-1"
				"y"				"0.5"
				"channel"		"4"
				"spawnflags"	"1"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"3.8"
			}
			logic_relay
			{
				"targetname"	"w3_boss_title_relay"
				"OnTrigger"		"w3_titletext_1,Display,,0.1,-1"
				"OnTrigger"		"w3_titletext_2,Display,,1,-1"
			}

			game_text
			{
				"targetname"	"w3_titletext_3"
				"message"		"GENEVA CONVENTION VIOLATOR"
				"x"				"-1"
				"y"				"0.45"
				"spawnflags"	"1"
				"channel"		"2"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"4"
			}
			game_text
			{
				"targetname"	"w3_titletext_4"
				"message"		"CHIEF NEEDLE SHOTGUN MEDIC"
				"x"				"-1"
				"y"				"0.5"
				"channel"		"4"
				"spawnflags"	"1"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"3.8"
			}
			logic_relay
			{
				"targetname"	"w3_boss_title_relay_2"
				"OnTrigger"		"w3_titletext_3,Display,,0.1,-1"
				"OnTrigger"		"w3_titletext_4,Display,,1,-1"
			}


			game_text
			{
				"targetname"	"w5_titletext_1"
				"message"		"THE HOST"
				"x"				"-1"
				"y"				"0.45"
				"spawnflags"	"1"
				"channel"		"2"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"4"
			}
			game_text
			{
				"targetname"	"w5_titletext_2"
				"message"		"CHIEF PARASITE PUNCHIE"
				"x"				"-1"
				"y"				"0.5"
				"channel"		"4"
				"spawnflags"	"1"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"3.8"
			}
			logic_relay
			{
				"targetname"	"w5_boss_title_relay"
				"OnTrigger"		"w5_titletext_1,Display,,0.1,-1"
				"OnTrigger"		"w5_titletext_2,Display,,1,-1"
			}


			game_text
			{
				"targetname"	"w7_titletext_1"
				"message"		"CHIEF OF EXPERIMENTS"
				"x"				"-1"
				"y"				"0.45"
				"spawnflags"	"1"
				"channel"		"2"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"4"
			}
			game_text
			{
				"targetname"	"w7_titletext_2"
				"message"		"THE HEAD(LESS) DOCTOR"
				"x"				"-1"
				"y"				"0.5"
				"channel"		"4"
				"spawnflags"	"1"
				"color"			"255 255 255"
				"fadein"		"0.5"
				"fadeout"		"1"
				"holdtime"		"3.8"
			}
			logic_relay
			{
				"targetname"	"w7_boss_title_relay"
				"OnTrigger"		"w7_titletext_1,Display,,0.1,-1"
				"OnTrigger"		"w7_titletext_2,Display,,1,-1"
			}
		}


		silly_bot_tags
		{
			filter_tf_bot_has_tag
			{
				"Negated"			"0"
				"require_all_tags"	"1"
				"tags"			"tag_w3_amp_initial"
				"targetname"	"filter_w3_intro"
			}
			filter_tf_bot_has_tag
			{
				"Negated"			"0"
				"require_all_tags"	"1"
				"tags"			"tag_finalboss"
				"targetname"	"filter_finalboss"
			}

		}
		W3_SillyLogic
		{
			NoFixup	1

			logic_timer
			{
				"targetname"    "ampu_taunt_timer" 
				"startdisabled"	1
				"refiretime"	5
				"OnTimer"		"@f@filter_w3_intro@player,$BotCommand,taunt,0,-1"
			}


			logic_relay
			{
				"targetname"	"good_job_you_pissed_him_off"
				"OnTrigger"		"ampu_taunt_timer,CancelPending,,0,-1"
				"OnTrigger"		"ampu_taunt_timer,Disable,,0,-1"
				"OnTrigger"		"player,$PlaySoundToSelf,vo/medic_paincrticialdeath01.mp3,1,-1"
				"OnTrigger"		"player,$PlaySoundToSelf,vo/taunts/medic_taunts13.mp3,3,-1"
				"OnTrigger"		"player,$DisplayTextChat,{blue}Chief Amputator Medic{reset} has upgraded to {blue}Chief Needle Shotgun Medic{reset}!,9,-1"
				"OnTrigger"		"player,$PlaySoundToSelf,=30|mvm/mvm_used_powerup.wav,9,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$RemovePlayerAttribute,move speed bonus,9,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$GiveItem,Full Metal Helmet,9,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$GiveItem,Preventative Measure,9,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$WeaponStripSlot,2,8.5,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$WeaponSwitchSlot,0,9,-1"
				//"OnTrigger"		"player,$SetProp$m_iszClassIcon,medic_syringe_burst,9,-1"
				"OnTrigger"		"w3_titletext_3,Display,,9,-1"
				"OnTrigger"		"w3_titletext_4,Display,,9.1,-1"
			
			
				"OnTrigger"		"@f@filter_w3_intro@player,$BotCommand,stop interrupt action,12,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$RemovePlayerAttribute,no_duck,12,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$RemovePlayerAttribute,no_jump,12,-1"
				//"OnTrigger"		"@f@filter_w3_intro@player,$RemovePlayerAttribute,cannot pick up intelligence,12,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$AddPlayerAttribute,move speed bonus|0.3,12,-1"
				"OnTrigger"		"@f@filter_w3_intro@player,$AddPlayerAttribute,cannot pick up intelligence|0,12,-1"

			}
		}
		ParasitePunchTemplate
		{
			NoFixup	1
			KeepAlive	1
			logic_relay
			{
				"targetname"	"parasite_kill_relay"
				"OnTrigger"		"!activator,SetHealth,0,4,-1"
				"OnTrigger"		"parasite_kill_relay,Kill,,10,-1"
				"OnTrigger"		"parasite_teleport_target,Kill,,10,-1"
			}
			info_target
			{
				"targetname"	"parasite_teleport_target"
				"origin"	"0 0 64"
			}
		}
		HeadlessDoctorInfoTarget
		{
			NoFixup	1
			info_target
			{
				"targetname"	"finalboss_teleport_target"
				"origin"	"0 0 16"
			}
		}
		HeadlessDoctorLogic
		{
			logic_relay
			{
				"targetname"	"finalboss_phase_2_relay"
				"OnTrigger"		"player,$SetProp$m_iszClassIcon,medic_jug_amputator2,0,-1"
				"OnTrigger"		"!activator,$GiveItem,FinalBoss_Amputator,0,-1"
				"OnTrigger"		"!activator,$WeaponStripSlot,0,0,-1"
				"OnTrigger"		"!activator,$WeaponStripSlot,1,0,-1"

				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,0,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,10,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,20,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,30,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,40,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,50,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,60,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,70,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,80,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,90,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$BotCommand,taunt,100,-1"
			}
			logic_relay
			{
				"targetname"	"finalboss_phase_3_relay"
				"OnTrigger"		"finalboss_phase_2_relay,CancelPending,,0,-1"
				"OnTrigger"		"@f@filter_finalboss@player,$RemoveCond,7,0,-1"
				"OnTrigger"		"player,$SetProp$m_iszClassIcon,medic_syringe_burst,0,-1"
				"OnTrigger"		"!activator,$GiveItem,Bot Needle Shotgun,0,-1"
				"OnTrigger"		"!activator,$WeaponStripSlot,2,0,-1"
			}
			logic_relay
			{
				"targetname"	"finalboss_phase_4_relay"
				"OnTrigger"		"player,$SetProp$m_iszClassIcon,medic_blutsauger_lite,0,-1"
				"OnTrigger"		"!activator,$GiveItem,FinalBoss_Blutsauger,0,-1"
			}
			logic_relay
			{
				"targetname"	"finalboss_phase_5_relay"
				"OnTrigger"		"player,$SetProp$m_iszClassIcon,medic_crossbow_burst_penetration,0,-1"
				"OnTrigger"		"!activator,$GiveItem,FinalBoss_Crossbow,0,-1"
				"OnTrigger"		"!activator,$WeaponSwitchSlot,0,0,-1"
			}
		}
	}

	SpawnTemplate	"MissionName"
	SpawnTemplate	"W3_SillyLogic"
	SpawnTemplate	"silly_bot_tags"
	SpawnTemplate	"BossTitleCardLogic"
	SpawnTemplate	"HeadlessDoctorLogic"

	Templates
	{
		T_TFBot_Giant_Medic_Amputator
		{
			Class	Medic
			ClassIcon	medic_jug_amputator2
			Name	"Giant Amputator Medic"
			Skill	Expert
			Health	4500
			WeaponRestrictions	MeleeOnly
			Attributes	MiniBoss
			Item	"Berliner's Bucket Helm"
			Item	"The Amputator"
			Action	FetchFlag
			Taunt
			{
				Delay 		5
				Cooldown	10
				IfSeeTarget	1
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.5
				"airblast vulnerability multiplier"	0.5
				"override footstep sound set"		3	// adding this because it's halloween and they aren't on wheels
			}
		}

		T_TFBot_Giant_Medic_Crusader
		{
			Class	Medic
			ClassIcon	medic_crossbow_amputator
			Name	"Giant Crusader Medic"
			Skill	Expert
			Health	4500
			WeaponRestrictions	PrimaryOnly
			Attributes	MiniBoss
			Item	"Berliner's Bucket Helm"
			Item	"The Crusader's Crossbow"
			Action	FetchFlag
			ItemAttributes
			{
				ItemName	"The Crusader's Crossbow"
				"damage bonus"	1.5	// damage more, heal more
				"faster reload rate"	0.85	// just a little bit
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.5
				"airblast vulnerability multiplier"	0.5
				"override footstep sound set"		3	// adding this because it's halloween and they aren't on wheels
			}
			ChangeAttributes [$SIGSEGV]  //Periodically changes bot attributes, defined in EventChangeAttributes
			{
				Delay		10
				Cooldown	10
				Repeats		0
				IfSeeTarget	1
				Name		"CrusaderStartTaunting"
			}
			EventChangeAttributes
			{
				CrusaderStartTaunting
				{
					Item	"Berliner's Bucket Helm"
					Item	"The Amputator"
				
					WeaponRestrictions	MeleeOnly
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction"	0.5
						"airblast vulnerability multiplier"	0.5
						"override footstep sound set"		3
					}
					Taunt
					{
						Delay 		1
						Cooldown	10
					}
					ChangeAttributes
					{
						Delay		5
						Cooldown	5
						Repeats		0
						IfSeeTarget	1
						Name		"CrusaderDefault"
					}
				}
				CrusaderDefault
				{
					Item	"Berliner's Bucket Helm"
					Item	"The Crusader's Crossbow"
					ItemAttributes
					{
						ItemName	"The Crusader's Crossbow"
						"damage bonus"	1.5
						"faster reload rate"	0.85
					}
					WeaponRestrictions	PrimaryOnly
					Skill	Expert
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction"	0.5
						"airblast vulnerability multiplier"	0.5
						"override footstep sound set"		3
					}
					ChangeAttributes
					{
						Delay		10
						Cooldown	10
						Repeats		0
						IfSeeTarget	1
						Name		"CrusaderStartTaunting"
					}
				}
			}

		}

		T_TFBot_Soldier_Minigiant_Mangler
		{
			Class	Soldier
			ClassIcon	soldier_mangler_v2_armored
			Skill	Expert
			Health	900
			Scale	1.5
			Name	"Armored Laser Wizard"
			Item	"The Cow Mangler 5000"
			Item	"Point and Shoot"
		}
		T_TFBot_Giant_Sniper_Bow_Skeleton_Spammer
		{
			Name		"Giant Rapid Skeletal Archer"
			Class		Sniper
			ClassIcon	sniper_bow_multi
			Skill		Expert
			Health		3000
			Attributes	MiniBoss
			WeaponRestrictions	PrimaryOnly
			Item	"The Huntsman"
			Skin	1 [$SIGSEGV]
			UseCustomModel	"models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl"	[$SIGSEGV]
            DeathSound  	"=75|misc/halloween/skeleton_break.wav"
			UseHumanAnimations 1 [$SIGSEGV]
			ItemModel
			{
				ItemName	"Zombie Sniper"
				Model		"models/empty.mdl"
			}
			ItemAttributes
			{
				ItemName	"The Huntsman"
				"fire rate bonus"	0.6
				"hand scale"		1.5
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.5
				"airblast vulnerability multiplier"	0.5
				"override footstep sound set"	6
				"voice pitch scale"	0
			}
		}

		T_TFBot_Medic_Crossbow
		{
			Class	Medic
			ClassIcon	medic_crossbow
			Name	"Crossbow Medic"
			Skill	Hard
			WeaponRestrictions	PrimaryOnly
			Item	"Berliner's Bucket Helm"
			Item	"The Crusader's Crossbow"
			Action	FetchFlag
		}
		
		T_TFBot_Chimera_DemoSoldier
		{
			Class	Demoman
			ClassIcon	soldier_and_demo
			Name	"Spliced Demoman"
			Item	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
			Item	"Armored Authority"
			Skill	Hard
			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
				"grenade no bounce"			1
				"grenade no spin"			1
				"grenade explode on impact"	1
				"damage penalty"			0.9
				"custom projectile model"	"models/weapons/w_models/w_rocket.mdl"
				"blast radius decreased"	0.75
			}
			CharacterAttributes
			{
				"voice pitch scale"	0.5
			}
		}
		
		T_TFBot_Medic_Acidic
		{
			Class	Medic
			Name	"Acidifier Medic"
			ClassIcon	medic_caustic
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item	"Bot Acid Medigun"
			Item	"Ghostly Gibus"
			ItemAttributes
			{
				ItemName	"Ghostly Gibus"
				"attach particle effect"	9
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	690
			}
		}

		T_TFBot_Medic_Cauterizer
		{
			Class	Medic
			Name	"Cauterizer Medic"
			ClassIcon	medic_cauterizer
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item	"Bot Cauterizer"
			Item	"The Bunsen Brave"
			CharacterAttributes
			{
				"bot medic uber health threshold"	690
			}
		}

		T_TFBot_Medic_Kritzkrieg
		{
			Class	Medic
			Name	"Kritzkrieg Medic"
			ClassIcon	medic_kritz2
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item	"The Kritzkrieg"
			Item	"Titanium Tyrolean"
			ItemAttributes
			{
				ItemName "The Kritzkrieg"
				"ubercharge rate bonus"	9999
				"uber duration bonus"	9999
				"heal rate bonus"	10
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	690
			}
		}
		
		T_TFBot_Medic_Transmitter
		{
			Class	Medic
			Name	"Transmitter Medic"
			ClassIcon	medic_homing
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item	"Upgradeable TF_WEAPON_MEDIGUN"
			Item	"Platinum Pickelhaube"
			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_MEDIGUN"
				"paintkit_proto_def_index"		280	// Starlight Serenity
				"set_item_texture_wear"			0
				"effect cond override"		36
				"effect add attributes"		"mod projectile heat seek power|180|mod projectile heat aim error|30|projectile trail particle|eyeboss_projectile"
				"heal rate bonus"		5
				"ubercharge rate bonus"	9999
				"uber duration bonus"	9999
			}
			ItemAttributes
			{
				ItemName	"Platinum Pickelhaube"
				"set item tint RGB"	11796735	// Pure Violet
				"attach particle effect"	108	// Tesla Coil
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	690
			}
		}
		T_TFBot_Giant_Medic_Transmitter
		{
			Class	Medic
			Name	"Giant Transmitter Medic"
			ClassIcon	medic_homing
			Skill	Expert
			Health	4500
			Attributes	SpawnWithFullCharge
			Attributes	MiniBoss
			Attributes	IgnoreEnemies
			Item	"Upgradeable TF_WEAPON_MEDIGUN"
			Item	"Platinum Pickelhaube"
			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_MEDIGUN"
				"paintkit_proto_def_index"		280	// Starlight Serenity
				"set_item_texture_wear"			0
				"effect cond override"		36
				"effect add attributes"		"mod projectile heat seek power|360|mod projectile heat aim error|30|projectile trail particle|eyeboss_projectile"
				"heal rate bonus"		200
				"ubercharge rate bonus"	9999
				"uber duration bonus"	9999
			}
			ItemAttributes
			{
				ItemName	"Platinum Pickelhaube"
				"set item tint RGB"	11796735	// Pure Violet
				"attach particle effect"	108	// Tesla Coil
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	6900
				"move speed bonus"					0.5
				"damage force reduction"			0.6
				"airblast vulnerability multiplier"	0.6
				"override footstep sound set"		3	// adding this because it's halloween and they aren't on wheels
			}
		}

		T_TFBot_Giant_Medic_Alt	// uses stock uber but is immune to his own uber effect
		{
			Class	Medic
			Name	"Giant Uber Medic"
			ClassIcon	medic_uber
			Skill	Expert
			Health	4500
			Attributes	SpawnWithFullCharge
			Attributes	MiniBoss
			Attributes	IgnoreEnemies
			Item	"Upgradeable TF_WEAPON_MEDIGUN"

			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_MEDIGUN"
				"medigun passive attributes owner"	"addcond immunity|5"
				"heal rate bonus"		0
				"uber duration bonus"	52	// failsafe if this somehow doesn't work
			}

			CharacterAttributes
			{
				"bot medic uber health threshold"	6900
				"move speed bonus"					0.5
				"damage force reduction"			0.6
				"airblast vulnerability multiplier"	0.6
				"override footstep sound set"		3
			}
		}
		
		T_TFBot_Medic_Uber_Alt
		{
			Class		Medic
			Name		"Experimental Uber Medic"
			ClassIcon	medic_uber_inf
			Skill		Expert
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item		"Upgradeable TF_WEAPON_MEDIGUN"
			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_MEDIGUN"
				"heal rate bonus"		0
				"uber duration bonus"	52	// failsafe if this somehow doesn't work
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	6900
				"addcond immunity"	"5"
			}
		}







		T_TFBot_Giant_Demoman_Loch
		{
			Class	Demoman
			Name	"Giant Loch-n-Load Demoman"
			ClassIcon	demo_loch_nys_giant
			Skill	Expert
			Health	3300
			WeaponRestrictions	PrimaryOnly
			Attributes	HoldFireUntilFullReload
			Attributes	MiniBoss
			Item	"The Loch-n-Load"
			Item	"Scotch Bonnet"
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.5
				"airblast vulnerability multiplier" 0.5
				"override footstep sound set" 4
			}
		}
		T_TFBot_Pyro_Powerjack_Armored
		{
			Class	Pyro
			ClassIcon	pyro_powerjack_armored
			Health	900
			Name	"Armored Powerjack Pyro"
			Scale	1.5
			Attributes	AlwaysCrit
			Skill	Expert
			WeaponRestrictions	MeleeOnly
			Item	"The Attendant"
			Item	"The Powerjack"
		}
		T_TFBot_Giant_Heavyweapons_Heater_GOOD	// joke about valve's so-called heater template
		{
			Class	Heavyweapons
			Name	"Giant Huo-Long Heater Heavy"
			ClassIcon	heavy_heater_giant
			Skill	Expert
			Health	5000
			WeaponRestrictions	PrimaryOnly
			MaxVisionRange	1200
			Attributes	MiniBoss
			Item	"The Huo Long Heatmaker"
			Item	"The Bunsen Brave"
			ItemAttributes
			{
				ItemName	"The Huo Long Heatmaker"
				"damage penalty"	1
				"damage bonus"		1.5
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.3
				"airblast vulnerability multiplier"	0.3
				"override footstep sound set"	2
			}
		}



		T_TFBot_Giant_Medic_W3_NeedleBaitAndSwitch
		{
			Class	Medic
			ClassIcon	medic_jug_amputator2
			Name	"Chief Needle Shotgun Medic"
			Skill	Expert
			Health	20000
			Attributes	MiniBoss
			Attributes	UseBossHealthBar
			Item	"Bot Needle Shotgun"
			Item	"The Amputator"
			Action	FetchFlag
			Attributes	HoldFireUntilFullReload
			Tag	tag_w3_amp_initial
			WeaponSwitch
			{
				Delay		0
				Cooldown	0
				Repeats		0
				Type		"Melee"
			}

			InterruptAction
			{
				Target			"2368 1110 150"
				Name			"amputator_initial"
				Delay			0.01
				Duration		99999
				Repeats			1 
				Distance		0
			}
			CharacterAttributes
			{
				"move speed bonus"	0.2
				"damage force reduction"	0.01
				"airblast vulnerability multiplier"	0.01
				"override footstep sound set"		3
				"cannot pick up intelligence"		1
				"no_jump"	1
				"no_duck"	1
			}

			WeaponResist
			{
				"TF_WEAPON_KNIFE"	0.85
				"TF_WEAPON_MINIGUN"	0.6
			}
		}
		T_TFBot_Giant_Medic_NeedleShotgun
		{
			Class	Medic
			ClassIcon	medic_syringe_burst
			Name	"Giant Needle Shotgun Medic"
			Skill	Expert
			Health	4500
			WeaponRestrictions	PrimaryOnly
			Attributes	MiniBoss
			Item	"Bot Needle Shotgun"
			Item	"Full Metal Helmet"
			Item	"Preventative Measure"
			Action	FetchFlag
			Attributes	HoldFireUntilFullReload
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.5
				"airblast vulnerability multiplier"	0.5
				"override footstep sound set"		3	// adding this because it's halloween and they aren't on wheels
			}
		}
		T_TFBot_Medic_Battle_Type1
		{
			Class	Medic
			ClassIcon	medic_blutsauger_ubersaw
			Name	"Battle Medic"
			Item	"The Blutsauger"
			Item	"The Ubersaw"
			Item	"Field Practice"
			Skill	Expert
			Action	FetchFlag
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Primary"
				MaxTargetRange	9999
				MinTargetRange	300
			}
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Melee"
				MaxTargetRange	300
				MinTargetRange	1
			}
		}
		T_TFBot_Medic_Battle_Type2
		{
			Class	Medic
			ClassIcon	medic_blutsauger_ubersaw
			Name	"Fresh Install Medic"
			Item	"The Blutsauger"
			Item	"The Ubersaw"
			Item	"Ghostly Gibus"
			Skill	Easy
			Action	FetchFlag
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Primary"
				MaxTargetRange	9999
				MinTargetRange	300
			}
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Melee"
				MaxTargetRange	300
				MinTargetRange	1
			}
		}
		T_TFBoss_Parasite_Punchie
		{
			Class	Heavyweapons
			Name	"Chief Parasite Punchie"
			ClassIcon	heavy_breadbite_nys_giant
			Skill	Expert
			Health	99999
			WeaponRestrictions	MeleeOnly
			MaxVisionRange	1200
			Attributes		MiniBoss
			Attributes		UseBossHealthBar
			Item	"Bread Heads"
			Item	"The Bread Bite"
			SpawnTemplate	ParasitePunchTemplate
			ItemAttributes
			{
				ItemName	"The Bread Bite"
				"mod_maxhealth_drain_rate"	0
				"mult_player_movespeed_active"	1
				"damage bonus"	2
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.01
				"airblast vulnerability multiplier"	0.01
				"override footstep sound set"	2
				"no_jump"	1
			}

			Taunt
			{
				Delay		0
				Cooldown	0
				Repeats		1
				Duration	0.1
				Name		"Taunt: Burstchester"
				IfHealthBelow 70000
			}
			FireInput   
			{
				Target		"parasite_kill_relay"
				Action		"Trigger"
				Delay 		0
				Cooldown	0
				Repeats		1
				IfHealthBelow	70000
			}
		}
		T_TFBot_Punchie_Parasite
		{
			Class	Heavyweapons
			Name	"Parasitic Punchie"
			ClassIcon	heavy_breadbite_nys
			Skill	Expert
			Health	300
			Scale	0.75
			WeaponRestrictions	MeleeOnly
			Item	"Bread Heads"
			Item	"The Bread Bite"
			Action	Mobber
			ItemAttributes
			{
				ItemName	"The Bread Bite"
				"mod_maxhealth_drain_rate"	0
				"mult_player_movespeed_active"	1
				"damage penalty"	0.75
				"melee range multiplier"	0.5
			}
			CharacterAttributes
			{
				"move speed bonus"	2
				"voice pitch scale"	0
			}
			AddCond
			{
				Index	52
				Duration	1
			}
		}

		T_TFBot_Giant_Demoman_Pill_Popper
		{
			Class	Demoman	// because "use original class player animations" won't work and I'm pissed and every other supposed solution wont work
			ClassIcon	medic_pill_popper
			Name	"Giant Pill Popper Demo"
			Skill	Expert
			Health	3800
			WeaponRestrictions	PrimaryOnly
			Attributes	MiniBoss
			Item	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
			Attributes	HoldFireUntilFullReload
			Item	"Otolaryngologist's Mirror"

			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
				"custom projectile model"	"models/weapons/w_models/w_pill.mdl"
				"projectile trail particle"	"~healshot_trail_blue"
				"explosion particle"	"spell_overheal_blue"
				"paintkit_proto_def_index"	102 // Wrapped Reviver Mk.II
				"set_item_texture_wear"	0
				"clip size bonus"	1.5
				"fire input on hit" "!self^RunScriptCode^AWP_RED.PillPopper.call(this)"
				"fire input on hit name restrict" "player"
				"mult projectile scale"	1.75
				"no self effect"		1
				"fire rate bonus"		0.6
				"faster reload rate"	0.6
				"fire input on hit"	"!self^RunScriptCode^AthazarWeaponPack.PillPopper.call(this)"
				
				"add attributes on hit"	"healing received penalty|0.5|5"	// Total Heavy Death™
			}
			
			CharacterAttributes
			{
				"move speed bonus"			0.5
				"damage force reduction"	0.5
				"airblast vulnerability multiplier"	0.5
				"override footstep sound set"		3
			}
		}

		T_TFBot_Demoman_Pill_Popper
		{
			Class	Demoman
			ClassIcon	medic_pill_popper
			Name	"Pill Popper Demo"
			Skill	Expert
			WeaponRestrictions	PrimaryOnly
			Item	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
			Attributes	HoldFireUntilFullReload
			Item	"Otolaryngologist's Mirror"

			ItemAttributes
			{
				ItemName	"Upgradeable TF_WEAPON_GRENADELAUNCHER"
				"custom projectile model"	"models/weapons/w_models/w_pill.mdl"
				"projectile trail particle"	"~healshot_trail_blue"
				"explosion particle"	"spell_overheal_blue"
				"paintkit_proto_def_index"	102 // Wrapped Reviver Mk.II
				"set_item_texture_wear"	0
				"clip size bonus"	1.5
				"fire input on hit" "!self^RunScriptCode^AWP_RED.PillPopper.call(this)"
				"fire input on hit name restrict" "player"
				"mult projectile scale"	1.33
				"no self effect"		1
				"fire rate bonus"		0.6
				"faster reload rate"	0.6
				"fire input on hit"	"!self^RunScriptCode^AthazarWeaponPack.PillPopper.call(this)"
				"add attributes on hit"	"healing received penalty|0.5|5"	// Total Heavy Death™
			}
		}


		T_TFBot_Giant_Scout_BreadZombie_Fast
		{
			Class	Scout
			Name	"Giant Fast Bread Zombie"
			ClassIcon	scout_giant_fast
			Skill	Easy
			Item	"Breadcrab"
			Item	"Bread Biter"
			Item	"Unarmed Combat"
			Health	1200
			WeaponRestrictions MeleeOnly
			Attributes MiniBoss
			CharacterAttributes
			{
				"move speed bonus"	2
				"damage force reduction" 0.7
				"airblast vulnerability multiplier" 0.7
				"override footstep sound set" 5
			}
		}
		T_TFBot_Medic_MiniKritzkrieg
		{
			Class	Medic
			Name	"Mini-Kritzkrieg Medic"
			ClassIcon	medic_kritz2_mini
			Attributes	SpawnWithFullCharge
			Attributes	IgnoreEnemies
			Item	"The Kritzkrieg"
			Item	"Titanium Tyrolean"
			Scale	0.85
			Health	125
			ItemAttributes
			{
				ItemName	"The Kritzkrieg"
				"ubercharge rate bonus"	9999
				"uber duration bonus"	9999
				"heal rate bonus"		10
				"effect cond override"	16
			}
			ItemAttributes
			{
				ItemName	"Titanium Tyrolean"
				"set item tint RGB"	15787660	// The Needlessly Long Name For A Yellow Paint That Is A Reference To Something
			}
			CharacterAttributes
			{
				"bot medic uber health threshold"	690
				"voice pitch scale"	1.69
			}
		}

		CRITBOOSTED_BREAD
		{
			Class	Scout
			ClassIcon	scout_shortstop_milky
			Skill	Hard
			Name	"Mutated Milkman Scout"
			WeaponRestrictions	SecondaryOnly
			Item	"Mutated Milk"
			Item	"Bread Heads"
			Item	"The Shortstop"
			StripItemSlot	2
			ItemAttributes
			{
				ItemName	"The Shortstop"
				"paintkit_proto_def_index"	243 // Tumor Toasted
				"set_item_texture_wear"	0
			}
			ItemAttributes
			{
				ItemName	"Mutated Milk"
				"effect bar recharge rate increased" 0.34
				"always crit"	1	// GIANT BREAD
			}
		}
		CRITBOOSTED_BREAD2
		{
			Class	Sniper
			ClassIcon	sniper_jarate_bushwacka
			Skill	Expert
			Name	"Mutated Combo Sniper"
			Item	"The Self-Aware Beauty Mark"
			Item	"Bread Heads"
			Item	"The Bushwacka"
			ItemAttributes
			{
				ItemName	"The Self-Aware Beauty Mark"
				"effect bar recharge rate increased" -2
				"fire rate penalty"	5
				"always crit"	1	// GIANT BREAD
			}
			StripItemSlot	0
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Secondary"
				MaxTargetRange	9999
				MinTargetRange	300
			}
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Melee"
				MaxTargetRange	300
				MinTargetRange	1
			}
		}

		T_TFBot_Demoman_Samurai_Parry_Cyber
		{
			Class	Demoman
			Name	"Cyborg Samurai"
			ClassIcon	demoknight_samurai_reflect
			Skill	Expert
			Item	"The Half-Zatoichi"
			Item	"Alcoholic Automaton"
			Item	"Legendary Lid"
			Item	"Iron Fist"
			Item	"Roboot"
			Scale	1.3
			Health	650
			WeaponRestrictions	MeleeOnly
			Attributes	AutoJump
			Attributes	AlwaysFireWeapon
			AutoJumpMin	3
			AutoJumpMax	3
			Action	Mobber
			DesiredAttackRange	100
			MoveBehindEnemy		1
			ItemAttributes
			{
				ItemName	"The Half-Zatoichi"
				"melee airblast"	1
				//"airblast_destroy_projectile"	1	// This doesn't work on melee airblast but it is so fucking funny
				
			}
			CharacterAttributes
			{
				"increased jump height"			1.5
				"bot custom jump particle"		1
				"damage bonus"					1.5
				"increased air control"			4
				"kill forces attacker to laugh"	1
			}
		}
		
		T_TFBot_Giant_Heavy_Future
		{
			Class	Heavyweapons
			Name	"Giant Laser Heavy"
			ClassIcon	heavy_atomic_v2
			Skill	Expert
			Health	5000
			MaxVisionRange	1200
			Attributes	MiniBoss
			Item	"Corona Australis"
			Item	"Immobile Suit"
			AimLeadProjectileSpeed	1000
			ItemAttributes
			{
				ItemName	"TF_WEAPON_MINIGUN"
				"damage bonus"				1.5
				"override projectile type"	13
				"energy weapon penetration"	1
				"dmg bonus vs buildings"	3
				"deploy time decreased"			0.2
				"mod minigun can holster while spinning"	1
			}
			ItemAttributes
			{
				ItemName	"TF_WEAPON_FISTS"
				"melee range multiplier"		1.25
				"damage causes airblast"		1
				"melee cleave attack"			1
				"deploy time decreased"			0.2
				"dmg pierces resists absorbs"	1
				"dmg bonus vs buildings"	3
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction"	0.3
				"airblast vulnerability multiplier"	0.3
				"override footstep sound set"	2
			}
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Primary"
				MaxTargetRange	9999
				MinTargetRange	100
			}
			WeaponSwitch
			{
				Delay			0.1
				Cooldown		0
				Repeats			0
				Type			"Melee"
				MaxTargetRange	100
				MinTargetRange	1
			}
		}

		T_TFBot_FinalBoss_HeadlessDoctor
		{
			Class	Medic
			ClassIcon	medic
			Name	"The Headless Doctor"
			Skill	Expert
			Health	60000
			Attributes	MiniBoss
			Attributes	UseBossHealthBar
			Action		FetchFlag
			Attributes	HoldFireUntilFullReload
			BodyPartScaleSpeed	9999
			AlwaysGlow	1
			UseMeleeThreatPrioritization	1
			Tag	tag_finalboss
			WeaponResist
			{
				"TF_WEAPON_KNIFE"	0.85
				"TF_WEAPON_MINIGUN"	0.6
			}
			StripItemSlot	1

			FireInput   
			{
				Target		"finalboss_phase_2_relay"
				Action		"Trigger"
				Delay 		0
				Cooldown	0
				Repeats		1
				IfHealthBelow	50000
			}
			FireInput   
			{
				Target		"finalboss_phase_3_relay"
				Action		"Trigger"
				Delay 		0
				Cooldown	0
				Repeats		1
				IfHealthBelow	40000
			}
			FireInput   
			{
				Target		"finalboss_phase_4_relay"
				Action		"Trigger"
				Delay 		0
				Cooldown	0
				Repeats		1
				IfHealthBelow	30000
			}
			FireInput   
			{
				Target		"finalboss_phase_5_relay"
				Action		"Trigger"
				Delay 		0
				Cooldown	0
				Repeats		1
				IfHealthBelow	15000
			}



			CharacterAttributes
			{
				"move speed bonus"	0.25
				"damage force reduction"	0.01
				"airblast vulnerability multiplier"	0.01
				"override footstep sound set"		3
				"head scale"		0
				"voice pitch scale"	0
				"healing received penalty"	0
				"rage giving scale"	0.1
			}
		}

	}

	Mission	// W1-7 Skeleton Buster
	{
		Objective	DestroySentries
		Where		spawnbot_mission_sentry_buster
		InitialCooldown	30
		CooldownTime	30
		DesiredCount	1
		BeginAtWave		1
		RunForThisManyWaves	7
		SuppressSentryBusterModel	1
		TFBot
		{
			Template		T_TFBot_SentryBuster
			Attributes		DisableDodge
			Tag				bot_giant
            UseCustomModel  "models/bots/skeleton_sniper/skeleton_sniper.mdl"
            DeathSound  	"=75|misc/halloween/skeleton_break.wav"
			Name			"Skeleton Buster"
            Item			"The Crocodile Smile"
            Skin			1
			ItemModel
			{
				ItemName	"The Crocodile Smile"
				Model		"models/workshop/player/items/demo/tw_sentrybuster/tw_sentrybuster.mdl"
			}
            CustomWeaponModel
            {
                Slot		2
                Model		"models\empty.mdl"
            }
			CharacterAttributes
			{
				"damage force reduction"						0.01
				"airblast vulnerability multiplier"				0.01
				"airblast vertical vulnerability multiplier"	0.01
				"rage giving scale"								0.01
			}	
		}
	}

	Mission	// W1 Spy
	{
		Objective			Spy
		Where				spawnbot_mission_spy
		BeginAtWave	 		1
		RunForThisManyWaves	1
		InitialCooldown		60
		CooldownTime		60
		DesiredCount		1
		TFBot
		{
			Template	T_TFBot_Spy
		}
	}


	Mission	// W4 Sniper
	{
		Objective			Sniper
		Where				spawnbot_mission_sniper_top
		BeginAtWave	 		4
		RunForThisManyWaves	1
		InitialCooldown		45
		CooldownTime		45
		DesiredCount		2
		TFBot
		{
			Template	T_TFBot_Sniper
		}
	}

	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This mission features a significant amount of Medics, present on every wave."
			Line	"{yellow}Various waves feature new medic types and you will be warned of what they are on each wave."
		}

		WaveSpawn
		{
			Name	wave1a
			TotalCurrency	100
			TotalCount	30
			MaxActive	12
			SpawnCount	3
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Sniper_Huntsman
				Name	"Skeletal Archer"
				Skin	1 [$SIGSEGV]
				UseCustomModel	"models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl"	[$SIGSEGV]
				DeathSound  	"=75|misc/halloween/skeleton_break.wav"
				UseHumanAnimations 1 [$SIGSEGV]
				ItemModel
				{
					ItemName	"Zombie Sniper"
					Model		"models/empty.mdl"
				}
				CharacterAttributes
				{
					"voice pitch scale"	0
				}
			}
		}
		WaveSpawn
		{
			Name	wave1a_g
			TotalCurrency	100
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	6.9
			Where	spawnbot_left
			TFBot
			{
				Template	T_TFBot_Giant_Medic_Crusader
				CharacterAttributes
				{
					"cannot pick up intelligence"		1
				}
			}
		}

		WaveSpawn
		{
			Name	wave1b
			WaitForAllDead	wave1a
			TotalCurrency	100
			TotalCount	24
			MaxActive	12
			SpawnCount	2
			WaitBetweenSpawns	2.5
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Pyro_Flaregun
				Item		"Point and Shoot"
				Name		"Fire Wizard"
			}
		}
		WaveSpawn
		{
			Name	wave1b_g
			WaitForAllDead	wave1a_g
			TotalCurrency	100
			TotalCount	3
			MaxActive	3
			SpawnCount	3
			Where	spawnbot_right
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Medic_Crusader
				}
				TFBot
				{
					Template	T_TFBot_Soldier_Minigiant_Mangler
				}
				TFBot
				{
					Template	T_TFBot_Soldier_Minigiant_Mangler
				}
			}
		}


		WaveSpawn
		{
			Name	wave1c
			WaitForAllDead	wave1b
			TotalCurrency	100
			TotalCount	24
			MaxActive	10
			SpawnCount	3
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Medic_Crossbow
			}
		}

		WaveSpawn
		{
			Name	wave1c_g1
			WaitForAllDead	wave1b
			TotalCurrency	200
			TotalCount	4
			MaxActive	4
			SpawnCount	4
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Medic_Crusader
				}
				TFBot
				{
					Template	T_TFBot_Soldier_Minigiant_Mangler
				}
				TFBot
				{
					Template	T_TFBot_Soldier_Minigiant_Mangler
				}
				TFBot
				{
					Template	T_TFBot_Soldier_Minigiant_Mangler
				}
			}
		}


		WaveSpawn
		{
			Name	wave1c_support
			WaitForAllSpawned	wave1b
			TotalCurrency	100
			TotalCount	99
			MaxActive	6
			SpawnCount	3
			Support		1
			WaitBeforeStarting	7
			WaitBetweenSpawns	5
			Where	spawnbot_invasion
			TFBot
			{
				Template	T_TFBot_Demoman_Knight
			}
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This wave features {blue}Acidifier Medics."
			Line	"{yellow}Acidifier Medics grant bleed on hit to their patients!"
		}
		WaveSpawn
		{
			Name	wave2a1
			TotalCurrency	50
			TotalCount	15
			MaxActive	9
			SpawnCount	3
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Scout_Bonk
				ClassIcon	scout_bonk_nys
			}
		}
		WaveSpawn
		{
			Name	wave2a1b
			WaitForAllSpawned	wave2a1
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot_chief
			TFBot
			{
				Template	T_TFBot_Giant_Soldier
			}
		}
		WaveSpawn
		{
			Name	wave2a2
			TotalCurrency	100
			TotalCount	18
			MaxActive	9
			SpawnCount	3
			WaitBeforeStarting	5
			WaitBetweenSpawns	5
			Where	spawnbot_top
			TFBot
			{
				Class	Heavyweapons
				Skill	Normal
				WeaponRestrictions	SecondaryOnly
				Attributes	HoldFireUntilFullReload
				ClassIcon	heavy_shotgun
				Name		"Shotgun Heavy"
			}
		}
		WaveSpawn
		{
			Name	wave2b1
			WaitForAllDead	wave2a1
			TotalCurrency	100
			TotalCount	36
			MaxActive	12
			SpawnCount	3
			WaitBetweenSpawns	4
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Class	Scout
				Skill	Easy
			}
		}
		WaveSpawn
		{
			Name	wave2b2
			WaitForAllDead	wave2a2
			TotalCurrency	200
			TotalCount	9
			MaxActive	6
			SpawnCount	3
			WaitBetweenSpawns	15
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier
				}
				TFBot
				{
					Template	T_TFBot_Medic_Acidic
				}
				TFBot
				{
					Template	T_TFBot_Medic_Acidic
				}
			}
		}


		WaveSpawn
		{
			Name	wave2c
			WaitForAllSpawned	wave2b2
			TotalCurrency	100
			TotalCount	14
			MaxActive	7
			SpawnCount	2
			WaitBeforeStarting	10
			WaitBetweenSpawns	6
			Where	spawnbot_top
			Squad
			{
				TFBot
				{
					Class	Heavyweapons
					Skill	Hard
					WeaponRestrictions	SecondaryOnly
					Attributes	HoldFireUntilFullReload
					ClassIcon	heavy_shotgun_armored
					Item		"Der Maschinensoldaten-Helm"
					Item		"Die Regime-Panzerung"
					Name		"Armored Shotgun Heavy"
					Health		900
					Scale		1.5
				}
				TFBot
				{
					Template	T_TFBot_Medic_Acidic
				}
			}
		}
		WaveSpawn
		{
			Name	wave2tank
			WaitForAllSpawned	wave2b2
			TotalCurrency	200
			TotalCount	1
			WaitBeforeStarting	10
			FirstSpawnMessage	"{yellow}[WARNING] {blue}A Tank has been deployed with 15000 HP!"
			Tank
			{
				Name	"tankboss"
				Health	15000
				Speed	75
				StartingPathTrackNode	"tank_path_b_1"
				OnBombDroppedOutput 
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn
		{
			Name	wave2support
			WaitForAllSpawned	wave2b1
			TotalCurrency	100
			TotalCount	100
			MaxActive	8
			SpawnCount	2
			Support		1
			WaitBeforeStarting	10
			WaitBetweenSpawns	3
			Where	spawnbot_invasion
			RandomChoice
			{
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Fire Axe Pyro"
					Item		"Brigade Helm"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Hot Hand Pyro"
					Item		"The Hot Hand"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Back Scratcher Pyro"
					Item		"The Back Scratcher"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Powerjack Pyro"
					Item	"The Attendant"
					Item	"The Powerjack"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Volcano Fragment Pyro"
					Item		"Sharpened Volcano Fragment"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Axtinguisher Pyro"
					Item		"The Axtinguisher"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	MeleeOnly
					Skill	Hard
					ClassIcon	pyro_fireaxe_lite
					Name		"Homewrecker Pyro"
					Item		"The Homewrecker"
				}


			}
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			Name	wave3_intro
			TotalCurrency	50
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot_chief
			TFBot
			{
				Template	T_TFBot_Giant_Medic_W3_NeedleBaitAndSwitch
			}
			FirstSpawnOutput
			{
				Target	w3_boss_title_relay
				Action	Trigger
			}
			FirstSpawnWarningSound	"mvm/giant_heavy/giant_heavy_entrance.wav"
		}
		WaveSpawn
		{
			Name	wave3_sfx
			TotalCount	0
			MaxActive	0
			SpawnCount	0
			WaitBeforeStarting	4
			Support	Limited
			FirstSpawnWarningSound	"vo/medic_specialcompleted05.mp3"
		}
		WaveSpawn
		{
			Name	wave3_sfx
			TotalCount	0
			MaxActive	0
			SpawnCount	0
			WaitBeforeStarting	6.5
			Support	Limited
			FirstSpawnWarningSound	"vo/demoman_yes01.mp3"
		}

		WaveSpawn
		{
			Name	wave3_gknights_intro
			TotalCurrency	25
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	7.5
			Where	spawnbot_left
			TFBot
			{
				Template	T_TFBot_Giant_DemoMan_PrinceTavish
			}
			FirstSpawnOutput
			{
				Target	ampu_taunt_timer
				Action	Enable
			}
		}
		WaveSpawn
		{
			Name	wave3_gknights_intro
			TotalCurrency	25
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	7.5
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Giant_DemoMan_PrinceTavish
			}
		}
		WaveSpawn
		{
			Name	wave3_check
			WaitForAllDead	wave3_gknights_intro	
			TotalCount	0
			MaxActive	0
			SpawnCount	0
			Support	Limited
			FirstSpawnOutput
			{
				Target	good_job_you_pissed_him_off
				Action	Trigger
			}
		}

		WaveSpawn
		{
			Name	wave3b
			WaitForAllDead	wave3_gknights_intro
			TotalCurrency	100
			TotalCount	50
			MaxActive	10
			SpawnCount	1
			WaitBeforeStarting	20
			WaitBetweenSpawns	1
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Chimera_DemoSoldier
			}
		}
		WaveSpawn
		{
			Name	wave3b
			WaitForAllDead	wave3_gknights_intro
			TotalCurrency	100
			TotalCount	3
			MaxActive	3
			SpawnCount	1
			WaitBeforeStarting	35
			WaitBetweenSpawns	15
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Giant_Medic_NeedleShotgun
			}
		}

		WaveSpawn
		{
			Name	wave3c1
			WaitForAllDead	wave3b
			TotalCurrency	100
			TotalCount	32
			MaxActive	9
			SpawnCount	3
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			RandomChoice
			{
				TFBot
				{
					Template	T_TFBot_Medic_Battle_Type1
				}
				TFBot
				{
					Template	T_TFBot_Medic_Battle_Type1
				}
				TFBot
				{
					Template	T_TFBot_Medic_Battle_Type1
				}
				TFBot
				{
					Template	T_TFBot_Medic_Battle_Type2
				}
			}
		}
		WaveSpawn
		{
			Name	wave3c
			WaitForAllDead	wave3b
			TotalCurrency	100
			TotalCount	9
			MaxActive	6
			SpawnCount	3
			WaitBeforeStarting	8
			WaitBetweenSpawns	12
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_Spammer_Reload
				}
				TFBot
				{
					Template	T_TFBot_Medic_MiniKritzkrieg
				}
				TFBot
				{
					Template	T_TFBot_Medic_MiniKritzkrieg
				}
			}
		}

		WaveSpawn
		{
			Name	wave3_support1
			WaitForAllDead	wave3_intro
			TotalCurrency	300
			TotalCount	300
			MaxActive	3
			SpawnCount	3
			Support		1
			WaitBeforeStarting	8.5
			WaitBetweenSpawns	7.5
			Where	spawnbot_top
			RandomChoice
			{
				TFBot
				{
					Class	Engineer
					WeaponRestrictions	PrimaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Engineer"
					Attributes	HoldFireUntilFullReload
					Item	"Full Metal Helmet"
					Action	FetchFlag
				}
				TFBot
				{
					Class	Soldier
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Soldier"
					Attributes	HoldFireUntilFullReload
					Item	"The Shellmet"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Pyro"
					Attributes	HoldFireUntilFullReload
					Item	"Full Metal Helmet"
				}
				TFBot
				{
					Class	Heavyweapons
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Heavy"
					Attributes	HoldFireUntilFullReload
					Item	"Commando Elite"
				}
			}
		}

		WaveSpawn
		{
			Name	wave3_support2	// shotty support comes into full swing if battle meds die early so that the gbursts + minikritzkriegs won't be lonely
			WaitForAllSpawned	wave3c1
			TotalCount	100
			MaxActive	9
			SpawnCount	3
			Support		1
			WaitBeforeStarting	5
			WaitBetweenSpawns	5
			Where	spawnbot_left
			Where	spawnbot_right
			RandomChoice
			{
				TFBot
				{
					Class	Engineer
					WeaponRestrictions	PrimaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Engineer"
					Attributes	HoldFireUntilFullReload
					Item	"Full Metal Helmet"
					Action	FetchFlag
				}
				TFBot
				{
					Class	Soldier
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Soldier"
					Attributes	HoldFireUntilFullReload
					Item	"The Shellmet"
				}
				TFBot
				{
					Class	Pyro
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Pyro"
					Attributes	HoldFireUntilFullReload
					Item	"Full Metal Helmet"
				}
				TFBot
				{
					Class	Heavyweapons
					WeaponRestrictions	SecondaryOnly
					ClassIcon	heavy_shotgun
					Name	"Shotgun Heavy"
					Attributes	HoldFireUntilFullReload
					Item	"Commando Elite"
				}
			}
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This wave features {blue}Cauterizer Medics."
			Line	"{yellow}Cauterizer Medics will grant ignite on hit to their patients!"
		}
		WaveSpawn
		{
			Name	wave4_initial
			TotalCurrency	100
			TotalCount	18
			MaxActive	6
			SpawnCount	6
			WaitBetweenSpawns	10
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Demo_Burst
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}

			}
		}
		WaveSpawn
		{
			Name	wave4a
			TotalCurrency	100
			TotalCount	32
			MaxActive	12
			SpawnCount	4
			WaitBetweenSpawns	3
			WaitBeforeStarting	10
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Pyro_Flaregun
			}
		}


		WaveSpawn
		{
			Name	wave4b1
			WaitForAllDead	wave4a
			TotalCurrency	100
			TotalCount	40
			MaxActive	16
			SpawnCount	2
			WaitBetweenSpawns	2
			Where	spawnbot_left
			Where	spawnbot_right
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Sniper_Huntsman
					Name	"Skeletal Archer"
					Skin	1 [$SIGSEGV]
					UseCustomModel	"models/bots/skeleton_sniper/skeleton_sniper_fixed.mdl"	[$SIGSEGV]
					DeathSound  	"=75|misc/halloween/skeleton_break.wav"
					UseHumanAnimations 1 [$SIGSEGV]
					ItemAttributes
					{
						ItemName	"The Huntsman"
						"damage bonus"	0.33
						"dmg bonus vs buildings"	2
					}
					ItemModel
					{
						ItemName	"Zombie Sniper"
						Model		"models/empty.mdl"
					}
					CharacterAttributes
					{
						"voice pitch scale"	0
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
			}
		}
		WaveSpawn
		{
			Name	wave4tank
			WaitForAllDead	wave4a
			TotalCurrency	200
			TotalCount	1
			WaitBeforeStarting	6.9
			FirstSpawnMessage	"{yellow}[WARNING] {blue}A Tank has been deployed with 25000 HP!"
			Tank
			{
				Name	"tankboss"
				Health	25000
				Speed	75
				StartingPathTrackNode	"tank_path_b_1"
				OnBombDroppedOutput 
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}

		WaveSpawn
		{
			Name	wave4c
			WaitForAllSpawned	wave4b1
			TotalCurrency	100
			Support		Limited
			TotalCount	40
			MaxActive	8
			SpawnCount	2
			WaitBeforeStarting	8
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Class	Pyro
				Skill	Easy
			}
		}
		WaveSpawn
		{
			Name	wave4c
			WaitForAllSpawned	wave4b1
			TotalCurrency	200
			TotalCount	6
			MaxActive	6
			SpawnCount	3
			WaitBeforeStarting	12
			WaitBetweenSpawns	14
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Heavyweapons_Heater_GOOD
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
				TFBot
				{
					Template	T_TFBot_Medic_Cauterizer
				}
			}
		}
		WaveSpawn
		{
			Name	wave4support
			WaitForAllDead	wave4b1
			TotalCurrency	100
			TotalCount	99
			MaxActive	6
			SpawnCount	3
			Support		1
			WaitBetweenSpawns	8
			Where	spawnbot_top
			TFBot
			{
				Class	Pyro
				ClassIcon	pyro_axtinguisher
				Item	"The Axtinguisher"
				Item	"Firewall Helmet"
				WeaponRestrictions	MeleeOnly
				Name	"Axtinguisher Pyro"
			}
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This wave features {blue}Giant Pill Poppers."
			Line	"{yellow}Pill Poppers fire special healing grenades, healing allies caught in their radius. Getting hit by these pills will momentarily lower your healing received from {red}ALL {yellow}sources."
		}
		WaveSpawn
		{
			Name	wave5_intro_boss
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	spawnbot_chief
			FirstSpawnOutput
			{
				Target	w5_boss_title_relay
				Action	Trigger
			}
			FirstSpawnWarningSound	"mvm/giant_heavy/giant_heavy_entrance.wav"
			TFBot
			{
				Template	T_TFBoss_Parasite_Punchie
			}
		}
		WaveSpawn
		{
			Name	wave5_intro_parasites
			WaitForAllDead	wave5_intro_boss
			TotalCount	20
			MaxActive	20
			SpawnCount	1
			Where	spawnbot_chief
			FirstSpawnWarningSound	"npc/stalker/go_alert2.wav"
			TFBot
			{
				Template	T_TFBot_Punchie_Parasite
				FireInput   
				{
					Target		"!self"
					Action		"$TeleportToEntity"
					Param		"parasite_teleport_target"
					Delay 		0.01
					Repeats		1
				}
			}
		}

		WaveSpawn
		{
			Name	wave5a_1
			WaitForAllSpawned	wave5_intro_parasites
			TotalCurrency	100
			TotalCount	30
			MaxActive	13
			SpawnCount	1
			WaitBetweenSpawns	0.8
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Class	Scout
				Item	"Breadcrab"
				Item	"Bread Biter"
				Item	"Upgradeable TF_WEAPON_SCATTERGUN"
				Skill	Hard
				Name	"Bread Zombie Gunner"
				ItemAttributes
				{
					ItemName	"Upgradeable TF_WEAPON_SCATTERGUN"
					"paintkit_proto_def_index"	243 // Tumor Toasted
					"set_item_texture_wear"	0
				}
			}
		}
		WaveSpawn
		{
			Name	wave5a_g
			WaitForAllSpawned	wave5_intro_parasites
			TotalCurrency	100
			TotalCount	3
			MaxActive	3
			SpawnCount	1
			WaitBetweenSpawns	7
			Where	spawnbot_top
			TFBot
			{
				Template	T_TFBot_Giant_Scout_BreadZombie_Fast
			}
		}


		WaveSpawn
		{
			Name	wave5b_1
			WaitForAllDead	wave5a_1
			WaitForAllSpawned	wave5a_g
			TotalCurrency	100
			TotalCount	36
			MaxActive	12
			SpawnCount	3
			WaitBetweenSpawns	4.20
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Class	Soldier
				Item	"Breadcrab"
				Item	"Bread Biter"
				Item	"Upgradeable TF_WEAPON_ROCKETLAUNCHER"
				Skill	Hard
				Name	"Explosive Bread Zombie"
				ItemAttributes
				{
					ItemName	"Upgradeable TF_WEAPON_ROCKETLAUNCHER"
					"paintkit_proto_def_index" 243	// Tumor Toasted
					"set_item_texture_wear"	0
				}
			}
		}
		WaveSpawn
		{
			Name	wave5b_g
			WaitForAllDead	wave5a_1
			WaitForAllSpawned	wave5a_g
			TotalCurrency	200
			TotalCount	5
			MaxActive	3
			SpawnCount	1
			WaitBeforeStarting	2.5
			WaitBetweenSpawns	10
			Where	spawnbot_top
			TFBot
			{
				Template	T_TFBot_Giant_Demoman_Pill_Popper
			}
		}
		WaveSpawn
		{
			Name	wave5b_g_comment
			WaitForAllDead	wave5a_1
			WaitForAllSpawned	wave5a_g
			WaitBeforeStarting	4.20
			Support	Limited
			FirstSpawnMessage	"{blue}Giant Pill Popper Demo {reset}: Lads! Guess who just got a medical license?"
			FirstSpawnWarningSound	"vo/demoman_laughhappy01.mp3"
		}
		WaveSpawn
		{
			Name	wave5c_g
			WaitForAllDead	wave5b_g
			TotalCurrency	200
			TotalCount	9
			MaxActive	9
			SpawnCount	3
			WaitBetweenSpawns	12
			Where	spawnbot_top
			Squad
			{
				TFBot
				{
					Class	Pyro
					Name	"Giant Bread Toaster"
					ClassIcon	pyro_dragon_fury_swordstone_giant
					Skill	Expert
					Health	3000
					MaxVisionRange	690
					WeaponRestrictions	PrimaryOnly
					Attributes	MiniBoss
					Item	"The Dragon's Fury"
					Item	"Breadcrab"
					Item	"Bread Biter"
					Item	"Loaf Loafers"
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction"	0.6
						"airblast vulnerability multiplier"	0.6
						"override footstep sound set"	6
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic
				}
				TFBot
				{
					Template	T_TFBot_Medic
				}

			}
		}
		WaveSpawn
		{
			Name	wave5_support
			WaitForAllDead	wave5b_1
			TotalCurrency	100
			TotalCount	100
			MaxActive	10
			SpawnCount	1
			Support		1
			WaitBetweenSpawns	1
			Where	spawnbot_invasion
			RandomChoice
			{
				TFBot
				{
					Template	CRITBOOSTED_BREAD
				}
				TFBot
				{
					Template	CRITBOOSTED_BREAD2
				}
			}
		}

	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This wave features {blue}Giant Transmitter Medics."
			Line	"{yellow}These Medics grant homing projectiles to their patient!"
		}
		WaveSpawn
		{
			Name	wave6tank
			TotalCurrency	200
			TotalCount	1
			FirstSpawnMessage	"{yellow}[WARNING] {blue}A Tank has been deployed with 30000 HP!"
			Tank
			{
				Name	"tankboss"
				Health	30000
				Speed	75
				StartingPathTrackNode	"tank_path_b_1"
				OnBombDroppedOutput 
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn
		{
			Name	wave6a1
			TotalCurrency	50
			TotalCount	24
			MaxActive	10
			SpawnCount	2
			WaitBetweenSpawns	3
			Where	spawnbot_left
			Where	spawnbot_right
			Squad
			{
				TFBot
				{
					Class		Soldier
					Skill		Hard
					ClassIcon	soldier_mangler_v2
					Item		"The Cow Mangler 5000"
					Name		"Cow Mangler Soldier"
					ItemAttributes
					{
						ItemName	"The Cow Mangler 5000"
						"energy weapon no hurt building"	0
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_Kritzkrieg
				}
			}
		}
		WaveSpawn
		{
			Name	wave6a2
			TotalCurrency	50
			TotalCount	7
			MaxActive	3
			SpawnCount	1
			WaitBeforeStarting	7
			WaitBetweenSpawns	7
			Where	spawnbot_top
			TFBot
			{
				Template	T_TFBot_Demoman_Samurai_Parry_Cyber
			}
		}

		WaveSpawn
		{
			Name	wave6b1
			WaitForAllDead	wave6a1
			TotalCurrency	50
			TotalCount	36
			MaxActive	12
			SpawnCount	3
			WaitBeforeStarting	4
			WaitBetweenSpawns	4
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Class	Scout
				ClassIcon	scout_capper_lite
				Name	"Laser Scout"
				WeaponRestrictions	SecondaryOnly
				Skill	Expert
				Item	"The Cross-Comm Express"
				Item	"The Flapjack"
				Item	"The C.A.P.P.E.R"
				ItemAttributes
				{
					ItemName	"The C.A.P.P.E.R"
					"override projectile type"	13
					//"energy weapon penetration"	1
					"fire rate penalty"			3
					"dmg bonus vs buildings"	3
				}
			}
		}
		WaveSpawn
		{
			Name	wave6b2
			WaitForAllDead	wave6a1
			WaitForAllSpawned	wave6a2
			TotalCurrency	50
			TotalCount	4
			MaxActive	3
			SpawnCount	2
			WaitBetweenSpawns	18
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Soldier_Spammer
				}
				TFBot
				{
					Template	T_TFBot_Giant_Medic_Transmitter
				}
			}
		}
		WaveSpawn
		{
			Name	wave6c
			WaitForAllDead	wave6b1
			TotalCurrency	100
			TotalCount	24
			MaxActive	8
			SpawnCount	4
			WaitBetweenSpawns	5
			Where	spawnbot_left
			Where	spawnbot_invasion
			Squad
			{
				TFBot
				{
					Class		Soldier
					Skill		Hard
					ClassIcon	soldier_mangler_v2
					Item		"The Cow Mangler 5000"
					Name		"Cow Mangler Soldier"
					ItemAttributes
					{
						ItemName	"The Cow Mangler 5000"
						"energy weapon no hurt building"	0
					}
				}
				TFBot
				{
					Template	T_TFBot_Medic_Kritzkrieg
				}
			}
		}
		WaveSpawn
		{
			Name	wave6c
			WaitForAllDead	wave6b2
			TotalCurrency	200
			TotalCount	12
			MaxActive	8
			SpawnCount	4
			WaitBetweenSpawns	10
			Where	spawnbot_chief
			Squad
			{
				TFBot
				{
					Template	T_TFBot_Giant_Heavy_Future
				}
				TFBot
				{
					Template	T_TFBot_Medic
				}
				TFBot
				{
					Template	T_TFBot_Medic
				}
				TFBot
				{
					Template	T_TFBot_Medic
				}
			}
		}
		WaveSpawn
		{
			Name	wave6_support
			WaitForAllSpawned	wave6b1
			TotalCurrency	200
			TotalCount	99
			MaxActive	3
			SpawnCount	3
			Support		1
			WaitBeforeStarting	10
			WaitBetweenSpawns	10
			Where	spawnbot_top
			TFBot
			{
				Class	Pyro
				ClassIcon	pyro_manmelter
				Item	"The Manmelter"
				Item	"Dead Heat"
				Name	"Manmelter Pyro"
				Attributes	AlwaysCrit
				WeaponRestrictions	SecondaryOnly
			}
		}
	}
	Wave
	{
		StartWaveOutput
		{
			Target	wave_start_relay
			Action	Trigger
		}
		DoneOutput					
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		Explanation	[$SIGSEGV]
		{
			Line	"{yellow}[WARNING] This wave features {blue}all Medic types you've seen so far."
			Line	"{yellow}However, {blue}Uber Medics {yellow}work differently this wave and grant an infinite Uber to only their patients until death."
		}
		WaveSpawn
		{
			Name	wave7_gauntlet_intro
			TotalCurrency	100
			TotalCount	6
			MaxActive	6
			SpawnCount	3
			Support		Limited
			WaitBetweenSpawns	5
			Where	spawnbot_chief
			TFBot
			{
				Template	T_TFBot_Heavyweapons_Fist
				ClassIcon	heavy_steelfist_nys_nolod	// I don't know what the fuck the standardized steel fist icon is, and at this point I'm afraid to ask.
			}
		}
		WaveSpawn
		{
			Name	wave7_gauntlet_inf
			WaitForAllDead	wave7_gauntlet_intro
			TotalCurrency	100
			TotalCount	100
			MaxActive	3
			SpawnCount	1
			Support		1
			WaitBetweenSpawns	7
			Where	spawnbot_left
			Where	spawnbot_right
			TFBot
			{
				Template	T_TFBot_Heavyweapons_Fist
				ClassIcon	heavy_steelfist_nys_nolod
			}
		}

		WaveSpawn
		{
			Name	wave7_finalboss
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	10
			Where	spawnbot_chief
			FirstSpawnWarningSound	"mvm/giant_heavy/giant_heavy_entrance.wav"
			FirstSpawnOutput
			{
				Target	w7_boss_title_relay
				Action	Trigger
			}
			TFBot
			{
				Template	T_TFBot_FinalBoss_HeadlessDoctor
			}
		}
		WaveSpawn
		{
			Name	wave7_fakeicons
			TotalCount	7
			MaxActive	7
			SpawnCount	7
			WaitBeforeStarting	99999
			WaitBetweenSpawns	99999
			Support	1
			Squad
			{
				TFBot
				{
					Class	Scout
					ClassIcon	medic_pill_popper
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_uber_inf
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_cauterizer
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_kritz2_mini
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_caustic
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_kritz2
				}
				TFBot
				{
					Class	Scout
					ClassIcon	medic_homing
				}
			}
		}


		WaveSpawn
		{
			Name	wave7_randomized_medics
			WaitForAllSpawned	wave5a
			Support	1
			TotalCurrency	300
			TotalCount	300
			MaxActive	10
			SpawnCount	2
			WaitBeforeStarting	5
			WaitBetweenSpawns	5
			Where	spawnbot_left
			Where	spawnbot_right
			RandomChoice
			{
				Squad	// if anyone ever asks, it's to randomize group spawns of a single bot type. this surprisingly works, just needs fake icons in support
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Cauterizer
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_MiniKritzkrieg
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Acidic
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Cauterizer
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_MiniKritzkrieg
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Acidic
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Transmitter
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
							"cannot pick up intelligence"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Cauterizer
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_MiniKritzkrieg
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Acidic
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Transmitter
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
							"cannot pick up intelligence"	1
						}
					}
				}


				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Kritzkrieg
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}
				Squad
				{
					TFBot
					{
						Template	T_TFBot_Demoman_Pill_Popper
					}
					TFBot
					{
						Template	T_TFBot_Medic_Uber_Alt
						CharacterAttributes
						{
							"mod weapon blocks healing"	1
						}
					}
				}

			}
		}
	}
}