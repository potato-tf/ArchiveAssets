WaveSchedule
{
//	LuaScriptFile "scripts/deflect_rage_airblast.lua"
	PrecacheModel "models/props_mvm/mvm_comically_small_player_shield.mdl"
//	LuaScriptFile "scripts/shield_sentry_oc.lua"
	LuaScriptFile "scripts/holdfireuntilfullupgrade.lua"
	LuaScriptFile "scripts/lua_knockback_rage_cactus.lua"	

	DisallowUpgrade	  //RPG
	{
		Upgrade	"projectile gravity" // Upgrade name. In case of extended upgrades, the name of the attribute
		MaxLevel 0 // Maximum allowed level
		IfUpgradePresent // Other upgrades that should not be present
		{
			"clip size upgrade atomic" 1 // "clip size upgrade atomic" at level 1 or more blocks this upgrade 
		}
	}
    DisallowUpgrade      //RPG
    {
        Upgrade	"clip size upgrade atomic" // Upgrade name. In case of extended upgrades, the name of the attribute
        MaxLevel 0 // Maximum allowed level
        IfUpgradePresent // Other upgrades that should not be present
        {
            "projectile gravity" 1 // "damage bonus hidden" at level 1 or more blocks this upgrade 
        }
    }
	DisallowUpgrade      //Xbow
    {
        Upgrade	"reload full clip at once" // Upgrade name. In case of extended upgrades, the name of the attribute
        MaxLevel 0 // Maximum allowed level
        IfUpgradePresent // Other upgrades that should not be present
        {
            "faster reload rate" 1 // "damage bonus hidden" at level 1 or more blocks this upgrade 
        }
    }
    DisallowUpgrade      //Xbow
    {
        Upgrade	"faster reload rate" // Upgrade name. In case of extended upgrades, the name of the attribute
        MaxLevel 0 // Maximum allowed level
        IfUpgradePresent // Other upgrades that should not be present
        {
            "reload full clip at once" 1 // "damage bonus hidden" at level 1 or more blocks this upgrade 
        }
    }


    ExtendedUpgrades  
	{
		MaxUpgradesTier // For tiered upgrades: Specify how many upgrades can be bought per tier. (1 by default)
		{
			1 1 // Max 2 upgrades on tier 1
		}
/////Scout
		Dummy
		{
			Name "Overclocked Upgrades"
			Attribute "max health additive bonus"
			Cap 0
			Increment 0
			Cost 0
			Description "Every class has access to special, no-cost upgrades! Check them out!" 
			Tier 1
			PlayerUpgrade 1
		}
		Scattergun_A
		{
			Name "Unstable Mod: Cycle Overload"
			Attribute "CARD: damage bonus"
			Cap 1.2
			Increment 0.2
			Cost 0
			Description "+20% damage bonus +20% firing speed -100% accuracy -100% slower reload -34% clip size" 
			Tier 1
			SecondaryAttributes
			{
				"provide on active" 1
				"spread penalty" 1	
				"Reload time increased" 1
				"fire rate bonus HIDDEN" -0.2
//				"halloween reload time decreased" 0.5
				"clip size penalty" -0.34
			}
			AllowPlayerClass Scout
            AllowedWeapons
			{
				Slot "Primary"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Soda Popper"
				ItemName "The Force-a-Nature"
				ItemName "The Shortstop"
				ItemName "Baby Face's Blaster"
			}
		}
		BabyFace
		{
			Name "Unstable Mod: Vintage Model"
			Attribute "no double jump"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"weapon spread bonus" -0.4	
				"lose hype on take damage" -4
				"move speed penalty" -0.1
			}
			Description "+Boost not lost on damage +40% more accurate -10% move speed -No double jump" 
			Tier 1
            AllowedWeapons
			{
				ItemName "Baby Face's Blaster"
			}
		}
		Backscatter
		{
			Name "Unstable Mod: Expanded Crit Module"
			Attribute "crit from behind"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"spread penalty" 0.46
				"Reload time increased" 0.25
			}
			Description "+Crits from behind -46% accuracy -25% reload speed" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Back Scatter"
			}
		}
		Shortstop
		{
			Name "Unstable Mod: Special Delivery"
			Attribute "max health additive bonus"
			Cap 25
			Increment 25
			Cost 0
			SecondaryAttributes
			{
				"reload time increased hidden" -0.46
//				"fire rate penalty HIDDEN" 0.3
				"provide on active" -1
				"no double jump" 1
			}
			Description "+25 max hp +50% faster reload -No double jump" 
			Tier 1
			AllowPlayerClass Scout
            AllowedWeapons
			{
				ItemName "The Shortstop"
			}
		}
////Scout Boomsticks
		FaNB
		{
			Name "Unstable Mod: Slim Slugs"
			Attribute "weapon spread bonus"
			Cap 0.8
			Increment -0.2
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"scattergun has knockback" -1
				"Reload time increased" 0.15
			}
			Description "+20% more accurate -No special knockback -15% slower reload"
			Tier 1
			AllowPlayerClass Scout
            AllowedWeapons
			{
				ItemName "The Force-a-Nature"
				ItemName "Festive Force-a-Nature"
			}
		}
/////Pistols
		PistolCoK
		{
			Name "Stable Mod: Combo Bullets"
			Attribute "critboost on kill"
			Cap 4.0
			Increment 4.0
			Cost 0
            SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
            {
                "damage bonus" 0.25
				"deploy time decreased" -0.5
            }
			Description "+On Kill: 4 seconds of critical hits +25% damage bonus +50% faster switch speed" 
			Tier 1
            AllowPlayerClass Scout
			AllowedWeapons
			{
				ClassName tf_weapon_handgun_scout_secondary 
				ClassName TF_WEAPON_PISTOL_SCOUT
				ItemName "The C.A.P.P.E.R"
			}
		}
		PistolMilk
		{
			Name "Unstable Mod: Dairy Mags"
			Attribute "add cond on hit" 
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"add cond on hit duration" 3.5
				"fire rate penalty HIDDEN" 0.75
			}
			Cap 27
			Increment 27
			Cost 0
			Description "+Mad Milk on hit -75% firing speed" 
			Tier 1
            AllowPlayerClass Scout
			AllowedWeapons
			{
				ClassName tf_weapon_handgun_scout_secondary 
				ClassName TF_WEAPON_PISTOL_SCOUT
				ItemName "The C.A.P.P.E.R"
			}
		}
////Scout Misc
		BonkSoda
		{
			Name "Stable Mod: Battalion's Bonk-up"
			Attribute "effect cond override" 
			Cap 7194
			Increment 7194
			Cost 0
			Description "Replaces Bonk! Effect with Battalion's Backup effect"
			Tier 1
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"provide on active" 1
				"always allow taunt" 1
			}
			AllowedWeapons
			{
				ItemName "Bonk! Atomic Punch"
				ItemName "Festive Bonk 2014"
			}
		}	
		Cleaver
		{
			Name "Stable Mod: Hot Knife"
			Attribute "Set DamageType Ignite"
			Cap 1
			Increment 1
			Cost 0
			Description "+Projectile ignites and marks target on hit -50% bleed damage"
			Tier 1
			SecondaryAttributes
			{
				"mark for death" 1
				"damage all connected" 1
				"mult bleeding dmg" -0.5
			}
			AllowedWeapons
			{
				ItemName "The Flying Guillotine"
			}
		}	
////Scout Melee
		BatA  ///includes Fish
		{
			Name "Unstable Mod: Support Swing"
			Attribute "mark for death"
			Cap 1
			Increment 1
			Cost 0
			Description "+On Hit: apply mark for death and milk -25 max hp" 
			Tier 1
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"max health additive penalty" -25
				"add cond on hit" 27
				"add cond on hit duration" 6
//				"damage penalty" -0.2
			}
			AllowedWeapons
			{
				ClassName TF_WEAPON_BAT 
				ItemName "The Holy Mackerel"
				ItemName "Festive Bat 2011"
				ItemName "Festive Holy Mackerel"
				ItemName "The Wrap Assassin"
				ItemName "The Sandman"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Fan O'War"
			}
		}
		SandmanA
		{
			Name "Unstable Mod: Craftsman's Bat"
			Attribute "mult bleeding dmg"
			Cap 3
			Increment 3
			Cost 0
			Description "+On Hit: Bleed for 5 seconds +15 max health +2x bleed damage -35% slower swing speed" 
			Tier 1
			SecondaryAttributes
			{
				"max health additive penalty" 15
				"mult bleeding dmg" 2
				"bleeding duration" 5
				"fire rate penalty" 0.35
			}
			AllowedWeapons
			{
				ItemName "The Sandman"
				ItemName "The Boston Basher"
			}
		}
		CandyCaneA
		{
			Name "Unstable Mod: Sugar Shock"
			Attribute "mark for death"
			Cap 1
			Increment 1
			Cost 0
			Description "+Marks Target +25% Blast Resistance +On hit: speedboost -15 max hp" 
			Tier 1
			SecondaryAttributes
			{
				"dmg taken from blast increased" -0.25
				"max health additive penalty" -15
				"speed_boost_on_hit_enemy" 5
			}
			AllowedWeapons
			{
				ItemName "The Candy Cane"
			}
		}
		SunOnAStickA
		{
			Name "Unstable Mod: Soul Scorcher"
			Attribute "damage bonus vs burning"
			Cap 5
			Increment 5
			Cost 0
			Description "+6x damage to burning enemies -90% damage to non-burning targets" 
			Tier 1
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"dmg penalty vs nonburning" -0.9
			}
			AllowedWeapons
			{
				ItemName "Sun-on-a-Stick"
			}
		}
		AtomizerA
		{
			Name "Unstable Mod: Heavy Material"
			Attribute "dmg from ranged reduced"
			Cap 0.7
			Increment -0.3
			Cost 0
			SecondaryAttributes
			{
				"move speed penalty" -0.15
				"provide on active" 1
				"mark for death" 1
			}
			Description "+Marks Target +resist all ranged damage by 30% -15% slower move speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Atomizer"
			}
		}
		RocketA
		{
			Name "Unstable Mod: RPG Module"
			Attribute "projectile gravity"
			Cap 600
			Increment 600
			Cost 0
			SecondaryAttributes 
			{
				"damage bonus HIDDEN" 0.25
				"clip size penalty" -0.75
				"Blast radius increased" 0.35
				"reload time increased hidden" 0.75
//				"fire rate penalty HIDDEN" 0.2
				"projectile no deflect" 1
			}
			Description "(i)Rockets now arc +25% damage bonus +35% blast radius -75% clip size -75% reload speed" 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_ROCKETLAUNCHER 
				ItemName "Festive Rocket Launcher 2011"
				ItemName "The Original"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "Rocket Jumper"
				ItemName "The Cow Mangler 5000"
				ItemName "The Air Strike"
				ItemName "The Direct Hit"
				ItemName "The Liberty Launcher"
				ItemName "The Black Box"
				ItemName "The Beggar's Bazooka"
			}
		}
		MoneyJumper
		{
			Name "Unstable Mod: Cash Vacuum"
			Attribute "mult credit collect range" 
			Cap 3
			Increment 2
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"health from credits" 30
			}
			Description "+100% Cash Collection Range +heals from cash collected" 
			Tier 1
            AllowedWeapons
			{
				ItemName "Rocket Jumper"
			}
		}
		DirectHitB
		{
			Name "Unstable Mod: Extra Gunpowder"
			Attribute "projectile no deflect"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"CARD: damage bonus" 0.25
				"Blast radius decreased" -0.2
				"dmg pierces resists absorbs" 1
				"clip size penalty HIDDEN" -0.25
			}
			Description "+25% damage +Attacks pierce damage resistances -20% smaller blast radius -25% clip size" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Direct Hit"
			}
		}
		BlackBoxA
		{
			Name "Unstable Mod: Bionic Box"
			Attribute "cannot giftwrap" // attribute is irrelevant
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"Projectile speed decreased" -0.25
				"heal on hit for rapidfire" 15
				"health on radius damage" -20
				"damage penalty" -0.6
				"fire rate bonus" -0.99
				"halloween reload time decreased" -0.1
				"projectile spread angle penalty" 3
				"heal on hit for rapidfire" 40
				"hidden primary max ammo bonus" 1.0
			}
			Description "Mimics Robot Black Box +100% max ammo -Cannot fire until full reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Black Box"
				ItemName "Festive Black Box"
			}
			OnApply
			{
				Output "popscript,$EnableHoldFire,,0"
			}
			OnDowngrade
			{
				Output "popscript,$DisableHoldFire,,0"
			}
		}
		BlackBoxB
		{
			Name "Unstable Mod: Tank Buster"
			Attribute "mult dmg vs tanks" 
			Cap 1.25
			Increment 0.25
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"Projectile speed decreased" -0.2
				"heal on hit for rapidfire" 15
				"health on radius damage" -20
			}
			Description "+Heal on hit stacks with multiple enemies +25% damage Vs. Tanks -20% slower projectile speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Black Box"
				ItemName "Festive Black Box"
			}
		}
		LibertyLauncherA
		{
			Name "Unstable Mod: Jump Module"
			Attribute	"fire rate bonus HIDDEN"
			Cap 0.6
			Increment -0.4
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"damage penalty" -0.15
				"blast radius increased" 0.35
				"hidden primary max ammo bonus"	0.5
			}
			Description "+40% firing speed 35% larger blast radius +50% ammo -15% damage penalty" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Liberty Launcher"
			}
		}
        AirstrikeA
		{
			Name "Unstable Mod: Smart Rockets"
			Attribute "rocket jump damage reduction"
			Cap 1
			Increment 0.15
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"rocketjump attackrate bonus" -0.15
				"mod projectile heat follow crosshair" 1
				"mod projectile heat seek power" 360
				"clip size penalty" -0.5
				"damage penalty" -0.15
				"Projectile speed decreased" -0.20
				"projectile detonate time" 2.5
			}
			Description "+15% increase to rocket jump bonuses +Rockets follow cross-hair -50% clip size -20% slower projectile speed -no reduced self blast damage" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Air Strike"
			}
		}
////Soldier Secondary
		ShotgunMark
		{
			Name "Stable Mod: Debuff Rounds"
			Attribute "Mark for death" 
			Cap 1
			Increment 1
			Cost 0
			Description "Weapon will now mark 1 target for death +20% damage bonus" 
			SecondaryAttributes 
			{
				"damage bonus" 0.2
			}
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_SHOTGUN_SOLDIER
			}
		}
		ReserveA
		{
			Name "Unstable Mod: Air-raid rounds"
			Attribute "mod crit while airborne"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"rocketjump attackrate bonus" -0.5
				"fire rate penalty HIDDEN" 0.5
				"parachute attribute" 1
				"weapon spread bonus" -0.5
			}
			Description "+Deals crits and fires 40% faster while rocket jumping +50% accuracy -50% slower firing speed" 
			Tier 1
            Allowplayerclass Soldier
			AllowedWeapons
			{
				ItemName "The Reserve Shooter"
			}
		}
		Gunboats
		{
			Name "Stable Mod: Titanium Soles"
			Attribute "mult credit collect range" 
			Cap 3
			Increment 2
			Cost 0
			SecondaryAttributes 
			{
				"cancel falling damage" 1
				"maxammo primary increased"	0.25
			}
			Description "+increased cash collection range +fall damage immunity +25% primary ammo -No Stomping (Mantreads)" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Gunboats"
				ItemName "The Thermal Thruster"
				ItemName "Stickybomb Jumper"
				ItemName "The Mantreads"
			}
		}
		Gunboats/para
		{
			Name "Unstable Mod: Slim Rockets"
			Attribute "halloween reload time decreased"
			Cap 0.8
			Increment -0.2
			Cost 0
			SecondaryAttributes 
			{
//				"max health additive penalty" -25
//				"faster reload rate" -0.9
				"maxammo primary reduced" -0.5
				"maxammo secondary reduced" -0.5
			}
			Description "+20% faster primary reload -50% max primary/secondary ammo" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Gunboats"
				ItemName "The B.A.S.E. Jumper"
			}
		}
		Mantreads
		{
			Name "Unstable Mod: Heavy Duty Boots"
			Attribute "move speed bonus"
			Cap 1.1
			Increment 0.1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"kb fall min velocity" 150
				"kb fall radius" 75
				"kb fall force" 100
				"kb fall damage" 175
				"kb fall stun time" -1
			}
			Description "+175 stomp damage +10% movement speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Mantreads"
				ItemName "The Thermal Thruster"
			}
		}
		BaseJumper
		{
			Name "Stable Mod: Improved Parachute"
			Attribute "increased air control"
			Cap 3
			Increment 3
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"parachute redeploy" 1
				"maxammo primary increased"	0.5
			}
			Description "Increased air control and can re-deploy +50% max primary ammo" 
			Tier 1
            Allowplayerclass Soldier
//            Allowplayerclass Demoman
			AllowedWeapons
			{
				ItemName "The B.A.S.E. Jumper"
			}
		}
		PanicB
		{
			Name "Stable Mod: Combo Slugs"
			Attribute "minicritboost on kill"
			Cap 5
			Increment 5
			Cost 0
			Description "+On Kill: 5 seconds of mini-crits +35% damage bonus" 
			Tier 1
			SecondaryAttributes
			{
				"damage bonus" 0.35
			}
            Allowplayerclass Engineer
            Allowplayerclass Heavyweapons
            Allowplayerclass Pyro
			Allowplayerclass Spy
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
				ItemName "The Family Business"
				ClassName TF_WEAPON_SHOTGUN_HWG
				ClassName TF_WEAPON_SHOTGUN_PRIMARY
				//ItemName "The Family Business"
				ClassName  	TF_WEAPON_REVOLVER 
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Frontier Justice"
				ItemName "The Pomson 6000"
				ItemName "The Rescue Ranger"
				ItemName "The Widowmaker"
				ItemName "The Enforcer"
				ItemName "Festive Ambassador"
				ItemName "The Ambassador"
			}
		}
		Panic
		{
			Name "Unstable Mod: Prototype Panic"
			Attribute "damage penalty"
			Cap 1
			Increment 0.2
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"panic_attack" 1
				"bullets per shot bonus" -0.5
				"auto fires full clip" 1
				"Reload time decreased" -0.34
				"clip size penalty" -0.25
				"fire rate bonus with reduced health" -0.5
				"damage bonus" 0.15
			}
			Description "+35% damage bonus (i)Weapon now mimics its original version +Fire Rate bonus when below 50% health" 
			Tier 1
            Allowplayerclass Engineer
            Allowplayerclass Heavyweapons
            Allowplayerclass Soldier
            Allowplayerclass Pyro
			AllowedWeapons
			{
				ItemName "Panic Attack Shotgun"
			}
		}
//////MELEE SOLDIER
		ShovelA
		{
			Name "Stable Mod: Support Beacon"
			Attribute "mod soldier buff range"
			Cap 2.0
			Increment 1.0
			Cost 0
            Allowplayerclass Soldier
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				//"increase buff duration" 1.5
				"provide on active" 1
				"damage bonus" 0.25
			}
			Description "(i)When active: +100% buff range +50% damage bonus" 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_SHOVEL 
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Market Gardener"
				ItemName "The Escape Plan"
				ItemName "The Equalizer"
			}
		}
		PainTrain
		{
			Name "Unstable Mod: Magnetic Spike" 
			Attribute "melee range multiplier"
			Cap 2.5
			Increment 1.5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"mult credit collect range" 1
//				"damage bonus" 0.35
				"dmg taken from bullets increased" 0.1
			}
			Description "+increased cash collection radius and +100% melee range -10% bullet vulnerability" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Pain Train"
			}
		}
		MemeSpoon
		{
			Name "Unstable Mod: Titanic Toppler"
			Attribute "damage all connected"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"mult dmg vs giants" 1.0
				"damage bonus" 0.25
				"fire rate penalty"	0.15
				"melee range multiplier"	0.5
			}
			Description "+Damages all enemies connected via medi-beam +100% damage to giant robots -15% slower swing speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Market Gardener"
			}
		}
		MemeSpoonB
		{
			Name "Unstable Mod: Combo Swing"
			Attribute "critboost on kill"
			Cap 4
			Increment 4
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"melee range multiplier"	1
				"fire rate penalty" 0.1
			}
			Description "+On Kill: 4 seconds of critical hits -10% swing speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Market Gardener"
			}
		}
		Equalizer
		{
			Name "Unstable Mod: Survival Training"
			Attribute "damage bonus"
			Cap 1.25
			Increment 0.25
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"dmg from ranged reduced" -0.35
				"provide on active" 1
				//"hit self on miss" 1
			}
			Description "+25% damage +resist all ranged damage by 35%" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Equalizer"
			}
		}
		ZatSoldierA
		{
			Name "Unstable Mod: Samurai Spirit"
			Attribute "provide on active"
			Cap 1
			Increment 1
			Cost 0
			Allowplayerclass Soldier
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"add cond on kill" 16
				"move speed bonus" 0.1
				"fire rate bonus" 0.2
				"dmg taken increased" -0.15
				"add cond on kill duration" 2
			}
			Description "+On kill: Minicrit for 2 seconds +10% movement speed +20% swing speed -15% damage vulnerability" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Half-Zatoichi"
			}
		}
		FlameClean
		{
			Name "Unstable Mod: Caustic Fumes"
			Attribute "add cond on hit"
			Cap 123
			Increment 123
			Cost 0
			SecondaryAttributes
			{
				//"bleeding duration" 3
				"airblast_pushback_disabled" 1
				"slow enemy on hit" 1
			}
			Description "+Ignite non-ignitable targets +100% chance to slow target -airblast no longer pushes back robots" 
			Tier 1
            AllowedWeapons
			{
				ClassName TF_WEAPON_FLAMETHROWER 
				ItemName "Festive Flamethrower 2011"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Phlogistinator"
				ItemName "The Backburner"
				ItemName "The Dragon's Fury"
				ItemName "The Degreaser"
			}
		}
		Backburner
		{
			Name "Unstable Mod: Acidic Compound"
			Attribute "airblast disabled"
			Cap 1
			Increment 1
			SecondaryAttributes
			{
				"mult dmg vs tanks" 0.15
			}
			Description "+15% extra damage to tanks -No Airblast" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Backburner"
				ItemName "Festive Backburner 2014"
			}
		}
		DragonA
		{
			Name "Unstable Mod: Leech Valve"
			Attribute "heal on hit for rapidfire"
			Cap 20
			Increment 20
			Cost 0
			SecondaryAttributes
			{
				"damage penalty" -0.1
			}
			Description "+20 hp per hit -10% damage penalty" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Dragon's Fury"
			}
		}
//		circuit_phlog
//		{
//			Name "Unstable Mod: Projectile Vacuum"
//			Description "weee" 
//			Attribute "cannot giftwrap" 
//			Cap 1 
//			Increment 1
//			Cost 0
//			Description "+Converts projectiles into mmph with alt-fire -No longer gains mmph from damage" //
//
//			AllowedWeapons 
//			{
//				ItemName "The Phlogistinator"
//			}//
//
//			// these are required
//			OnApply
//			{
//				// DR stands for deflect rage
//				Output "popscript,$DR_Purchased,,0"
//			}
//			OnDowngrade
//			{
//				Output "popscript,$PersonalProjectileShieldRefunded,,0"
//			}
//		}
		Degreaser
		{
			Name "Unstable Mod: Gas Jockey"
			Attribute "move speed bonus"
			Cap 1.15
			Increment 0.1
			Cost 0
			SecondaryAttributes
			{
				"dmg pierces resists absorbs" 1
				"damage penalty" -0.15
				"airblast_pushback_disabled" 1
				"mult airblast refire time" -0.5
			}
			Description "15% move-speed +50% faster airblast +Attacks pierce damage resistances -15% less damage -airblast no longer pushes back robots" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Degreaser"
			}
		}
////Pyro Secondary
		FlaregunA
		{
			Name "Unstable Mod: Volcanic Compound"
			Attribute "damage bonus"
			Cap 1.35
			Increment 0.35
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"Projectile speed decreased" -0.35
				"weapon burn time reduced" -0.8
				"maxammo primary reduced" -0.5
			}
			Description "+50% damage bonus -35% slower projectile speed -80% afterburn time -50% primary ammo" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Flare Gun"
				ItemName "Festive Flare Gun"
			}
		}
		ScorchDet
		{
			Name "Unstable Mod: Volcanic Compound"
			Attribute "Blast radius increased"
			Cap 1.5
			Increment 0.5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"Projectile speed decreased" -0.35
				"mult afterburn delay" 0.5
				"damage penalty" -0.5
			}
			Description "+35% explosion radius +50% faster afterburn -35% slower projectile speed -50% damage penalty" 
			Tier 1
			AllowedWeapons
			{
				ItemName	"The Detonator"
				ItemName	"The Scorch Shot"
			}
		}
		ManMelter
		{
			Name "Unstable Mod: Molten Core"
			Attribute "bleeding duration"
			Cap 3
			Increment 3
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"Projectile speed decreased" -0.5
				"mult afterburn delay" 2
				"mult bleeding dmg" 3
			}
			Description "+On Hit: Bleed for 3 seconds +200% faster afterburn -50% projectile speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Manmelter"
			}
		}
		ReservePyro
		{
			Name "Unstable Mod: Trench Gun"
			Attribute "Set DamageType Ignite"
			Cap 5
			Increment 5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"bullets per shot bonus" 0.5
				"spread penalty" 0.35
				"mult afterburn delay" 1.5
			}
			Description "+Weapon ignites targets +50% bullets per shot -35% less accurate" 
			Tier 1
            AllowPlayerClass Pyro
			AllowedWeapons
			{
				ItemName "The Reserve Shooter"
				ClassName TF_WEAPON_SHOTGUN_PYRO 
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "Panic Attack Shotgun"
			}
		}
		GasA
		{
			Name "Unstable Mod: Australian Gas"
			Attribute "provide on active" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"effect cond override" 24
				"mult effect duration" -0.75
			}
			Description "Gas Effect now coats robots in jarate -70% effect duration"
			Tier 1
            AllowPlayerClass Pyro
			AllowedWeapons
			{
				ItemName "The Gas Passer"
			}
		}
////Pyro Melee
		Homewrecker
		{
			Name "Unstable Mod: Heavy Mallet"
			Attribute "dmg taken from bullets reduced"
			Cap 0.65
			Increment -0.35
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"provide on active" 1
				"damage force reduction" -0.9
				"dmg penalty vs players" -0.25
			}
			Description "(i)When active all +35% bullet resistance +90% resistant to knockback -25% Damage vs. Players"
			Tier 1
			AllowedWeapons
			{
				ItemName "The Homewrecker"
				ItemName "The Maul"
			}
		}
//		Powerjack
//		{
//			Name "Unstable Mod Exposed Battery"
//			Attribute "critboost on kill"
//			Cap 3
//			Increment 3
//			Cost 0
//			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
//			{
//				"damage penalty" -0.2
//				"dmg taken increased" 0.3
//			}
//			Description "+3 seconds of critical hits on kill -20% damage penalty -30% damage vulnerability"
//			Tier 1
//			AllowedWeapons
//			{
//				ItemName "The Powerjack"
//			}
//		}
		Neon
		{
			Name "Unstable Mod: Gordbort Capacitor"
			Attribute "damage all connected"
			Cap 1
			Increment 1
			Cost 0
			Description "+Damages all robots connected via medibeam -25% slower swing speed"
			SecondaryAttributes 
			{
				"fire rate penalty"		0.25
			}
			Tier 1
			AllowedWeapons
			{
				ItemName "The Neon Annihilator"
			}
		}
		PyroMeleeA
		{
			Name "Unstable Mod: Armor Breaking"
			Attribute "damage bonus"
			Cap 1.2
			Increment 0.2
			Cost 0
			SecondaryAttributes
			{
				"mult dmg vs giants" 0.35
				"mult dmg vs tanks" 0.35
				"fire rate penalty"	0.2
			}
			Description "+20% damage +35% bonus damage Vs. tanks and giants -20% swing speed" 
			Tier 1
            Allowplayerclass Pyro
			AllowedWeapons
			{
				Slot	"Melee"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Back Scratcher"
				ItemName "The Third Degree"		
				ItemName "The Hot Hand"
				ItemName "The Neon Annihilator"
				
			}
		}
		Axtinguisher
		{
			Name "Unstable Mod: Serrated Axe"
			Attribute "crit vs burning players"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"dmg penalty vs nonburning" -0.75
				"attack_minicrits_and_consumes_burning" -1
			}
			Description "+Crits vs. burning players +No Longer extinguishes target -75% damage to non-burning players"
			Tier 1
			AllowedWeapons
			{
				ItemName "The Axtinguisher"
				ItemName "The Postal Pummeler"
				ItemName "Festive Axtinguisher"
			}
		}
		ThirdDegree
		{
			Name "Unstable Mod: Spine Zapper"
			Attribute "crit from behind"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"max health additive penalty" -15
			}
			Description "+Crit from behind -15 max hp"
			Tier 1
			AllowedWeapons
			{
				ItemName "The Third Degree"
			}
		}
		Rake
		{
			Name "Unstable Mod: Premium Rake"
			Attribute "melee cleave attack"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"health from healers reduced" 0.5
				"health from packs increased" -0.5
			}
			Description "+25% health from healers +Weapon cleaves -No bonus health from packs"
			Tier 1
			AllowedWeapons
			{
				ItemName "The Back Scratcher"
			}
		}
		VolcanoFragment
		{
			Name "Unstable Mod: Hell-Forged Heal"
			Attribute "heal on hit for rapidfire"
			Cap 25
			Increment 25
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"mult afterburn delay" 1.5
				"damage penalty" -0.2
			}
			Description "+On Hit: Heal 25hp +150% faster afterburn -20% damage penalty"
			Tier 1
			AllowedWeapons
			{
				ItemName "Sharpened Volcano Fragment"
			}
		}
		HotHand
		{
			Name "Stable Mod: Team Bonding"
			Attribute "speed buff ally"
			Cap 5
			Increment 5
			Cost 0
			Description "+70% melee range +85% damage bonus +On ally hit: gives both players a speed bonus for 5 seconds"
			Tier 1
			AllowedWeapons
			{
				ItemName "The Hot Hand"
			}
			SecondaryAttributes
			{
				"melee range multiplier"	0.7
				"melee bounds multiplier"	0.55
				"damage penalty" 0.2
				"damage bonus" 0.65
			}
		}
		GrenadeLauncherB
		{
			Name "Unstable Mod: Mortar Mode"
			Attribute "can overload"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"fire rate bonus HIDDEN" -0.3
				"auto fires full clip" 1
				"projectile spread angle penalty" 3
//				"blast radius increased" 0.35
			}
			Description "(i)Beggars Style Reload +30% faster firing speed +35% splash radius -2 degrees of deviation" 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_GRENADELAUNCHER
				ItemName "Festive Grenade Launcher"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Loch-n-Load"
			}
		}
		LochB
		{
			Name "Unstable Mod: Burst Chamber"
			Attribute "mult projectile count"
			Cap 2
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"damage penalty" -0.35
				"projectile spread angle penalty" 2
				"sticky air burst mode" -1
				"Blast radius decreased" -0.5
				"grenade damage reduction on world contact" -0.5
			}
			Description "+Weapon now fires 2 bombs simultaneously -50% smaller blast radius -35% damage penalty" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Loch-n-Load"
			}
		}
		LooseA
		{
			Name "Unstable Mod: Blunderbuss"
			Attribute "grenade explode on impact"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"clip size penalty HIDDEN" -0.5
				"charge meter on hit" 0.75
//				"add cond on kill duration" 4
//				"add cond on kill" 7450
				"rocket jump damage reduction" -0.75
				"minicritboost on kill" 5				
				"grenade launcher mortar mode" 0
				"CARD: damage bonus" 0.2
			}
			Description "+On Hit: Refill 75% Shield +Explode on impact +20% damage bonus -50% clip size" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Loose Cannon"
			}
		}
		StickyA
		{
			Name "Unstable Mod: Extra Adhesive"
			Attribute "max pipebombs decreased"
			Cap -3
			Increment -3
			Cost 0
			SecondaryAttributes
			{
				"sticky arm time bonus" -0.1
				"stickybomb stick to enemies" 1
			}
			Description "+10% faster arm-time +bombs stick to enemies -3 max active sticky bombs" 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_PIPEBOMBLAUNCHER
				ItemName "Festive Stickybomb Launcher 2011"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Scottish Resistance"
				ItemName "The Quickiebomb Launcher"
				ItemName "Stickybomb Jumper"
			}
		}
		ScottishA
		{
			Name "Unstable Mod: Overloaded Drum"
			Attribute "stickybomb stick to enemies" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"can overload" 1
				"auto fires full clip" 1
				"max pipebombs decreased" 2
				"fire rate bonus HIDDEN" -0.35
				"projectile spread angle penalty" 6
				"stickybomb charge rate" -10
				"sticky arm time penalty" -0.4
			}
			Description "(i)Uses Beggar's style reload +35% faster firing speed +0.4s faster arm time +2 max active sticky bombs -6 degree spread" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Scottish Resistance"
			}
		}
		Quickie
		{
			Name "Unstable Mod: Prototype Sensor"
			Attribute "stickybomb fizzle time"
			Cap 1.5
			Increment 1.5
			Cost 0
			SecondaryAttributes
			{
				"clip size penalty" 0.25
				"stickybomb_charge_damage_increase" 0.15
				"mult projectile scale" 1.0
				"stickybomb charge rate" -0.15
			}
			Description "+25% clip size +15% damage at full charge +15% Charge speed -Stickies fizzle after 1.5 seconds" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Quickiebomb Launcher"
			}
		}
////SHIELDS+BOOTS
		Shoes
		{
			Name "Unstable Mod: Cash Magnet"
			Attribute "stickybomb stick to enemies" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"max health additive bonus" -25
				"maxammo secondary reduced" -0.5
				"halloween reload time decreased" 0.75
				"mult credit collect range" 2
			}
			Description "+200% Cash collection range -50% Sticky Ammo -25hp -75% Sticky Bomb Reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Ali Baba's Wee Booties"
				ItemName "The Bootlegger"
			}
		}
		Shield_Generic
		{
			Name "Unstable Mod: Clash Combo"
			Attribute "add cond on kill"
			Cap 34
			Increment 34
			Cost 0
			SecondaryAttributes
			{
				"halloween reload time decreased" 0.7
				"add cond on kill duration" 4
			}
			Description "+On Shield Kill: 4 seconds of crits -35% primary reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Festive Targe 2014"
				ItemName "The Chargin' Targe"
				ItemName "The Splendid Screen"
				ItemName "The Tide Turner"
			}
		}
		Targe_A
		{
			Name "Unstable Mod: Pocket Incinerator"
			Attribute "stickybomb stick to enemies" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"dmg taken from fire reduced" 0.25
				"dmg taken from blast reduced" 0.15
				"halloween reload time decreased" 0.75
				"health from credits" 20
			}
			Description "+Heal from credits collected -25% fire resistance -15% Blast resistance -75% primary reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Festive Targe 2014"
				ItemName "The Chargin' Targe"
			}
		}
		Splendid_A
		{
			Name "Unstable Mod: Pocket Incinerator"
			Attribute "stickybomb stick to enemies" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"dmg taken from fire reduced" 0.2
				"dmg taken from blast reduced" 0.2
				"halloween reload time decreased" 0.75
				"health from credits" 20
			}
			Description "+Heal from credits collected -20% fire/blast resistance -75% reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Splendid Screen"
			}
		}
		Tide_A
		{
			Name "Unstable Mod: Pocket Incinerator"
			Attribute "stickybomb stick to enemies" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"dmg taken from fire reduced" 0.15
				"dmg taken from blast reduced" 0.15
				"halloween reload time decreased" 0.75
				"health from credits" 20			
			}
			Description "+Heal from credits collected -25% fire resistance -15% Blast resistance -75% reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Tide Turner"
			}
		}

///BEER AND SWORDS
		Bottle
		{
			Name "Unstable Mod: Gardener Module"
			Description "+Crits while blast jumping -10% slower swing speed"
			AllowPlayerClass Demoman
			AllowedWeapons
			{
				ItemName	"The Scottish Handshake"
				ClassName "TF_WEAPON_BOTTLE"
			}
			Cost 0
			Attribute "mod crit while airborne"
			Increment 1
			Cap 1
			SecondaryAttributes
			{
				"fire rate penalty"		0.1
				"melee range multiplier"	0.25
			}
		}
		CaberA
		{
			Name "Unstable Mod: Cushioned Explosive"
			Attribute "regenerate stickbomb"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"self dmg push force decreased" -3
				"blast dmg to self increased" 0.50
				"max health additive penalty" -25
			}
			Description "+Grenade is not destroyed on hit + no self-knockback -50% self damage vulnerability -25 max hp" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Ullapool Caber"
			}
		}
		Claid
		{
			Name "Unstable Mod: Scottish Steel"
			Attribute "fire rate penalty"
			Cap 1.25
			Increment	0.25
			Cost 0
			SecondaryAttributes
			{	
				"dmg taken increased" -0.15
				"mult charge turn control" 4.0
				"charge time increased" 1.5
				"crit from behind" 1
			}
			Description "+1.5 Charge Duration +400% Turn Control +15% damage resistance +Crit from behind -25% Swing Speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Claidheamohmor"
			}
		}
		Sword_Crit
		{
			Name "Unstable Mod: Killer Edge"
			Attribute "crit mod disabled"
			Cap 2
			Increment	1
			Cost 0
			SecondaryAttributes
			{	
				"fire rate penalty" 0.2
			}
			Description "+Weapon can now random crit -20% swing speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Eyelander"
				ItemName "Festive Eyelander"
				ItemName "The Persian Persuader"
			}
		}
		Persian
		{
			Name "Unstable Mod: Shield Slam"
			Attribute "charge impact damage increased"
			Cap 3
			Increment 2
			Cost 0
			SecondaryAttributes
			{	
				"fire rate penalty" 0.2
				"maxammo primary reduced" 0.8
				"maxammo secondary reduced" 0.8
			}
			Description "+200% Impact Damage -20% slower swing speed +80% primary and secondary ammo" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Persian Persuader"
			}
		}
		HeavyBalancedBrass
		{
			Name "Unstable Mod: Defense Framework"
			Description "+30% Spinup resistance +spin-up time penalty is removed -movement is disabled while spun-up -10% damage -100% overheal"
			AllowPlayerClass HeavyWeapons
			AllowedWeapons
			{
				ItemName	"The Brass Beast"
			}
			Cost 0
			Attribute "mod minigun can holster while spinning"
			Increment 1
			Cap 1
			SecondaryAttributes
			{
				"spunup_damage_resistance"		-0.3	// 35% total damage resistance while spun up
				"minigun spinup time increased"	-0.5
				"aiming movespeed decreased"	-0.395	// 99% total move speed penalty while spun up
				"dmg taken from crit reduced" -0.5
				"mult_patient_overheal_penalty_active" -1.0
				"damage bonus" -0.1
			}
		}
		HeavyNattyB
		{
			Name "Unstable Mod: Leadstorm"
			Attribute "mod minigun can holster while spinning"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"minigun spinup time increased" -0.3
				"aiming movespeed decreased"	-0.995
				"spunup_damage_resistance" 0.2
				"spunup_push_force_immunity" 1.0
				"damage penalty" 0.2
				"hidden primary max ammo bonus" -0.25
			}
			Description "+20% damage +30% faster spinup -100% move speed while spun-up -20% spinup resistance -25% max ammo" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Natascha"
			}
		}
		HeavyTommy
		{
			Name "Unstable Mod: Optimized Barrel"
			Attribute "mod minigun can holster while spinning"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				//"dmg pierces resists absorbs" 1
				"aiming movespeed increased" 1.5
				"hidden primary max ammo bonus" -0.5
				"tool needs giftwrap" 1
			}
			Description "+no movement penalty when spun-up +Rage now pierces resistances -50% max ammo" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Tomislav"
			}
			OnApply
			{
				Output "popscript,$KnockbackRageStart,,0.1"
			}
			OnDowngrade
			{
				Output "popscript,$KnockbackRageStop,,0"
			}
		}
		Huo
		{
			Name "Unstable Mod: Bigger Bullets"
			Attribute "mod minigun can holster while spinning"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"uses ammo while aiming" 3
				"damage penalty" 0.1
				"throwable fire speed" 1
			}
			Description "+10% damage bonus +Rage now applies afterburn -200% faster ammo drain" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Huo Long Heatmaker"
			}

			OnApply
			{
				Output "popscript,$KnockbackRageStart,,0.1"
			}
			OnDowngrade
			{
				Output "popscript,$KnockbackRageStop,,0"
			}
		}
		FBA
		{
			Name "Stable Mod: Defensive Blast"
			Attribute "damage returns as health"
			Cap 1.75
			Increment 0.75
			Cost 0
			Description "+On hit: 75% of all damage returned as health +Destroy Projectiles +66% clip size +25% firing speed" 
			Tier 1
			SecondaryAttributes
			{
				"attack projectiles"	2
				"clip size bonus" 0.66
				"fire rate bonus HIDDEN" -0.25
			}
			AllowedWeapons
			{
				ItemName "The Family Business"
			}
		}
///STEAK
		SteakB
		{
			Name "Stable Mod: Mannly Meal"
			Attribute "effect cond override"
			Cap 2694416
			Increment 2694416
			Cost 0
			SecondaryAttributes
			{
				"gesture speed increase" 1.75
			}
			Description "+175% faster eating speed +Steak also gives conch effect" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Buffalo Steak Sandvich"
			}
		}
///FISTS
		Fists
		{
			Name "Stable Mod: More Storage Space"
			Attribute "maxammo primary increased"
			Cap 1.5
			Increment 0.5
			Cost 0
			SecondaryAttributes
			{
				"deploy time decreased" -0.35
				"maxammo secondary increased" 1
			}
			Description "+35% faster switch speed +50% minigun ammo +100% shotgun ammo" 
			Tier 1
			AllowPlayerClass Heavyweapons
			AllowedWeapons
			{
				Slot	"Melee"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "Gloves of Running Urgently"
				ItemName "Festive Gloves of Running Urgently"
				ItemName "The Bread Bite"
				ItemName "The Eviction Notice"
				ItemName "Warrior's Spirit"
				ItemName "Fists of Steel"
				ItemName "The Killing Gloves of Boxing"
				ItemName "The Holiday Punch"
			}
		}
		GRU_B
		{
			Name "Unstable Mod: Robo Gru"
			Attribute "self mark for death" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"mod_maxhealth_drain_rate" -10
				"mult_player_movespeed_active" 0.05
			}
			Description "+No hp drain -Marked for death" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Gloves of Running Urgently"
				ItemName "Festive Gloves of Running Urgently"
				ItemName "The Bread Bite"
			}
		}
		GRU_C
		{
			Name "Unstable Mod: Improved Cardio"
			Attribute "mod_maxhealth_drain_rate"
			Cap 12
			Increment 2
			Cost 0
			SecondaryAttributes
			{
				"mult_player_movespeed_active" 0.10
			}
			Description "+10% faster movement speed -Health Drains an extra 2 units/second" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Gloves of Running Urgently"
				ItemName "Festive Gloves of Running Urgently"
				ItemName "The Bread Bite"
			}
		}
		Eviction
		{
			Name "Unstable Mod: Brute Bracers"
			Attribute "minicrits become crits"
			Cap 2
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"mod_maxhealth_drain_rate" -10
				"damage penalty" 0.3
				"dmg taken increased" 0.15
			}
			Description "+No hp drain +30% damage bonus +Crits when minicrits -15% damage vulnerability" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Eviction Notice"
			}
		}
		Warriors
		{
			Name "Unstable Mod: Warrior's Code"
			Attribute "honorbound"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"dmg taken increased" -0.3
				"fire rate penalty" 0.5
				"minicrits become crits" 1
			}
			Description "+30% damage resistance +crits when it would normally minicrit -weapon is now honorbound -50% slower swing speed" 
			Tier 1
			AllowedWeapons
			{
				ItemName "Warrior's Spirit"
			}
		}
		FoS
		{
			Name "Unstable Mod: Heavy Duty Steel"
			Attribute "dmg from melee increased"
			Cap 3.0
			Increment 1.0
			Cost 0
			SecondaryAttributes
			{
				"dmg from ranged reduced" -0.4
				"patient overheal penalty" -1.0
				"mult_patient_overheal_penalty_active" 0.4
				"move speed penalty" -0.2
			}
			Description "+40% ranged resistance -100% more vulnerable to melee -60% overheal -20% movement speed"
			Tier 1
			AllowedWeapons
			{
				ItemName "Fists of Steel"
			}
		}
		EngieShotguns
		{
			Name "Unstable Mod: Custom Engineered Shotgun"
			Attribute "engineer building teleporting pickup"
			Cap 100
			Increment 100
			Cost 0
			SecondaryAttributes
			{
				"mark for death on building pickup" 1
			}
			Description "+Use 100 metal to pick up your buildings from long range -Self mark for death when hauling buildings" 
			Tier 1
            Allowplayerclass Engineer
			AllowedWeapons
			{
				ClassName "TF_WEAPON_SHOTGUN_PRIMARY"
				//ItemName "The Pomson 6000"
				ItemName "The Frontier Justice"
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Widowmaker"
			}
		}
		Pomson
		{
			Name "Unstable Mod: Improved Transistors"
			Attribute "engineer building teleporting pickup"
			Cap 100
			Increment 100
			Cost 0
			SecondaryAttributes
			{
				"Projectile speed increased" 1
				"penetrate teammates" 1
				"energy weapon penetration" 1
				"damage bonus HIDDEN" 1.0
				"bleeding duration" 1
			}
			Description "+Use 100 metal to pick up your buildings from long range +fires Bison laser" 
			Tier 1
            Allowplayerclass Engineer
			AllowedWeapons
			{
				ItemName "The Pomson 6000"
			}
		}	
		PomsonB
		{
			Name "Unstable Mod: Burst Lens"
			Attribute "hold fire until full reload"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes
			{
				"projectile spread angle penalty" 2
				"mult projectile count" 2
				"projectile lifetime" 0.75
				"reload time increased hidden" 0.5
			}
			Description "+Fires 3 projectiles -Projectiles fizzle after 0.75 seconds -Cannot be fired until fully reloaded" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Pomson 6000"
				ItemName "The Righteous Bison"
			}
		}
		Ranger
		{
			Name "Unstable Mod: Compact Sensor"
			Attribute "maxammo metal reduced"
			Cap 0.75
			Increment -0.25
			Cost 0
			SecondaryAttributes
			{
				"engineer building teleporting pickup" -50
				"clip size penalty" -0.16
			}
			Description "+hauling cost reduced to 50 metal -15% clip size -25% max metal" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Rescue Ranger"
			}
		}
///SECONDARY ENGIE
		PistolEngieA
		{
			Name "Stable Mod: Sentry Companion"
			Attribute "engy building health bonus" 
			Cap 1.5
			Increment 0.5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"bidirectional teleport" 1
			}
			Description "+50% max building health +2way teleporter" 
			Tier 1
            AllowPlayerClass Engineer
			AllowedWeapons
			{
				ClassName tf_weapon_pistol
				ItemName "The C.A.P.P.E.R"
			}
		}
//		shield_gen_sentry
//		{
//			Name "Personal Shield Generator"
//			Description "Attach a projectile shield to your sentry guns. Decreased primary sentry fire rate" 
//			Attribute "throwable fire speed" // this should not be changed as lua logic relies on checking for this
//			Cap 2 
//			Increment 1
//			Cost 350
//
//			AllowedWeapons 
//			{
//				ClassName "TF_WEAPON_PDA_ENGINEER_BUILD"
//			}
//
//			SecondaryAttributes
//			{
//				// 0.5 firerate
//				"engy sentry fire rate increased" 2
//				"mult firerocket rate" 0.5
//			}
//		}
		PistolEngieB
		{
			Name "Stable Mod: Combat Sensor"
			Attribute "minicritboost on kill" 
			Cap 6
			Increment 6
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"damage bonus bullet vs sentry target" 1
				"building cost reduction" -0.5
			}
			Description "+100% damage to sentry target +on kill: gain 6 seconds of minicrits +Building cost reduced by 50%" 
			Tier 1
            AllowPlayerClass Engineer
			AllowedWeapons
			{
				ClassName tf_weapon_pistol
				ItemName "The C.A.P.P.E.R"
			}
		}
		Wrangler
		{
			Name "Unstable Mod: Sentry Jumper"
			Attribute "rocket jump damage reduction"
			Cap 0.05
			Increment -0.95
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"maxammo metal reduced" -0.15
				"cancel falling damage" 1
			}
			Description "+90% less damage from sentry jumping -15% less metal" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Wrangler"
				ItemName "The Giger Counter"
				ItemName "Festive Wrangler"
			}
		}
		Circuit
		{
			Name "Unstable Mod: Overclocked Circuit"
			Attribute "damage bonus"
			Cap 5
			Increment 5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"explosive bullets" 100
				"blast dmg to self increased" -0.25
				"fire rate penalty" 2.5
				"max bullet range" 750
				"dmg penalty vs players" -0.35
				"alt-fire disabled" 1	
				"add onhit addammo" 10
				"attack projectiles" 2
			}
			Description "+Primary fire now uses an explosive +10 metal per hit -250% slower firing speed -No Alt fire" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Short Circuit"
			}
		}
///WRENCHES
		GunslingerA
		{
			Name "Stable Mod: Mobile Processors"
			Attribute "CARD: damage bonus"  
			Cap 1.25
			Increment 0.25
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"engy sentry radius increased" 0.5
				"construction rate increased" 2
				"mult dispenser rate" 2
				"engy disposable sentries" 1
				"mult teleporter recharge rate" -0.5
			}
			Description "+1 disposable sentry gun +50% more effecient dispenser and teleporter +25% Melee Damage" 
			Tier 1
            Allowplayerclass Engineer
            AllowedWeapons
			{
				ItemName "The Gunslinger"
			}
		}
		Southern
		{
			Name "Unstable Mod: Battle Module"
			Attribute "engy sentry radius increased"
			Cap 1.5
			Increment 0.5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"provide on active" 1
				"engy sentry damage bonus" 0.2
				"mult bleeding dmg" 2
				"Repair rate decreased" -0.5
				"dmg taken from fire increased" -0.2
				"mult_dmgtaken_active" 0.2
			}
			Description "(i)when active: +20% sentry damage bonus +50% sentry range -50% repair rate -20% damage vulnerability" 
			Tier 1
            Allowplayerclass Engineer
            AllowedWeapons
			{
				ItemName "The Southern Hospitality"
			}
		}
		WatchMoney
		{
			Name "Unstable Mod: Cash Vacuum"
			Attribute "mult credit collect range" 
			Cap 3
			Increment 2
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"health from credits" 15
			}
			Description "+200% Cash Collection Range +heals from cash collected" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Cloak and Dagger"
				ItemName "TTG Watch"
				ClassName TF_WEAPON_INVIS 
			}
            DisallowedWeapons
			{
				ItemName "The Dead Ringer"
			}
		}
		Enforcer
		{
			Name "Unstable Mod: Magnum Chamber"
			Attribute "damage bonus"
			Cap 1.5
			Increment 0.5
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"damage bonus while disguised" 1.8
				"Reload time increased" 0.5
				"auto fires full clip" 1
				"closerange backattack minicrits" 1
			}
			Description "(i)Uses Beggars Style Reload +Mini crits from behind +50% damage bonus +180% damage while disguised -50% slower reload" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Enforcer"
			}
		}
		Revolver
		{
			Name "Unstable Mod: Tranq Rounds"
			Attribute "mark for death"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"override projectile type" 5
	//			"custom weapon fire sound" "=80|weapons\pistol\pistol_fire2.wav"
				"projectile sound"	"=80|weapons\pistol\pistol_fire2.wav"
				"custom weapon reload sound" "items\ammo_pickup.wav"
				"custom kill icon" "syringegun_medic"			
				"disable buildings on hit" 4
				"subtract victim medigun charge on hit" 25
				"clip size penalty HIDDEN" -0.35
				"dmg penalty vs players" -0.35
			}
			Description "+Marks target for death +Drains 25% uber +Disables buildings -Fires a low damage syringe"
			Tier 1
            AllowedWeapons
			{
				ClassName  	TF_WEAPON_REVOLVER 
			}
			DisallowedWeapons // Disallow those weapons
			{
				ItemName "The Enforcer"
				ItemName "Festive Ambassador"
				ItemName "The Ambassador"
			}
		}
		Amby
		{
			Name "Unstable Mod: Explosive Headshot"
			Attribute "explosive sniper shot"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"crit_dmg_falloff" -1
				"Reload time increased" 0.5
				"clip size penalty HIDDEN" -0.5
				"fire rate penalty HIDDEN" 0.2
			}
			Description "+headshot explode +No Crit falloff -50% slower reload -50% Mag size -20% slower firing speed"
			Tier 1
            AllowedWeapons
			{
				ItemName "The Ambassador"
				ItemName "Festive Ambassador"
			}
		}
		XbowBalancedA
		{
			Name "Unstable Mod: Support Bolts"
			Attribute "add cond on hit" 
			Cap 27
			Increment 27
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"add cond on hit duration" 4.0
				"reload time increased hidden" 0.75
				"damage penalty" -0.5
			}
			Description "+On hit: Apply 4 seconds of Mad Milk -75% slower reload speed -50% damage penalty" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow"
				ItemName "Festive Crusader's Crossbow"
			}
		}
		XbowBalancedB
		{
			Name "Unstable Mod: Rubber Bolts"
			Attribute "reload full clip at once"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"add cond on hit duration" 4.0
				"reload time increased hidden" 0.3
				"damage penalty" -0.20
				"grenade bounce speed" 1
				"projectile lifetime" 2.5
				"mult bleeding dmg" 3
				"mod projectile heat aim start time" 3.25
				"mod projectile heat seek power" 360
				"dmg penalty vs players" -0.25
				"cannot headshot" 1
				"projectile no deflect" 1		
				"reset arrow hits on bounce" 1
				"clip size penalty HIDDEN" 2
				"maxammo primary reduced" 0.35
			}
			Description "+Bouncy Syringes +Reload entire clip +3 clip size +35% max ammo -20% damage -30% slower reload" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Crusader's Crossbow"
				ItemName "Festive Crusader's Crossbow"
			}
		}
		NeedleBalancedB
		{
			Name "Unstable Mod: Biohazard Needle"
			Attribute "add cond on hit" 
			SecondaryAttributes  
			{
				
				"add cond on hit duration" 2.0
				"reload time increased hidden" 0.35
				"damage penalty" -0.75
				"clip size penalty" -0.75
			}
			Cap 24
			Increment 24
			Cost 0
			Description "+Applies Jarate for 2 seconds -35% slower reload -75% damage -75% clip size" 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_SYRINGEGUN_MEDIC
			}
		}
///mediguns
		MedigunC
		{
			Name "Unstable Mod: Broken Shield Lens"
			Attribute "heal rate bonus"
			Cap 1.20
			Increment 0.20
			Cost 0
			Description "+25 max hp +Heal buildings +20% faster heal rate +No uber build penalty on overhealed patients -65% shield duration -100% shield damage" 
			Tier 1
			SecondaryAttributes 
			{
				"max health additive bonus" 25
				"ubercharge overheal rate penalty" 0.15
				"increase buff duration" -0.65
				"dmg penalty vs players" -1.0
				"medic machinery beam" 4
			}
            AllowedWeapons
			{
				ItemName "The Kritzkrieg"
				ClassName TF_WEAPON_MEDIGUN
				ItemName "Festive Medigun 2011"
			}
            DisallowedWeapons
			{
				ItemName "The Quick-Fix"
				ItemName "The Vaccinator"
			}
		}
		QuickFix
		{
			Name "Unstable Mod: Prototype Module"
			Attribute "overheal decay penalty"
			Cap 0.25
			Increment -0.75
			Cost 0
			Description "+50% faster heal rate +Building Beam -50% overheal -20% slower uber build on overhealed patients -25% shield duration" 
			Tier 1
			SecondaryAttributes 
			{
				"overheal penalty" -0.5
				"heal rate bonus" 0.5
				"ubercharge overheal rate penalty" -0.2
				"medic machinery beam" 4
				"increase buff duration" -0.25
			}
            AllowedWeapons
			{
				ItemName "The Quick-Fix"
			}
		}
////Bonesaws
		BonesawCleanA
		{
			Name "Stable Mod: Battery Leech"
			Attribute "add uber charge on hit"
			Cap 0.15
			Increment 0.15
			Cost 0
			Description "+15% uber on hit" 
			Tier 1
            Allowplayerclass Medic
            AllowedWeapons
			{
				Slot "Melee"
			}
            DisallowedWeapons
            {
                ItemName "The Ubersaw"
            }
		}
		BonesawCleanB
		{
			Name "Stable Mod: Mark Module"
			Attribute "mark for death"
			Cap 10
			Increment 10
			Cost 0
			Description "+Mark For Death +20% damage bonus" 
			Tier 1
            Allowplayerclass Medic
            AllowedWeapons
			{
				Slot "Melee"
			}
			SecondaryAttributes 
			{
				"damage bonus" 0.2
			}
            DisallowedWeapons
            {
                ItemName "The Ubersaw"
				ItemName "The Amputator"
				ItemName "The Vita-Saw"
				
            }
		}
		Amputator
		{
			Name "Unstable Mod: Protection Mode"
			Attribute "dmg from ranged reduced"
			Cap 0.5
			Increment -0.5
			Cost 0
			Description "+3 hp regen +50% ranged resistance -30% damage penalty" 
			Tier 1
			SecondaryAttributes  
			{
				"health regen" 3
				"damage penalty" -0.3
			}
            AllowedWeapons
			{
				ItemName "The Amputator"
			}
		}
		RifleA
		{
			Name "Unstable Mod: Rifle Mastery"
			Attribute "ability master sniper" 
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes //Secondary attributes applied when upgrade is applied, for each upgrade level
			{
				"mult bleeding dmg" -0.5
			}
			Description "+40% faster zoom time +50% faster charge speed -50% explosive headshot damage" 
			Tier 1
            Allowplayerclass Sniper
            AllowedWeapons
			{
				Slot "Primary"
			}
            DisallowedWeapons
			{
				ItemName "The Hitman's Heatmaker"
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
				ItemName "Shooting Star"
				ItemName "The Machina"
			}
		}
		HuntsmanA
		{
			Name "Unstable Mod: Rubber Compound"
			Attribute "grenade bounce speed"
			Cap 0.95
			Increment 0.95
			Cost 0
			SecondaryAttributes
			{
				"projectile lifetime" 3.5
				"mult bleeding dmg" 3
				"mod projectile heat aim start time" 3
				"mod projectile heat seek power" 360
				"dmg penalty vs players" -0.25
				"cannot headshot" 1
				"projectile no deflect" 1
				"reset arrow hits on bounce" 1
			}
			Description "+Arrows now bounce +3x bleed damage +Arrows will seek target after 3 seconds -25% damage penalty -No Headshots" 
			Tier 1
            AllowedWeapons
			{
				ItemName "The Huntsman"
				ItemName "The Fortified Compound"
				ItemName "Festive Huntsman"
			}
		}
		Classic
		{
			Name "Unstable Mod: Seeker Rounds"
			Attribute "damage all connected"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes  
			{
				"sniper no headshot without full charge" -1
				"mult bleeding dmg" -0.5
				"sniper charge per sec" -0.9
			}
			Description "+Damages all connected via medi-beam +Classic no longer requires full-charge -90% slower charge -50% explosive headshot damage" 
			Tier 1
            Allowplayerclass Sniper
            AllowedWeapons
			{
				ItemName "The Classic"
			}
		}
		SMG
		{
			Name "Unstable Mod: Headshot Mode"
			Attribute "revolver use hit locations"
			Cap 1
			Increment 1
			Cost 0
			SecondaryAttributes  
			{
				"provide on active" 1
				"mult bleeding dmg" -0.9
				"explosive sniper shot" 1
				"fire rate penalty HIDDEN" 0.5
			}
			Description "+Deals low damage explosive headshots -50% slower firing speed" 
			Tier 1
            AllowedWeapons
			{
				ClassName TF_WEAPON_SMG
			}
		}
		SMG_PeePee
		{
			Name "Unstable Mod: Biohazard Bullets"
			Attribute "add cond on hit" 
			SecondaryAttributes  
			{
				"add cond on hit duration" 3.0
				"reload time increased hidden" 0.25
				"damage bonus" 0.20
			}
			Cap 24
			Increment 24
			Cost 0
			Description "+Applies Jarate for 2 seconds +20% damage bonus -25% slower reload " 
			Tier 1
			AllowedWeapons
			{
				ClassName TF_WEAPON_SMG
			}
		}
		Shiv_A
		{
			Name "Unstable Mod: Biohazard Blade"
			Attribute "add cond on hit" 
			SecondaryAttributes  
			{
				"add cond on hit duration" 5.0
				"damage penalty" -0.15
				"mult bleeding delay" -0.2
				"mult bleeding dmg" 2
			}
			Cap 24
			Increment 24
			Cost 0
			Description "+Applies Jarate for 5 seconds +Stronger bleed -15% damage penalty" 
			Tier 1
			AllowedWeapons
			{
				ItemName "The Tribalman's Shiv"
			}
		}
	}	
}
