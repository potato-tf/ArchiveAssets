#base robot_standard.pop
#base robot_giant.pop

WaveSchedule
{
	StartingCurrency 1000
	
	HumansMustJoinTeam blue
	BluPlayersAreRobots 1
	ReverseWinConditions 1
	
	BluHumanInfiniteAmmo 0
	BluHumanInfiniteCloak 0
	
	AllowBluPlayerReanimators 1
	MedigunShieldDamage 1
	
	RemoveBluVelocityLimit 1
	BluHumanSpawnNoShoot 0
	BluHumanSpawnProtection 0
	
	BotsRandomCrit 1
	NoRedBotsRandomCrit 1
	NoRedSniperBotHeadshots 1
	
	NoRomevisionCosmetics 1
	// WaveStartCountdown 0
	
	BonusRatioHalf 1.1
	BonusRatioFull 1.1
	
	RespawnWaveTimeBlue 3
	FixedRespawnWaveTimeBlue 1
	
	SniperAllowHeadshots 1
	NoRedSniperBotHeadshots 1
	SniperHideLasers 1
	
	NoMissionInfo 1
	
	PrecacheGeneric "materials/spatial_impasse_overlays/tank_blood_storage_overlay.vmt"
	PrecacheGeneric "materials/spatial_impasse_overlays/tank_blood_storage_overlay.vtf"
	PrecacheGeneric "materials/spatial_impasse_overlays/w3_tnt_storage_overlay_2.vmt"
	PrecacheGeneric "materials/spatial_impasse_overlays/w3_tnt_storage_overlay_2.vtf"
	PrecacheGeneric "materials/spatial_impasse_overlays/w3_blood_storage_overlay_2.vmt"
	PrecacheGeneric "materials/spatial_impasse_overlays/w3_blood_storage_overlay_2.vtf"
	
	PrecacheModel "models/props_invader/saucer.mdl"
	PrecacheModel "models/props_invader/saucer_phys.mdl"
	
	PrecacheModel "models/mvm/weapons/c_models/c_demo_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_demo_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_engineer_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_engineer_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_engineer_bot_gunslinger.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_engineer_bot_gunslinger_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_heavy_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_heavy_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_medic_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_medic_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_pyro_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_pyro_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_scout_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_scout_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_sniper_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_sniper_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_soldier_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_soldier_bot_arms.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_spy_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/c_models/c_spy_bot_arms.mdl"
	
	PrecacheModel "models/mvm/weapons/v_models/v_pda_spy_bot.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_pda_spy_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_ttg_watch_spy_bot.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_watch_leather_spy_bot.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_watch_pocket_spy_bot.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_watch_pocket_spy_bot_animations.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_watch_spy_bot.mdl"
	PrecacheModel "models/mvm/weapons/v_models/v_watch_spy_bot_animations.mdl"
	
	PrecacheModel "models/mvm/workshop_partner/weapons/v_models/v_hm_watch/v_hm_watch_bot.mdl"
	
	PrecacheModel "models/props_mvm/mvm_revive_tombstone_blu.mdl"
	
	PrecacheSound "bomb_cartfall.wav"
	PrecacheSound "bombcart_moving.wav"
	PrecacheSound "endgame_music.wav"
	PrecacheSound "fire_alarm.wav"
	PrecacheSound "mvm_end_last_wave_short.wav"
	PrecacheSound "reentry_gate_sound.wav"
	PrecacheSound "sniper_cashteleport.wav"
	
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal1.vmt"
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal2.vmt"
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal3.vmt"
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal4.vmt"
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal5.vmt"
	PrecacheGeneric "materials/sprites/bloodtank_blood_decal6.vmt"
	
	Mission
	{
		Objective Engineer
		InitialCooldown 150
		Where spawnbot_red_10
		Where spawnbot_red_11
		BeginAtWave 1
		RunForThisManyWaves 1
		CooldownTime 150
		DesiredCount 1
		TFBot
		{
			Template T_TFBot_Engineer_Sentry_Battle
			Health 125
			Tag support
			ExtAttr IgnoreNPC
		}
	}
	Mission
	{
		Objective Spy
		InitialCooldown 75
		Where spawnbot_red_17
		BeginAtWave 2
		RunForThisManyWaves 1
		CooldownTime 150
		DesiredCount 3
		TFBot
		{
			Template T_TFBot_Spy
			Tag support
			ExtAttr IgnoreNPC
		}
	}
	Mission
	{
		Objective Sniper
		InitialCooldown 30
		Where spawnbot_red_10
		Where spawnbot_red_11
		BeginAtWave 3
		RunForThisManyWaves 1
		CooldownTime 75
		DesiredCount 1
		TFBot
		{
			Template T_TFBot_Sniper
			Tag support
			Tag sniperrifle
			ExtAttr IgnoreNPC
		}
	}
	Templates
	{
		T_TFBot_REDBehavior_Aggro
		{
			Tag aggrobot
			Action Mobber
			ExtAttr IgnoreNPC
			Item "Lo-Fi Longwave"
		}
		T_TFBot_Medic_AoEUber
		{
			Class Medic
			Name "Uber Shield Medic"
			Skill Expert
			Health 750
			Scale 1.4
			ClassIcon medic_jug_amputator_uber
			WeaponRestrictions MeleeOnly
			Item "The Amputator"
			Item "Your Worst Nightmare"
			Tag aoe_medic
			CharacterAttributes
			{
				"move speed penalty" 0.65
			}
		}
		T_TFBot_Giant_Medic_Kritzkrieg
		{
			Class Medic
			Name "Giant Kritz Medic"
			ClassIcon medic_kritz_giant
			Health 4500
			Skill Expert
			Item "The Kritzkrieg"
			Item "Prussian Pickelhaube"
			WeaponRestrictions SecondaryOnly
			Attributes MiniBoss
			Attributes SpawnWithFullCharge
			ItemAttributes
			{
				ItemName "The Kritzkrieg"
				"ubercharge rate bonus" 200
				"uber duration bonus" 200
				"heal rate bonus" 200
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.6
				"airblast vulnerability multiplier" 0.6
				"bot medic uber health threshold" 7500
			}
		}
	}
	Wave // WAVE 1
	{
		InitWaveOutput
		{
			Target gamerules
			Action RunScriptFile
			Param "rev_spacepost_pea.nut"
		}
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		WaveSpawn
		{
			Name "W1-BloodTank"
			TotalCurrency 0
			Where spawnbot
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			HideIcon 1
			FirstSpawnOutput                
			{
				Target gamerules
				Action CallScriptFunction
				Param "AcknowledgeBloodTank"
				Delay 0.03
			}
			Tank
			{
				Health 30000 // proper
				// Health 300000 // testing
				Speed 75
				Name "blood_tank"
				StartingPathTrackNode "tank_path_a_1" // proper
				// StartingPathTrackNode "tank_path_a_21" // s2 debug
				// StartingPathTrackNode "tank_path_a_11" // s3 debug
				// StartingPathTrackNode "tank_path_a_40" // s3o debug
				NoCrushDamage 1
				SolidToBrushes 1
				MaxTurnRate 50
				Scale 0.9
				OnKilledOutput
				{
					Target robots_lose
					Action FireUser1
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_2
			SpawnCount 4
			MaxActive 12
			TotalCount 20
			WaitBeforeStarting 0
			WaitBetweenSpawns 3
			TFBot
			{
				Template "T_TFBot_Scout_Melee"
				Tag w1_start
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_outside_rightflank
			}
		}
		WaveSpawn
		{
			Name "W1-S1A-2"
			TotalCurrency 0
			Where spawnbot_red_2
			SpawnCount 3
			MaxActive 9
			TotalCount 12
			WaitBeforeStarting 20
			WaitBetweenSpawns 7
			TFBot
			{
				Template "T_TFBot_Scout_Melee"
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_outside_rightflank
			}
		}
		WaveSpawn
		{
			Name "W1-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_1
			SpawnCount 5
			MaxActive 10
			TotalCount 10
			WaitBeforeStarting 20
			WaitBetweenSpawns 20
			Squad
			{
				TFBot
				{
					Class Scout
					Skill Normal
					Tag squad_leader
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_outside_rightflank
				}
				NextSpawnerClone 4
				TFBot
				{
					Class Scout
					Skill Normal
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_outside_rightflank
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_1
			SpawnCount 5
			MaxActive 10
			TotalCount 10
			WaitBeforeStarting 30
			WaitBetweenSpawns 20
			Squad
			{
				NextSpawnerClone 5
				TFBot
				{
					Class Scout
					Skill Normal
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_outside_rightflank
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S1B"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 7
			MaxActive 7
			TotalCount 7
			WaitForAllSpawned "W1-S1A-2"
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			TFBot
			{
				Class Pyro
				Skill Easy
				Attributes AlwaysFireWeapon
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W1-S1B"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 9
			MaxActive 9
			TotalCount 9
			WaitForAllSpawned "W1-S1A-2"
			WaitBeforeStarting 24
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Scout_Melee"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W1-S1B"
			TotalCurrency 0
			Where spawnbot_red_8
			SpawnCount 3
			MaxActive 9
			TotalCount 12
			WaitForAllSpawned "W1-S1A-2"
			WaitBeforeStarting 35
			WaitBetweenSpawns 6
			RandomChoice
			{
				NextSpawnerClone 9
				TFBot
				{
					Class Scout
					Skill Normal
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
				}
				NextSpawnerClone 3
				TFBot
				{
					Class Soldier
					Skill Normal
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W1-O1-1"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 3
			MaxActive 6
			TotalCount 15
			StartDisabled 1
			WaitBeforeStarting 3
			WaitBetweenSpawns 12
			TFBot
			{
				Class Pyro
				Skill Easy
				Attributes AlwaysFireWeapon
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-O1-2"
			TotalCurrency 0
			Where spawnbot_red_8
			SpawnCount 5
			MaxActive 5
			TotalCount 5
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Class Heavyweapons
				Skill Easy
				
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-O1-3"
			TotalCurrency 0
			Where spawnbot_red_8
			SpawnCount 5
			MaxActive 5
			TotalCount 5
			WaitForAllDead "W1-O1-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Class Pyro
				Skill Easy
				
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-O1-4"
			TotalCurrency 0
			Where spawnbot_red_8
			SpawnCount 5
			MaxActive 5
			TotalCount 5
			WaitForAllDead "W1-O1-3"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Class Heavyweapons
				Skill Normal
				
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-O1-5"
			TotalCurrency 0
			Where spawnbot_red_8
			SpawnCount 5
			MaxActive 5
			TotalCount 5
			WaitForAllDead "W1-O1-4"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Class Pyro
				Skill Normal
				
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_9
			SpawnCount 3
			MaxActive 6
			TotalCount 12
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 20
			TFBot
			{
				Class Soldier
				Skill Normal
				
				Tag avoid_walkdown_back_right
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
			}
		}
		WaveSpawn
		{
			Name "W1-S2A-2"
			TotalCurrency 0
			Where spawnbot_red_10
			Where spawnbot_red_11
			SpawnCount 4
			MaxActive 12
			TotalCount 20
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 8
			RandomChoice
			{
				NextSpawnerClone 8
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					
					Tag avoid_upper_exit
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_left
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
				}
				NextSpawnerClone 2
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_left
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				
				NextSpawnerClone 8
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
				}
				NextSpawnerClone 2
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W1-S2B"
			TotalCurrency 0
			Where spawnbot_red_10
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllSpawned "W1-S2A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Spammer
				
				Tag avoid_jumpdown_middle
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W1-S2B"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllSpawned "W1-S2A-2"
			WaitBeforeStarting 30
			WaitBetweenSpawns 0
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Spammer
				
				Tag avoid_walkdown_back_right
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
			}
		}
		WaveSpawn
		{
			Name "W1-S2B"
			TotalCurrency 0
			Where spawnbot_red_10
			Where spawnbot_red_11
			SpawnCount 5
			MaxActive 10
			TotalCount 20
			WaitForAllSpawned "W1-S2A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 14
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					
					Tag avoid_upper_exit
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_left
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
				}
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_walkdown_back
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W1-S2B"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 3
			MaxActive 12
			TotalCount 12
			WaitForAllSpawned "W1-S2A-2"
			WaitBeforeStarting 30
			WaitBetweenSpawns 10
			TFBot
			{
				Template T_TFBot_Heavyweapons_Heavyweight_Champ
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back_right
			}
		}
		WaveSpawn
		{
			Name "W1-O2"
			TotalCurrency 0
			Where spawnbot_red_4
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template T_TFBot_Giant_Demoman
				
				Tag avoid_jumpdown_middle
				Tag avoid_dropdown_middle
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_left
			}
		}
		WaveSpawn
		{
			Name "W1-O2"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 45
			WaitBetweenSpawns 0
			TFBot
			{
				Template T_TFBot_Giant_Demoman
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_walkdown_back_right
				Tag avoid_back_corridor_right
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_left
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W1-O2"
			TotalCurrency 0
			Where spawnbot_red_3
			Where spawnbot_red_4
			Where spawnbot_red_5
			SpawnCount 2
			MaxActive 16
			TotalCount 24
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 4
			RandomChoice
			{
				NextSpawnerClone 20
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					
					Tag avoid_jumpdown_middle
					Tag avoid_upper_exit
					Tag avoid_walkdown_back
					Tag avoid_back_corridor_middle
					Tag avoid_walkdown_back
				}
				NextSpawnerClone 4
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_jumpdown_middle
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_back
					Tag avoid_back_corridor_middle
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W1-O2-Escort"
			TotalCurrency 0
			Where spawnbot_upper
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBetweenSpawnsAfterDeath 3
			StartDisabled 1
			HideIcon 1
			Support 1
			TFBot
			{
				Class Scout
				Tag escortbot
				WeaponRestrictions MeleeOnly
				CharacterAttributes
				{
					"dmg taken increased" 0.2
					"move speed penalty" 0.6
					"health from healers reduced" 0.1
				} 
			}
		}
		WaveSpawn
		{
			Name "W1-S3A-1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 3
			MaxActive 12
			TotalCount 30
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 5
			TFBot
			{
				Class Scout
				Skill Normal
				
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_back_corridor_right
				Tag avoid_back_corridor_middle
			}
		}
		WaveSpawn
		{
			Name "W1-S3A-2"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 5
			MaxActive 5
			TotalCount 5
			StartDisabled 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
					Tag squad_leader
					
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_middle
				}
				NextSpawnerClone 4
				TFBot
				{
					Class Soldier
					Skill Normal
					
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_middle
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S3B"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 6
			MaxActive 6
			TotalCount 6
			WaitForAllDead "W1-S3A-2"
			WaitBeforeStarting 3
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
					Tag squad_leader
					
					Tag avoid_back_overpass
					Tag avoid_back_sidepath
					Tag avoid_walkdown_back
					Tag avoid_jumpdown_middle
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
					Tag avoid_middle_corridor_left
				}
				NextSpawnerClone 5
				TFBot
				{
					Class Soldier
					Skill Normal
					
					Tag avoid_back_overpass
					Tag avoid_back_sidepath
					Tag avoid_walkdown_back
					Tag avoid_jumpdown_middle
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
					Tag avoid_middle_corridor_left
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S3B"
			TotalCurrency 0
			Where spawnbot_red_5
			SpawnCount 3
			MaxActive 6
			TotalCount 9
			WaitForAllDead "W1-S3A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 20
			Squad
			{
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag squad_leader
					
					Tag avoid_back_corridor_right
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 2
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_right
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
			}
		}
		WaveSpawn
		{
			Name "W1-S3B"
			TotalCurrency 0
			Where spawnbot_red_9
			SpawnCount 2
			MaxActive 6
			TotalCount 16
			WaitForAllDead "W1-S3A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			TFBot
			{
				Class Pyro
				Skill Easy
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				Tag avoid_back_sidepath
				Tag avoid_back_overpass
				Tag avoid_walkdown_back_right
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W1-O3"
			TotalCurrency 0
			
			Where spawnbot_red_1
			Where spawnbot_red_2
			Where spawnbot_red_6
			Where spawnbot_red_7
			Where spawnbot_red_8
			Where spawnbot_red_9
			Where spawnbot_red_10
			Where spawnbot_red_11
			Where spawnbot_red_12
			Where spawnbot_red_13
			Where spawnbot_red_16
			RandomSpawn 1
			
			SpawnCount 3
			MaxActive 18
			TotalCount 36
			StartDisabled 1
			WaitBeforeStarting 3
			WaitBetweenSpawns 5
			TFBot
			{
				Template T_TFBot_Heavyweapons_Heavyweight_Champ
			}
		}
		WaveSpawn
		{
			Name "W1-O3"
			TotalCurrency 0
			Where spawnbot_red_5
			SpawnCount 3
			MaxActive 3
			TotalCount 9
			StartDisabled 1
			WaitBeforeStarting 3
			WaitBetweenSpawns 24
			Squad
			{
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag squad_leader
					
					Tag avoid_back_corridor_right
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 2
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_right
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
			}
		}
		WaveSpawn
		{
			Name "W1-O3"
			TotalCurrency 0
			Where spawnbot_red_13
			Where spawnbot_red_16
			SpawnCount 1
			MaxActive 1
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 15
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				Tag avoid_upper_left
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		// WaveSpawn
		// {
			// Name "W1-TankSpeedUp-S1"
			// WaitForAllDead "W1-S1B"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(1)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W1-TankSpeedUp-S2"
			// WaitForAllDead "W1-S2B"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(2)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W1-TankSpeedUp-S3"
			// WaitForAllDead "W1-S3B"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(3)"
			// }
		// }
		WaveSpawn
		{
			Name "W1-Cash-S1"
			StartDisabled 1
			TotalCurrency 750
		}
		WaveSpawn
		{
			Name "W1-Cash-S2"
			StartDisabled 1
			TotalCurrency 750
		}
		WaveSpawn
		{
			Name "W1-Cash-S3"
			StartDisabled 1
			TotalCurrency 500
		}
	}
	Wave // WAVE 2
	{
		InitWaveOutput
		{
			Target gamerules
			Action RunScriptFile
			Param "rev_spacepost_pea.nut"
		}
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		WaveSpawn
		{
			Name "W2-BloodTank"
			TotalCurrency 0
			Where spawnbot
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			HideIcon 1
			FirstSpawnOutput                
			{
				Target gamerules
				Action CallScriptFunction
				Param "AcknowledgeBloodTank"
				Delay 0.03
			}
			Tank
			{
				Health 30000 // proper
				// Health 300000 // testing
				Speed 75
				Name "blood_tank"
				StartingPathTrackNode "tank_path_a_1" // proper
				// StartingPathTrackNode "tank_path_a_21" // s1o / s2 debug
				// StartingPathTrackNode "tank_path_a_31" // s2o / s3 debug
				// StartingPathTrackNode "tank_path_a_37" // s3o debug
				NoCrushDamage 1
				SolidToBrushes 1
				MaxTurnRate 50
				Scale 0.9
				OnKilledOutput
				{
					Target robots_lose
					Action FireUser1
				}
			}
		}
		WaveSpawn
		{
			Name "W2-S1A"
			TotalCurrency 0
			Where spawnbot_red_9
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBeforeStarting 3
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Scout_Fast"
				Tag bombrunner
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_outside_rightflank
			}
		}
		WaveSpawn
		{
			Name "W2-S1B-1"
			TotalCurrency 0
			Where spawnbot_red_2
			SpawnCount 2
			MaxActive 8
			TotalCount 8
			WaitForAllDead "W2-S1A"
			WaitBeforeStarting 0
			WaitBetweenSpawns 1
			TFBot
			{
				Template "T_TFBot_Pyro_Flaregun"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W2-S1B-1"
			TotalCurrency 0
			Where spawnbot_red_1
			SpawnCount 12
			MaxActive 12
			TotalCount 12
			WaitForAllDead "W2-S1A"
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Pyro_Flaregun"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W2-S1B-1"
			TotalCurrency 0
			Where spawnbot_red_5
			SpawnCount 4
			MaxActive 12
			TotalCount 12
			WaitForAllDead "W2-S1A"
			WaitBeforeStarting 10
			WaitBetweenSpawns 8
			TFBot
			{
				Class Demoman
				Skill Normal
				
				Tag avoid_middle_exit
				Tag avoid_right_exit
				Tag avoid_back_corridor_right
			}
		}
		WaveSpawn
		{
			Name "W2-S1B-2"
			TotalCurrency 0
			Where spawnbot_red_9
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllDead "W2-S1A"
			WaitBeforeStarting 20
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Scout_Fast"
				Tag bombrunner
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_outside_rightflank
			}
		}
		WaveSpawn
		{
			Name "W2-S1C-2"
			TotalCurrency 0
			Where spawnbot_red_2
			SpawnCount 3
			MaxActive 9
			TotalCount 24
			WaitForAllDead "W2-S1B-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 6
			RandomChoice
			{
				TFBot
				{
					Template "T_TFBot_Pyro_Flaregun"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
				}
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
				}
				
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W2-S1C-2"
			TotalCurrency 0
			Where spawnbot_red_5
			SpawnCount 3
			MaxActive 3
			TotalCount 9
			WaitForAllDead "W2-S1B-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Class Demoman
				Skill Normal
				
				Tag avoid_middle_exit
				Tag avoid_right_exit
				Tag avoid_back_corridor_right
			}
		}
		WaveSpawn
		{
			Name "W2-S1C-1"
			TotalCurrency 0
			Where spawnbot_red_3
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			WaitForAllDead "W2-S1B-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Soldier_Crit"
				
				Tag avoid_middle_exit
				Tag avoid_right_exit
				Tag avoid_jumpdown_middle
				Tag avoid_dropdown_middle
				Tag avoid_walkdown_middle
			}
		}
		WaveSpawn
		{
			Name "W2-O1A-1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Scout_Fast"
				Tag bombrunner
				
				Tag avoid_back_overpass
				Tag avoid_back_corridor_right
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_left
				Tag avoid_walkdown_back_right
			}
		}
		WaveSpawn
		{
			Name "W2-O1A-2"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 4
			MaxActive 16
			TotalCount 16
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 5
			TFBot
			{
				Template "T_TFBot_Scout_Melee"
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W2-O1B"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllSpawned "W2-O1A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Pyro"
				Attributes AlwaysCrit
				
				Tag avoid_upper_exit
				Tag avoid_walkdown_back_right
				Tag avoid_back_corridor_right
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_left
				Tag avoid_dropdown_middle
				Tag avoid_walkdown_middle
			}
		}
		WaveSpawn
		{
			Name "W2-O1B"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 4
			MaxActive 8
			TotalCount 16
			WaitForAllSpawned "W2-O1A-2"
			WaitBeforeStarting 5
			WaitBetweenSpawns 8
			RandomChoice
			{
				NextSpawnerClone 10
				TFBot
				{
					Template "T_TFBot_Scout_Melee"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
					Tag avoid_walkdown_back
					Tag avoid_dropdown_middle
				}
				NextSpawnerClone 6
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
					Tag avoid_walkdown_back
					Tag avoid_dropdown_middle
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W2-O1-Hunt"
			TotalCurrency 0
			Where spawnbot_red_3
			Where spawnbot_red_4
			Where spawnbot_red_6
			Where spawnbot_red_7
			Where spawnbot_red_14
			SpawnCount 1
			MaxActive 1
			TotalCount 2 
			StartDisabled 1
			HideIcon 1
			WaitBeforeStarting 3
			WaitBetweenSpawnsAfterDeath 5
			TFBot
			{
				Template "T_TFBot_Giant_Boxing_Heavy"
				Item "Fists of Steel"
				Tag huntbot
			}
		}
		WaveSpawn
		{
			Name "W2-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 7.5
			WaitBetweenSpawns 0
			TFBot
			{
				Class Scout
				Name "Bomb"
				ClassIcon scout_bombrunner
				Tag barricadebomb
				Attributes UseBossHealthBar
				Attributes MiniBoss
				DeathSound "misc/null.wav"
				Scale 0.001
				Health 10000
			}
		}
		WaveSpawn
		{
			Name "W2-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_10
			SpawnCount 3
			MaxActive 12
			TotalCount 30
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 5
			RandomChoice
			{
				TFBot
				{
					Template "T_TFBot_Soldier_RocketPush"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_middle
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 4
				TFBot
				{
					Template "T_TFBot_Scout_Melee"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_middle
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W2-S2A-2"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Soldier_Crit"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_walkdown_back_right
			}
		}
		WaveSpawn
		{
			Name "W2-S2B-1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 12
			MaxActive 12
			TotalCount 12
			WaitForAllDead "W2-S2A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Soldier_RocketPush"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_walkdown_back_right
				Tag avoid_dropdown_middle
				Tag avoid_jumpdown_middle
			}
		}
		WaveSpawn
		{
			Name "W2-S2B-2"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 3
			MaxActive 6
			TotalCount 18
			WaitForAllDead "W2-S2A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			TFBot
			{
				Template "T_TFBot_Sniper_Huntsman"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
				Tag avoid_back_overpass
				Tag avoid_walkdown_back_right
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W2-S2C"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 2
			MaxActive 8
			TotalCount 8
			WaitForAllDead "W2-S2B-1"
			WaitBeforeStarting 0
			WaitBetweenSpawns 3
			TFBot
			{
				Class Pyro
				Skill Easy
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_corridor_right
				Tag avoid_back_overpass
				Tag avoid_walkdown_back_right
			}
		}
		WaveSpawn
		{
			Name "W2-S2C"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 12
			MaxActive 12
			TotalCount 12
			WaitForAllDead "W2-S2B-1"
			WaitBeforeStarting 8
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Soldier_RocketPush"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_walkdown_back_right
				Tag avoid_dropdown_middle
				Tag avoid_jumpdown_middle
			}
		}
		WaveSpawn
		{
			Name "W2-O2"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Pyro"
				Attributes AlwaysCrit
				Attributes AlwaysFireWeapon
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_walkdown_back_right
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W2-O2"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 3
			MaxActive 15
			TotalCount 36
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 5
			RandomChoice
			{
				NextSpawnerClone 24
				TFBot
				{
					Template "T_TFBot_Pyro_Flaregun"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_overpass
					Tag avoid_walkdown_back_right
					Tag avoid_walkdown_back
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 12
				TFBot
				{
					Class Pyro
					Skill Easy
					Attributes AlwaysFireWeapon
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_corridor_right
					Tag avoid_walkdown_back
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W2-S3A-1"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 7.5
			WaitBetweenSpawns 0
			TFBot
			{
				Class Scout
				Name "Bomb"
				ClassIcon scout_bombrunner
				Tag barricadebomb
				Attributes UseBossHealthBar
				Scale 0.001
				Health 8000
			}
		}
		WaveSpawn
		{
			Name "W2-S3A-1"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 1
			MaxActive 11
			TotalCount 11
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 0.75
			TFBot
			{
				Class Demoman
				Skill Easy
				
				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
				Tag avoid_back_corridor_middle
			}
		}
		WaveSpawn
		{
			Name "W2-S3A-2"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 3
			MaxActive 3
			TotalCount 3
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
				AddTemplate "T_TFBot_REDBehavior_Aggro"

				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
				Tag avoid_back_corridor_middle
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W2-S3B-1"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllDead "W2-S3A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Pyro"
				Attributes AlwaysCrit
				Attributes AlwaysFireWeapon
				
				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
				Tag avoid_back_corridor_middle
			}
		}
		WaveSpawn
		{
			Name "W2-S3B-2"
			TotalCurrency 0
			Where spawnbot_red_18
			SpawnCount 1
			MaxActive 10
			TotalCount 10
			WaitForAllDead "W2-S3A-2"
			WaitBeforeStarting 5
			WaitBetweenSpawns 0.75
			TFBot
			{
				Class Demoman
				Skill Easy
				
				Tag avoid_back_overpass
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W2-S3B-2"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 2
			MaxActive 6
			TotalCount 6
			WaitForAllDead "W2-S3A-2"
			WaitBeforeStarting 5
			WaitBetweenSpawns 8
			TFBot
			{
				Template T_TFBot_Heavyweapons_Fist
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W2-S3B-2"
			TotalCurrency 0
			Where spawnbot_red_18
			SpawnCount 4
			MaxActive 8
			TotalCount 20
			WaitForAllDead "W2-S3A-2"
			WaitBeforeStarting 20
			WaitBetweenSpawns 12
			TFBot
			{
				Class Pyro
				Skill Easy
				
				Tag avoid_back_overpass
				Tag avoid_back_corridor_right
				Tag avoid_walkdown_back
			}
		}
		WaveSpawn
		{
			Name "W2-S3C"
			TotalCurrency 0
			Where spawnbot_red_16
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitForAllDead "W2-S3B-1"
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Scout_Fast"
				Tag bombrunner
				
				Tag avoid_upper_exit
				Tag avoid_walkdown_middle
				Tag avoid_walkdown_back_right
			}
		}
		WaveSpawn
		{
			Name "W2-O3"
			TotalCurrency 0
			Where spawnbot_red_17
			Where spawnbot_red_18
			SpawnCount 4
			MaxActive 16
			TotalCount 36
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 5
			RandomChoice
			{
				NextSpawnerClone 18
				TFBot
				{
					Class Scout
					Skill Normal
				}
				NextSpawnerClone 12
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
				}
				NextSpawnerClone 6
				TFBot
				{
					Template T_TFBot_Heavy_IronFist_Airblast
					AddTemplate "T_TFBot_REDBehavior_Aggro"
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W2-O3"
			TotalCurrency 0
			Where spawnbot_red_16
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 25
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Scout_Fast"
				Tag bombrunner
				
				Tag avoid_upper_exit
				Tag avoid_walkdown_middle
				Tag avoid_walkdown_back_right
			}
		}
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S1-WFAD"
			// WaitForAllDead "W2-S1C-1"
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S1-WFAD"
			// WaitForAllDead "W2-S1C-2"
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S1"
			// WaitForAllDead "W2-TankSpeedUp-S1-WFAD"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(1)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S2-WFAD"
			// WaitForAllDead "W2-S2B-1"
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S2-WFAD"
			// WaitForAllDead "W2-S2B-2"
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S2"
			// WaitForAllDead "W2-TankSpeedUp-S2-WFAD"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(2)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W2-TankSpeedUp-S3"
			// WaitForAllDead "W2-S3C"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(3)"
			// }
		// }
		WaveSpawn
		{
			Name "W2-Cash-S1"
			StartDisabled 1
			TotalCurrency 750
		}
		WaveSpawn
		{
			Name "W2-Cash-S2"
			StartDisabled 1
			TotalCurrency 750
		}
		WaveSpawn
		{
			Name "W2-Cash-S3"
			StartDisabled 1
			TotalCurrency 500
		}
	}
	Wave // WAVE 3
	{
		InitWaveOutput
		{
			Target gamerules
			Action RunScriptFile
			Param "rev_spacepost_pea.nut"
		}
		StartWaveOutput
		{
			Target wave_start_relay
			Action Trigger
		}
		DoneOutput					
		{
			Target wave_finished_relay
			Action trigger
		}
		WaitWhenDone 65
		Checkpoint Yes
		WaveSpawn
		{
			Name "W3-BloodTank"
			TotalCurrency 0
			Where spawnbot
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			HideIcon 1
			FirstSpawnOutput
			{
				Target gamerules
				Action CallScriptFunction
				Param "AcknowledgeBloodTank"
				Delay 0.1
			}
			Tank
			{
				Health 30000 // proper
				// Health 300000 // testing
				Speed 75
				Name "blood_tank"
				StartingPathTrackNode "tank_path_a_1" // proper
				// StartingPathTrackNode "tank_path_a_21" // s2 debug
				// StartingPathTrackNode "tank_path_a_36" // s3 debug
				// StartingPathTrackNode "tank_path_a_55" // s3o debug
				NoCrushDamage 1
				SolidToBrushes 1
				MaxTurnRate 50
				Scale 0.9
				OnKilledOutput
				{
					Target robots_lose
					Action FireUser1
				}
				OnBombDroppedOutput
				{
					Target boss_deploy_relay
					Action Trigger
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_2
			SpawnCount 3
			MaxActive 15
			TotalCount 15
			WaitBeforeStarting 0
			WaitBetweenSpawns 1
			TFBot
			{
				Template "T_TFBot_Scout_FAN"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				
				Tag avoid_upper_exit
				Tag avoid_middle_exit
			}
		}
		WaveSpawn
		{
			Name "W3-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 6
			MaxActive 18
			TotalCount 18
			WaitBeforeStarting 5
			WaitBetweenSpawns 10
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Soldier_Extended_Concheror"
					Tag has_banner
					Tag squad_leader
					
					Tag avoid_upper_exit
					Tag avoid_middle_exit
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_overpass
					Tag avoid_back_sidepath
				}
				TFBot
				{
					Template "T_TFBot_Medic_BigHeal"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S1A-1"
			TotalCurrency 0
			Where spawnbot_red_1
			SpawnCount 2
			MaxActive 2
			TotalCount 6
			WaitBeforeStarting 30
			WaitBetweenSpawns 30
			TFBot
			{
				Template "T_TFBot_Scout_Shortstop"
				Skill Normal
				Attributes AlwaysCrit
				
				Tag avoid_upper_exit
				Tag avoid_middle_exit
				Tag avoid_back_corridor_left
				Tag avoid_back_corridor_middle
				Tag avoid_back_overpass
				Tag avoid_back_sidepath
			}
		}
		WaveSpawn
		{
			Name "W3-S1A-2"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Heavyweapons_Shotgun"
				ClassIcon heavy_shotgun_giant
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_back_overpass
				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
			}
		}
		WaveSpawn
		{
			Name "W3-S1B"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			WaitForAllDead "W3-S1A-2"
			WaitBeforeStarting 3
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Giant_Heavyweapons_Shotgun"
					ClassIcon heavy_shotgun_giant
					Tag squad_leader
					
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_back_overpass
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
				}
				TFBot
				{
					Template "T_TFBot_Giant_Medic_Kritzkrieg"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S1B"
			TotalCurrency 0
			Where spawnbot_red_3
			SpawnCount 2
			MaxActive 6
			TotalCount 6
			WaitForAllDead "W3-S1A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Soldier_Extended_Concheror"
					Item "The Direct Hit"
					Tag has_banner
					Tag squad_leader
					
					Tag avoid_middle_exit
					Tag avoid_right_exit
				}
				TFBot
				{
					Template "T_TFBot_Medic_BigHeal"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S1B"
			TotalCurrency 0
			Where spawnbot_red_3
			SpawnCount 2
			MaxActive 6
			TotalCount 6
			WaitForAllDead "W3-S1A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			TFBot
			{
				Template "T_TFBot_Soldier_Extended_Concheror"
				Item "The Direct Hit"
				Tag has_banner
				
				Tag avoid_middle_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W3-O1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 5
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Boxing_Heavy"
				Tag bombrunner
				
				Tag avoid_back_overpass
				Tag avoid_back_sidepath
				Tag avoid_back_corridor_right
				Tag avoid_upper_exit
				Tag avoid_right_exit
			}
		}
		WaveSpawn
		{
			Name "W3-O1"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 1
			MaxActive 12
			TotalCount 25
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 1.5
			RandomChoice
			{
				TFBot
				{
					Template "T_TFBot_Scout_FAN"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag goaftercontrolpoints_any
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
					Tag avoid_upper_exit
					Tag avoid_middle_exit
				}
				TFBot
				{
					Template "T_TFBot_Scout_FAN"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag goaftercontrolpoints_any
					
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
					Tag avoid_walkdown_back
					Tag avoid_upper_exit
					Tag avoid_middle_exit
				}
			}
		}
		WaveSpawn
		{
			Name "W3-O1"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 20
			WaitBetweenSpawns 0
			RandomChoice
			{
				TFBot
				{
					Template "T_TFBot_Scout_Shortstop"
					Skill Hard
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Attributes AlwaysCrit
					Tag goaftercontrolpoints_b
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_walkdown_back
					Tag avoid_upper_exit
					Tag avoid_middle_exit
				}
				TFBot
				{
					Template "T_TFBot_Scout_Shortstop"
					Skill Hard
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Attributes AlwaysCrit
					Tag goaftercontrolpoints_c
					
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
					Tag avoid_walkdown_back
					Tag avoid_upper_exit
					Tag avoid_middle_exit
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W3-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 6
			MaxActive 6
			TotalCount 6
			StartDisabled 1
			WaitBeforeStarting 3
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Medic_AoEUber"
					Tag squad_leader
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
				}
				NextSpawnerClone 5
				TFBot
				{
					Template "T_TFBot_Demo_Burst"
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_12
			SpawnCount 6
			MaxActive 6
			TotalCount 6
			StartDisabled 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Medic_AoEUber"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag squad_leader
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 5
				TFBot
				{
					Template "T_TFBot_Soldier_Extended_Concheror"
					Tag has_banner
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 8
			MaxActive 8
			TotalCount 8
			StartDisabled 1
			WaitBeforeStarting 30
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman_Spammer"
					ClassIcon sniper_bow_multi
					Tag squad_leader
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_sidepath
				}
				NextSpawnerClone 7
				TFBot
				{
					Template "T_TFBot_Demo_Burst"
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_sidepath
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S2A-2"
			TotalCurrency 0
			Where spawnbot_red_6
			SpawnCount 8
			MaxActive 8
			TotalCount 8
			StartDisabled 1
			WaitBeforeStarting 45
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman_Spammer"
					ClassIcon sniper_bow_multi
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag squad_leader
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_sidepath
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 7
				TFBot
				{
					Template "T_TFBot_Soldier_Extended_Concheror"
					Tag has_banner
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_middle
					Tag avoid_back_sidepath
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S2A-1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 1
			MaxActive 2
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 48
			WaitBetweenSpawns 0.5
			RandomChoice
			{
				TFBot
				{
					Template "T_TFBot_Giant_Boxing_Heavy"
					Tag bombrunner
					
					Tag avoid_walkdown_back
					Tag avoid_back_sidepath
					Tag avoid_back_corridor_right
					Tag avoid_back_corridor_middle
					Tag avoid_back_corridor_left
				}
				TFBot
				{
					Template "T_TFBot_Giant_Boxing_Heavy"
					Tag bombrunner
					
					Tag avoid_back_overpass
					Tag avoid_back_sidepath
					Tag avoid_walkdown_back
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W3-S2B"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 4
			MaxActive 20
			TotalCount 20
			WaitForAllDead "W3-S2A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 8
			RandomChoice
			{
				NextSpawnerClone 4
				TFBot
				{
					Template "T_TFBot_Scout_FAN"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_walkdown_back
					Tag avoid_back_sidepath
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_right
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 4
				TFBot
				{
					Template "T_TFBot_Scout_FAN"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					
					Tag avoid_walkdown_back
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				NextSpawnerClone 6
				TFBot
				{
					Template "T_TFBot_Demo_Burst"
					
					Tag avoid_walkdown_back
					Tag avoid_back_sidepath
					Tag avoid_walkdown_back_right
					Tag avoid_back_corridor_left
					Tag avoid_back_corridor_right
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
				}
				NextSpawnerClone 6
				TFBot
				{
					Template "T_TFBot_Demo_Burst"
					
					Tag avoid_walkdown_back
					Tag avoid_back_sidepath
					Tag avoid_back_overpass
					Tag avoid_back_corridor_right
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W3-O2"
			TotalCurrency 0
			Where spawnbot_wormhole
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Soldier_Spammer_Reload"
				Item "The B.A.S.E. Jumper"
				Item "The Law"
				Attributes Parachute
				AddTemplate "T_TFBot_REDBehavior_Aggro"
			}
		}
		WaveSpawn
		{
			Name "W3-O2"
			TotalCurrency 0
			Where spawnbot_red_11
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 10
			WaitBetweenSpawns 0
			TFBot
			{
				Template "T_TFBot_Giant_Heavyweapons_Shotgun"
				ClassIcon heavy_shotgun_giant
				
				Tag avoid_back_sidepath
				Tag avoid_back_overpass
				Tag avoid_walkdown_back
				Tag avoid_jumpdown_middle
				Tag avoid_dropdown_middle
			}
		}
		WaveSpawn
		{
			Name "W3-O2"
			TotalCurrency 0
			Where spawnbot_red_4
			SpawnCount 4
			MaxActive 8
			TotalCount 30
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			RandomChoice
			{
				NextSpawnerClone 6
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman_Spammer"
					ClassIcon sniper_bow_multi
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag goaftericeblock
					
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_walkdown_back_right
				}
				NextSpawnerClone 24
				TFBot
				{
					Template "T_TFBot_Heavyweapons_Shotgun"
					Attributes AlwaysCrit
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Tag goaftericeblock
					
					Tag avoid_dropdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_walkdown_back_right
				}
				Shuffle 1
			}
		}
		WaveSpawn
		{
			Name "W3-S3A-1"
			TotalCurrency 0
			Where spawnbot_red_13
			SpawnCount 3
			MaxActive 3
			TotalCount 3
			StartDisabled 1
			WaitBeforeStarting 8
			WaitBetweenSpawns 0
			Squad
			{
				NextSpawnerClone 2
				TFBot
				{
					Template "T_TFBot_Giant_Soldier_Spammer_Reload"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
				
					Tag avoid_upper_exit
					Tag avoid_right_exit
					Tag avoid_middle_exit
				}
				TFBot
				{
					Template "T_TFBot_Medic_AoEUber"
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S3A-1"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 2
			MaxActive 8
			TotalCount 8
			StartDisabled 1
			WaitBeforeStarting 15
			WaitBetweenSpawns 10
			TFBot
			{
				Template "T_TFBot_Scout_Shortstop"
				Attributes AlwaysCrit
			}
		}
		WaveSpawn
		{
			Name "W3-S3A-2"
			TotalCurrency 0
			Where spawnbot_red_3
			SpawnCount 3
			MaxActive 3
			TotalCount 3
			StartDisabled 1
			WaitBeforeStarting 35
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Giant_Soldier_Spammer_Reload"
					Tag squad_leader
					Tag avoid_walkdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_back_corridor_left
					Tag avoid_back_overpass
					CharacterAttributes
					{
						"hold fire until full reload" 1
					}
				}
				TFBot
				{
					Template "T_TFBot_Giant_Soldier_Spammer_Reload"
					Tag avoid_walkdown_middle
					Tag avoid_jumpdown_middle
					Tag avoid_back_corridor_left
					Tag avoid_back_overpass
					CharacterAttributes
					{
						"hold fire until full reload" 1
					}
				}
				TFBot
				{
					Template "T_TFBot_Medic_AoEUber"
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S3B-1"
			TotalCurrency 0
			Where spawnbot_red_17
			Where spawnbot_red_18
			SpawnCount 3
			MaxActive 6
			TotalCount 12
			WaitForAllDead "W3-S3A-2"
			WaitBeforeStarting 0
			WaitBetweenSpawns 8
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Medic_AoEUber"
					Tag squad_leader
				}
				TFBot
				{
					Template "T_TFBot_Sniper_Huntsman_Spammer"
					ClassIcon sniper_bow_multi
					AddTemplate "T_TFBot_REDBehavior_Aggro"
				}
				TFBot
				{
					Template "T_TFBot_Scout_Shortstop"
					Attributes AlwaysCrit
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S3B-2"
			TotalCurrency 0
			Where spawnbot_red_17
			Where spawnbot_red_18
			SpawnCount 4
			MaxActive 16
			TotalCount 16
			WaitForAllDead "W3-S3A-2"
			WaitBeforeStarting 10
			WaitBetweenSpawns 10
			TFBot
			{
				Template "T_TFBot_Heavyweapons_Shotgun"
				AddTemplate "T_TFBot_REDBehavior_Aggro"
				Attributes AlwaysCrit
			}
		}
		WaveSpawn
		{
			Name "W3-S3C"
			TotalCurrency 0
			Where spawnbot_red_17
			Where spawnbot_red_18
			SpawnCount 4
			MaxActive 16
			TotalCount 16
			WaitForAllDead "W3-S3B-1"
			WaitBeforeStarting 0
			WaitBetweenSpawns 15
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Heavyweapons_Shotgun"
					AddTemplate "T_TFBot_REDBehavior_Aggro"
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template "T_TFBot_Medic_BigHeal"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S3C"
			TotalCurrency 0
			Where spawnbot_red_15
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			WaitForAllDead "W3-S3B-1"
			WaitBeforeStarting 3
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Giant_Soldier_Spammer_Reload"
					Tag squad_leader
					CharacterAttributes
					{
						"hold fire until full reload" 1
					}
					
					Tag avoid_upper_left
					Tag avoid_middle_corridor_left
					Tag avoid_walkdown_back_right
				}
				TFBot
				{
					Template "T_TFBot_Giant_Medic_Kritzkrieg"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-S3C"
			TotalCurrency 0
			Where spawnbot_red_15
			SpawnCount 2
			MaxActive 2
			TotalCount 2
			WaitForAllDead "W3-S3B-1"
			WaitBeforeStarting 6
			WaitBetweenSpawns 0
			Squad
			{
				TFBot
				{
					Template "T_TFBot_Giant_Soldier_Spammer_Reload"
					Tag squad_leader
					CharacterAttributes
					{
						"hold fire until full reload" 1
					}
					
					Tag avoid_upper_right
					Tag avoid_dropdown_middle
					Tag avoid_walkdown_middle
					Tag avoid_back_corridor_middle
					Tag avoid_jumpdown_middle
					Tag avoid_back_sidepath
				}
				TFBot
				{
					Template "T_TFBot_Giant_Medic_Kritzkrieg"
					Tag support
				}
			}
		}
		WaveSpawn
		{
			Name "W3-Support"
			TotalCurrency 0
			Where spawnbot_red_17
			Where spawnbot_red_18
			SpawnCount 4
			MaxActive 20
			TotalCount 20
			WaitForAllDead "W3-S3C"
			WaitBeforeStarting 3
			WaitBetweenSpawns 5
			Support 1
			RandomChoice
			{
				TFBot
				{
					Class Scout
					Skill Normal
					ClassIcon tf2_lite
				}
				TFBot
				{
					Template T_TFBot_Scout_Melee
					ClassIcon tf2_lite
				}
				TFBot
				{
					Class Soldier
					Skill Normal
					ClassIcon tf2_lite
				}
				TFBot
				{
					Class Pyro
					Skill Easy
					ClassIcon tf2_lite
				}
				TFBot
				{
					Class Demoman
					Skill Easy
					ClassIcon tf2_lite
				}
				TFBot
				{
					Template T_TFBot_Demoman_Knight
					ClassIcon tf2_lite
				}
				TFBot
				{
					Class Heavyweapons
					Skill Easy
					ClassIcon tf2_lite
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Shotgun
					ClassIcon tf2_lite
				}
				TFBot
				{
					Template T_TFBot_Heavyweapons_Heavyweight_Champ
					ClassIcon tf2_lite
				}
			}
		}
		WaveSpawn
		{
			Name "AlienHunter"
			TotalCurrency 0
			Where spawnbot
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			HideIcon 1
			Support Limited
			TFBot
			{
				Class Pyro
				Skill Expert
				ClassIcon pyro_atomic
				Name "Alien Hunter's Return"
				Tag alienhunter
				Health 35000
				Scale 1.9
				MaxVisionRange 2400
				Item "The Nostromo Napalmer"
				Item "The MK 50"
				Attributes MiniBoss
				Attributes UseBossHealthBar
				Attributes AlwaysCrit
				Action Mobber
				NoPushaway 1
				ItemAttributes
				{
					ItemName "The Nostromo Napalmer"
					"flame_drag" 4
				}
				CharacterAttributes
				{
					"move speed bonus"	0.4
					"damage force reduction" 0.1
					"airblast vulnerability multiplier" 0.1
					"override footstep sound set" 2
					"airblast vertical vulnerability multiplier" 0.1
					"cannot pick up intelligence" 1
					"not solid to players" 1
				}
				InterruptAction
				{
					Target "blood_tank*"
					Delay 0.1
					Cooldown 3600
					Duration 0
					WaitUntilDone 1
					Distance 500
				}
				
				Tag avoid_upper_exit
				Tag avoid_right_exit
				Tag avoid_walkdown_middle
				Tag avoid_walkdown_back_right
				Tag avoid_back_overpass
				Tag avoid_back_corridor_right
				Tag avoid_back_corridor_left
				Tag avoid_alienhunter_special
			}
		}
		WaveSpawn
		{
			Name "iceblock_healthbar"
			TotalCurrency 0
			Where spawnbot_red_17
			SpawnCount 1
			MaxActive 1
			TotalCount 1
			StartDisabled 1
			WaitBeforeStarting 0
			WaitBetweenSpawns 0
			HideIcon 1
			Support Limited
			TFBot
			{
				Class Scout
				ClassIcon iceblock
				Tag iceblock_healthbar
				Attributes UseBossHealthBar
				Health 20000
				Scale 0.001
			}
		}
		// WaveSpawn
		// {
			// Name "W3-TankSpeedUp-S1"
			// WaitForAllDead "W3-S1B"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(1)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W3-TankSpeedUp-S2"
			// WaitForAllDead "W3-S2B"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(2)"
			// }
		// }
		// WaveSpawn
		// {
			// Name "W3-TankSpeedUp-S3"
			// WaitForAllDead "W3-S3C"
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action RunScriptCode
				// Param "SpeedUpTank(3)"
			// }
		// }
		WaveSpawn
		{
			Name "W3-Cash-S1"
			StartDisabled 1
			TotalCurrency 800
		}
		WaveSpawn
		{
			Name "W3-Cash-S2"
			StartDisabled 1
			TotalCurrency 800
		}
	}
	// Wave // test
	// {
		// InitWaveOutput
		// {
			// Target gamerules
			// Action RunScriptFile
			// Param "rev_spacepost_pea.nut"
		// }
		// StartWaveOutput
		// {
			// Target wave_start_relay
			// Action Trigger
		// }
		// DoneOutput					
		// {
			// Target wave_finished_relay
			// Action trigger
		// }
		// WaitWhenDone 65
		// Checkpoint Yes
		// WaveSpawn
		// {
			// Name "teasadsad-BloodTank"
			// TotalCurrency 0
			// Where spawnbot
			// SpawnCount 1
			// MaxActive 1
			// TotalCount 1
			// WaitBeforeStarting 0
			// WaitBetweenSpawns 0
			// Support Limited
			// FirstSpawnOutput                
			// {
				// Target gamerules
				// Action CallScriptFunction
				// Param "AcknowledgeBloodTank"
				// Delay 0.03
			// }
			// Tank
			// {
				// Health 300000 // testing
				// Speed 75
				// Name "blood_tank"
				// StartingPathTrackNode "tank_path_a_1" // proper
				// OnKilledOutput
				// {
					// Target robots_lose
					// Action RoundWin
				// }
			// }
		// }
		// WaveSpawn
		// {
			// TotalCurrency 0
			// Where spawnbot_red_1
			// SpawnCount 1
			// MaxActive 1
			// TotalCount 100
			// WaitBeforeStarting 0
			// WaitBetweenSpawns 1
			// TFBot
			// {
				// Template "T_TFBot_Sniper_Huntsman"
				// Tag w1_start
			// }
		// }
	// }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_1"
        TeamNum 2
        X "2300"
        Y "-200"
        Z "-422"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_2"
        TeamNum 2
        X "2500"
        Y "-1400"
        Z "-358"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_3"
        TeamNum 2
        X "2900"
        Y "-300"
        Z "-38"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_4"
        TeamNum 2
        X "2400"
        Y "-1200"
        Z "-38"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_5"
        TeamNum 2
        X "2300"
        Y "600"
        Z "26"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_6"
        TeamNum 2
        X "4400"
        Y "-1200"
        Z "-38"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_7"
        TeamNum 2
        X "2700"
        Y "-1900"
        Z "-138"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_8"
        TeamNum 2
        X "3400"
        Y "-400"
        Z "-353"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_9"
        TeamNum 2
        X "4000"
        Y "100"
        Z "-453"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_10"
        TeamNum 2
        X "4700"
        Y "-400"
        Z "-133"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_11"
        TeamNum 2
        X "3800"
        Y "550"
        Z "-50"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_12"
        TeamNum 2
        X "5000"
        Y "100"
        Z "-100"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_13"
        TeamNum 2
        X "4100"
        Y "1500"
        Z "-60"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_14"
        TeamNum 2
        X "3100"
        Y "100"
        Z "-60"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_15"
        TeamNum 2
        X "1850"
        Y "-1200"
        Z "-156"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_16"
        TeamNum 2
        X "500"
        Y "-1500"
        Z "-284"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_17"
        TeamNum 2
        X "3800"
        Y "2300"
        Z "100"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_red_18"
        TeamNum 2
        X "4500"
        Y "2300"
        Z "100"
    }
	ExtraSpawnPoint
    {
        Name "spawnbot_wormhole"
        TeamNum 2
        X "0"
        Y "0"
        Z "2008"
    }
}