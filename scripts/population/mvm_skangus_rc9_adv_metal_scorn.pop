//By StardustSpy https://steamcommunity.com/id/StardustSpy/
// IF YOU USE ANYTHING THAT IS MADE BY ME, GIVE CREDIT. I WOULD APPRECIATE IT.
#base robot_standard.pop
#base robot_giant.pop
#base robot_stardust.pop
// #base overclock_cactus_scout.pop
// #base overclock_cactus_soldier.pop
// #base overclock_cactus_demo.pop
// #base overclock_cactus_pyro.pop
// #base overclock_cactus_heavy.pop
// #base overclock_cactus_engineer.pop
// #base overclock_cactus_medic.pop
// #base overclock_cactus_sniperspy.pop
#base overclock_cactus_general.pop

//#base judge_restricts.pop
//TODO

WaveSchedule
{
    StartingCurrency 1000
    CanBotsAttackWhileInSpawnRoom no
    RespawnWaveTime 3
    NoRomevisionCosmetics 1
    AllowBotExtraSlots 1
    ExtraBotSlotsNoDeathcam 0
    RobotLimit 32
    MaxRedPlayers 6
    FixedRespawnWaveTime 1
    UpgradeStationKeepWeapons 1
    FixHuntsmanDamageBonus 1
    SendBotsToSpectatorImmediately 1
    AllowMultipleSappers 1 // might aswell have it 
    FastWholeMapTriggers 1
    ForceHoliday 2
    NoThrillerTaunt 1

    AddSentryBusterWhenDamageDealtExceeds 2000
    AddSentryBusterWhenKillCountExceeds 12
    SentryHintMinDistanceFromBomb 650 

    PrecacheModel "models\workshop\weapons\c_models\c_essendon_eliminator\c_essendon_eliminator.mdl"

    //spawnbot_disposable
    //spawnbot
    //spawnbot_mission_spy
    //spawnbot_right_disposable
    //spawnbot_right
    //spawnbot_right_back_disposable
    //spawnbot_mission_sniper
    //spawnbot_topflank
    //spawnbot_topflank_disposable
    //spawnbot_left
    //spawnbot_left_disposable

    PrecacheModel "models\props_frontline\tank_turret.mdl"
    PrecacheSound "Hades - The Unseen Ones.mp3"

    ExtraSpawnPoint
    {
        Name "boss"
        Teamnum 3
        X "-40.2"
        Y "3749.5"
        Z "128.2"
    }
    ExtraSpawnPoint
    {
        name "gauntlet_1"
        StartDisabled 1
        Teamnum 3 
        X "811.2"
        Y "491.6"
        Z "513.0"
    }
    ExtraSpawnPoint
    {
        name "gauntlet_2"
        StartDisabled 1
        Teamnum 3 
        X "-784.2"
        Y "808.8"
        Z "342.0"
    }
    ExtraSpawnPoint
    {
        name "gauntlet_3"
        StartDisabled 1
        Teamnum 3 
        X "-1686.3"
        Y "363.3"
        Z "-63.0"
    }
    ExtraSpawnPoint
    {
        Name "dummy"
        Teamnum 3
        X "-19.4"
        Y "-337"
        Z "139"
    }
    ExtraSpawnPoint
    {
        name "stop_bomb"
        StartDisabled 1
        Teamnum 3 
        X "432"
        Y "5346"
        Z "418"
    }
    ExtraSpawnPoint
    {
        name "stop_bomb_2"
        StartDisabled 1
        Teamnum 3 
        X "432"
        Y "5346"
        Z "418"
    }
    ExtraSpawnPoint
    {
        name "tutorial_bots"
        StartDisabled 1
        Teamnum 3 
        X "432"
        Y "5346"
        Z "418"
    }
    ExtraSpawnPoint
    {
        name "carrier"
        StartDisabled 1
        Teamnum 3 
        X "432"
        Y "5346"
        Z "418"
    }
    ExtraSpawnPoint
    {
        Name "redglow"
        StartDisabled 1
        Teamnum 3 
        X "563"
        Y "1253"
        Z "103"
    }
    ExtraSpawnPoint
    {
        Name "phase2_redglow"
        StartDisabled 1
        Teamnum 3 
        X "-25"
        Y "-826"
        Z "182"
    }
    Templates
    {
        T_TFBot_Soldier_Taser
        {
            Name "Taser SO-B1"
            Class Soldier
            ClassIcon soldier_bison 
            Health 600
            MaxVisionRange 400
            Scale 1.3
            Attributes HoldFireUntilFullReload
            Skill Hard 
            MaxVisionRange 1500
            WeaponRestrictions SecondaryOnly
            Item "Lord Cockswain's Pith Helmet"
            Item "The Righteous Bison"
            ItemAttributes
            {
                Itemname "The Righteous Bison"
                "fire rate bonus" 0.08
                "clip size bonus upgrade" 20
                "projectile lifetime" 0.25
                "projectile spread angle penalty" 5
                "reload full clip at once" 1
                "damage penalty" 0.20
                "reload time increased" 5
            }
        }
    }
    PointTemplates
    {
        HomingTank
		{
			OnSpawnOutput
			{
				Target stickytank_init_relay
				Action Trigger
				Delay  0.1
			}
			
			logic_relay
			{
				"targetname" "stickytank_init_relay"
				"OnTrigger"  "!parent,AddOutput,OnHealthBelow60Percent stickytank_timer:UpperRandomBound:5:0:-1,0,-1"
				"OnTrigger"  "!parent,AddOutput,OnHealthBelow60Percent stickytank_timer:LowerRandomBound:5:0:-1,0,-1"
				"OnTrigger"  "!parent,AddOutput,OnHealthBelow30Percent stickytank_timer:UpperRandomBound:2.5:0:-1,0,-1"
				"OnTrigger"  "!parent,AddOutput,OnHealthBelow30Percent stickytank_timer:LowerRandomBound:2.5:0:-1,0,-1"
			}
		
			logic_relay
			{
				"targetname" "stickytank_shooter_relay"
				
				"OnTrigger"  "stickytank_mimic,FireOnce,,0,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0,-1"
				"OnTrigger"  "stickytank_mimic,FireOnce,,0.1,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.1,-1"
				"OnTrigger"  "stickytank_mimic,FireOnce,,0.2,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.2,-1"
				"OnTrigger"  "stickytank_mimic,FireOnce,,0.3,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.3,-1"
				"OnTrigger"  "!self,EnableRefire,,2,-1"
			}
			logic_timer
			{
				"targetname"       "stickytank_timer"
				"spawnflags"       "0"
				"UpperRandomBound" "10"
				"LowerRandomBound" "7"
				"UseRandomTime"    "1"

				"OnTimer" "stickytank_shooter_relay,Trigger,,0,-1"
			}
			prop_dynamic
			{
				"targetname"    "stickytank_model"
				"model"         "models/props_frontline/tank_turret.mdl"
				"skin"          "2"
				"solid"         "0"
				"spawnflags"    "0"
				"origin"        "-16 -66 108"
				"angles"        "-56.5 0 -90"
			}
			prop_dynamic
			{
				"targetname"    "stickytank_model"
				"model"         "models/props_frontline/tank_turret.mdl"
				"skin"          "2"
				"solid"         "0"
				"spawnflags"    "0"
				"origin"        "-12 66 108"
				"angles"        "-58.5 0 90"
			}
			
			tf_point_weapon_mimic
			{
				"targetname"   "stickytank_mimic"
				"WeaponType"   "3"
				"TeamNum"	   "3"
				"ModelScale"   "1"
				"SpeedMax"     "525"
				"SpeedMin"     "525"
				"Crits"        "0"
				"Damage"       "105"
				"SpreadAngle"  "25"
				"SplashRadius" "125"
				"FireSound"    "weapons/stickybomblauncher_shoot_crit.wav"
				"origin"       "54 -56 216"
				"angles"       "-58.5 359 180"
                "$weaponname" "homing_tank"
			}
			tf_point_weapon_mimic
			{
				"targetname"   "stickytank_mimic_crit"
				"WeaponType"   "3"
				"TeamNum"	   "3"
				"ModelScale"   "1"
				"SpeedMax"     "525"
				"SpeedMin"     "525"
				"Crits"        "1"
				"Damage"       "105"
				"SpreadAngle"  "25"
				"SplashRadius" "125"
				"FireSound"    "weapons/stickybomblauncher_shoot_crit.wav"
				"origin"       "54 -56 216"
				"angles"       "-58.5 359 180"
                "$weaponname" "homing_tank"
			}
			
			tf_point_weapon_mimic
			{
				"targetname"   "stickytank_mimic"
				"WeaponType"   "3"
				"TeamNum"	   "3"
				"ModelScale"   "1"
				"SpeedMax"     "525"
				"SpeedMin"     "525"
				"Crits"        "0"
				"Damage"       "105"
				"SpreadAngle"  "25"
				"SplashRadius" "125"
				"FireSound"    "weapons/stickybomblauncher_shoot_crit.wav"
				"origin"       "54 56 214"
				"angles"       "-56.5 359 0"
                "$weaponname" "homing_tank"
			}

			tf_point_weapon_mimic
			{
				"targetname"   "stickytank_mimic_crit"
				"WeaponType"   "3"
				"TeamNum"	   "3"
				"ModelScale"   "1"
				"SpeedMax"     "525"
				"SpeedMin"     "525"
				"Crits"        "1"
				"Damage"       "105"
				"SpreadAngle"  "25"
				"SplashRadius" "125"
				"FireSound"    "weapons/stickybomblauncher_shoot_crit.wav"
				"origin"       "54 56 214"
				"angles"       "-56.5 359 0"
                "$weaponname" "homing_tank"
			}
			
			ambient_generic
			{
				"targetname" "stickytank_shoot_sound"			
				"health"     "10"
				"message"    "weapons/stickybomblauncher_shoot.wav"
				"pitch"      "100"
				"pitchstart" "100"
				"radius"     "5000"
				"spawnflags" "48"
				"origin"     "64 0 224"
			}
			ambient_generic
			{
				"targetname" "stickytank_shoot_sound_crit"			
				"health"     "10"
				"message"    "weapons/stickybomblauncher_shoot_crit.wav"
				"pitch"      "100"
				"pitchstart" "100"
				"radius"     "5000"
				"spawnflags" "48"
				"origin"     "64 0 224"
			}
		}
        Music_Template
        {
            NoFixup 1
            ambient_generic
            {
                health    10
                message    "#Hades - The Unseen Ones.mp3"
                radius    10
                spawnflags    17
                volstart    10
                targetname    "w2_hl2_song"
            }
            ambient_generic
            {
                health    5
                message    "#Hades - The Unseen Ones.mp3"
                radius    10
                spawnflags    17
                volstart    10
                targetname    "w2_hl2_song"
            }
            logic_relay
            {        
                "targetname"    "w2_theme_start"
                "spawnflags"    "2"
                "OnTrigger"    "w2_hl2_song*,PlaySound,,0,-1"
                "OnTrigger"    "w2_hl2_song*,StopSound,,260,-1"
                "OnTrigger"    "!self,Trigger,,260,-1"
            }
        }
        warhawk_heavy
        {
            //rockets
            NoFixup 1
            OnSpawnOutput
            {
                Target rocket_triple_shoot
                Action $SetOwner
                Param !activator
            }
            // OnSpawnOutput
            // {
            //     Target shooter_relay
            //     Action Disable
            // }
            // OnSpawnOutput
            // {
            //     Target firebomb_relay
            //     Action Disable
            // }
            OnSpawnOutput
            {
                Target shooter_relay
                Action Trigger
                Delay 10
            }
            prop_dynamic
            {
                "angles" "-75 0 0"
                "model" "models\props_frontline\tank_turret.mdl"
                "modelscale" "0.5"
                "skin" "2"
                "solid" "0"
                "spawnflags" "0"
                "StartDisabled" "0"
                "origin" "-15 -5 164"
            }
            logic_relay
            {
                "targetname" "shooter_relay"
                "spawnflags" "2"

                "OnTrigger" "rocket_triple_shoot,FireOnce,,0,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.1,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.2,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.3,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.4,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.5,-1"
                "OnTrigger" "rocket_triple_shoot,FireOnce,,0.6,-1"
                "OnTrigger" "rocket_shooter,$AddWeaponAttribute,projectile trail particle|eyeboss_projectile,0,-1"
                //"OnTrigger" "rocket_shooter,$RemoveWeaponAttribute,projectile trail particle,1,-1"
                "OnTrigger" "!self,Trigger,,12,-1"
            }
            func_rotating
            {
                "angles" "0 0 0"
                "maxspeed" "400"
                "origin" "0 0 0"
                "spawnflags" "1"
                "targetname" "rotate"
                "volume" "10"
            }
            tf_point_weapon_mimic
            {
                "Crits" "0"
                "Damage" "180"
                "ModelScale" "1"
                "SpeedMax" "1000"
                "SpeedMin" "1000"
                "teamnum" "3"
                "SplashRadius" "145"
                "SpreadAngle" "0"
                "targetname" "rocket_triple_shoot"
                "WeaponType" "0"
                "parentname" "rotate"

                "angles" "0 0 0"
	            "origin" "-15 2 315.071"

                "$preventshootparent" "1"
                "$weaponname" "rocket_shooter"
            }
            tf_point_weapon_mimic
            {
                "Crits" "0"
                "Damage" "180"
                "ModelScale" "1"
                "teamnum" "3"
                "SpeedMax" "1000"
                "SpeedMin" "1000"
                "SplashRadius" "145"
                "SpreadAngle" "0"
                "targetname" "rocket_triple_shoot"
                "WeaponType" "0"
                "parentname" "rotate"

                "angles" "0 0 0"
	            "origin" "-15 -8 315.071"

                "$preventshootparent" "1"
                "$weaponname" "rocket_shooter"
            }
            tf_point_weapon_mimic
            {
                "Crits" "0"
                "Damage" "180"
                "ModelScale" "1"
                "SpeedMax" "1000"
                "teamnum" "3"
                "SpeedMin" "1000"
                "SplashRadius" "145"
                "SpreadAngle" "0"
                "targetname" "rocket_triple_shoot"
                "WeaponType" "0"
                "angles" "0 0 0"
                "parentname" "rotate"
	            "origin" "-15 8 315.071"

                "$preventshootparent" "1"
                "$weaponname" "rocket_shooter"
            }
            //stickies
            OnSpawnOutput
            {
                Target fire_mimic_sticky
                Action $SetOwner
                Param !activator
            }
            OnSpawnOutput
            {
                Target firebomb_relay
                Action Trigger
                Delay 15
            }
            ambient_generic
			{
				"targetname" "stickytank_shoot_sound_crit"			
				"health"     "10"
				"message"    "weapons/stickybomblauncher_shoot_crit.wav"
				"pitch"      "100"
				"pitchstart" "100"
				"radius"     "5000"
				"spawnflags" "48"
				"origin"     "64 0 224"
			}
            logic_relay
            {
                "targetname" "firebomb_relay"
                "spawnflags" "2"

                "OnTrigger"  "fire_mimic_sticky,FireOnce,,0,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.1,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.1,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.2,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.2,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.3,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.3,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.4,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.4,-1"
				"OnTrigger"  "fire_mimic_sticky,FireMultiple,4,0.5,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.5,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.6,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.6,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.7,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.7,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.8,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.8,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.9,-1"

                "OnTrigger"  "fire_mimic_sticky,FireOnce,,0,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.1,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.1,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.2,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.2,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.3,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.3,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.4,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.4,-1"
				"OnTrigger"  "fire_mimic_sticky,FireMultiple,4,0.5,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.5,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.6,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.6,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.7,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.7,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.8,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.8,-1"
				"OnTrigger"  "fire_mimic_sticky,FireOnce,,0.9,-1"
				"OnTrigger"  "stickytank_shoot_sound,PlaySound,,0.9,-1"

                //"OnTrigger" "player,$DisplayTextChat,stickieslaunch,0,-1"
                "OnTrigger" "!self,Trigger,,20,-1"
                "OnTrigger" "fire_mimic_sticky,DetonateStickies,,7,-1"
                "OnTrigger" "fire_mimic_sticky,DetonateStickies,,7.1,-1"
                "OnTrigger" "fire_mimic_sticky,DetonateStickies,,7.2,-1"
            }
            OnSpawnOutput
            {
                Target fire_mimic_sticky
                Action $SetOwner
                Param !activator
            }
            tf_point_weapon_mimic
            {
                "angles" "-76 0 0"
                "Crits" "0"
                "Damage" "50"
                "ModelScale" "1"
                "WeaponType" "3"
                "SpeedMax" "755"
                "SpeedMin" "755"
                "teamnum" "3"
                "SplashRadius" "78"
                "SpreadAngle" "30"
                "targetname" "fire_mimic_sticky"
                "origin" "-43.3588 8 263.19"

                "$preventshootparent" "1"

                "$weaponname" "firebombs"
            }

            //objective
            NoFixup 1
            filter_tf_condition
            {
                "condition" "65"
                "Negated" "0"
                "targetname" "is_holding_flag"
                "origin" "35 -8 283"
            }
            filter_tf_condition
            {
                "condition" "121"
                "Negated" "0"
                "targetname" "is_holding_flag_2"
                "origin" "35 -8 283"
            }
            info_particle_system
            {
                "angles" "0 0 0"
                "effect_name" "hightower_explosion"
                "flag_as_weather" "0"
                "start_active" "0"
                "targetname" "explode_the_idiot"
                "origin" "0 0 0"
            }
            trigger_add_tf_player_condition
            {
                "condition" "11"
                "duration" "0"
                "filtername" "is_holding_flag"
                "origin" "1.5 -8 140"
                "spawnflags" "1"
                "StartDisabled" "0"
                "targetname" "capture_the_bomb"
                
                "OnStartTouch" "bomb_bundle,ForceReset,,0,-1"
                "OnStartTouch" "bomb_bundle,ForceDrop,,0,-1"
                "OnStartTouch" "bomb_pickup_relay,$cancelpending,,0,-1"
                "OnStartTouch" "bomb_pickintelteamup_relay,$CancelPending,,0,-1"
                "OnStartTouch" "!activator,$removecond,65,0,-1"
                "OnStartTouch" "explode_the_idiot,Start,,0,-1"
                "OnStartTouch" "bundle_hurt*,Enable,,0,-1"
                "OnStartTouch" "bundle_hurt*,Disable,,0.6,-1"
                "OnStartTouch" "explode_the_idiot,Start,,0,-1"
                "OnStartTouch" "explode_the_idiot,Stop,,3,-1"
                "OnStartTouch" "bomb_bundle,ForceDrop,,0,-1"
                // "OnStartTouch" "player,$PlaySound,Weapon_AirBurster.Explode,0,-1"
                // "OnStartTouch" "player,$StopSound,Weapon_AirBurster.Explode,5,-1"

                "OnStartTouch" "!activator,$PlaySound,MVM.TankSmash,0,-1"
                "OnStartTouch" "!activator,$StopSound,MVM.TankSmash,5,-1"
                "OnStartTouch" "!activator,$AddCond,57,0.5,-1"
                "OnStartTouch" "!activator,$AddCond,56,0.5,-1"

                "OnStartTouch" "!activator,$RemoveCond,57,8.5,-1"
                "OnStartTouch" "!activator,$RemoveCond,56,8.5,-1"

                "mins" "-117 -99 -140"
                "maxs" "117 99 140"
            }
            trigger_add_tf_player_condition
            {
                "condition" "11"
                "duration" "0"
                "filtername" "is_holding_flag_2"
                "origin" "1.5 -8 140"
                "spawnflags" "1"
                "StartDisabled" "0"
                "targetname" "capture_the_bomb"
                
                "OnStartTouch" "bomb_bundle,ForceReset,,0,-1"
                "OnStartTouch" "bomb_bundle,ForceDrop,,0,-1"
                "OnStartTouch" "bomb_pickup_relay,$cancelpending,,0,-1"
                "OnStartTouch" "bomb_pickintelteamup_relay,$CancelPending,,0,-1"
                "OnStartTouch" "!activator,$removecond,65,0,-1"
                "OnStartTouch" "bundle_hurt*,Enable,,0,-1"
                "OnStartTouch" "bundle_hurt*,Disable,,0.6,-1"
                "OnStartTouch" "explode_the_idiot,Start,,0,-1"
                "OnStartTouch" "explode_the_idiot,Stop,,3,-1"
                // "OnStartTouch" "player,$PlaySound,Weapon_AirBurster.Explode,0,-1"
                // "OnStartTouch" "player,$StopSound,Weapon_AirBurster.Explode,5,-1"

                "OnStartTouch" "!activator,$PlaySound,MVM.TankSmash,0,-1"
                "OnStartTouch" "!activator,$StopSound,MVM.TankSmash,5,-1"
                "OnStartTouch" "!activator,$AddCond,57,0.5,-1"
                "OnStartTouch" "!activator,$AddCond,56,0.5,-1"
                "OnStartTouch" "bomb_bundle_2,ForceDrop,,0,-1"

                "OnStartTouch" "!activator,$RemoveCond,57,8.5,-1"
                "OnStartTouch" "!activator,$RemoveCond,56,8.5,-1"

                "mins" "-117 -99 -140"
                "maxs" "117 99 140"
            }
            filter_tf_bot_has_tag
            {
                "Negated" "0"
                "require_all_tags" "1"
                "tags" "is_chief"
                "targetname" "filter_chief"
                "origin" "0 0 0"
            }
            // trigger_hurt
            // {
            //     //"StartDisabled" "1"
            //     "spawnflags" "1"
            //     "origin" "1.5 -8 140"
            //     "nodmgforce" "0"
            //     "damagetype" "2"
            //     "damagemodel" "0"
            //     "damage" "25000"
            //     "targetname" "bundle_hurt"
            //    // "filtername" "filter_chief"

            //     "OnHurtPlayer" "!activator,$AddCond,71,0,-1"
            //     "OnHurtPlayer" "!activator,$RemoveCond,71,5,-1"
            // }
            trigger_multiple
            {
                "origin" "1.5 -8 140"
                "spawnflags" "1"
                "StartDisabled" "1"
                "targetname" "bundle_hurt"
                "wait" "0"
                "filtername" "filter_chief"
	
		        "OnStartTouch" "!activator,$TakeDamage,19000,0,-1"
                "OnStartTouch" "shooter_relay,$CancelPending,,0,-1"
                "OnStartTouch" "firebomb_relay,$CancelPending,,0,-1"
                "OnStartTouch" "shooter_relay,Disable,,0,-1"
                "OnStartTouch" "firebomb_relay,Disable,,0,-1"

                "OnStartTouch" "shooter_relay,Trigger,,5.1,-1"
                "OnStartTouch" "firebomb_relay,Trigger,,5.1,-1"
                "OnStartTouch" "shooter_relay,Enable,,0.1,-1"
                "OnStartTouch" "firebomb_relay,Enable,,0.1,-1"
                // "OnStartTouch" "is_holding*,Disable,,-1,-1"
                // "OnStartTouch" "is_holding*,Enable,,5,-1"
                "OnStartTouch" "bundle_pain_scream,PickRandom,,0,-1"

                "mins" "-117 -99 -140"
                "maxs" "117 99 140"
            }
            trigger_stun
            {
                "move_speed_reduction" "0"
                "origin" "0 0 0"
                "spawnflags" "1"
                "StartDisabled" "1"
                "filtername" "filter_chief"
                "stun_duration" "5"
                "stun_effects" "0"
                
                "stun_type" "1"
                "targetname" "bundle_hurt"
                "trigger_delay" "0"

                "OnStunPlayer" "!activator,$WeaponSwitchSlot,0,3.1,-1"
                "mins" "-117 -99 -140"
                "maxs" "117 99 140"
            }
            logic_case
            {
                "targetname" "bundle_pain_scream"
                "Case01" "1"
                "Case02" "2"
                "Case03" "3"

                "OnCase01" "scream1,PlaySound,,0,-1"
                "OnCase01" "scream1,StopSound,,3,-1"

                "OnCase02" "scream2,StopSound,,3,-1"
                "OnCase02" "scream2,PlaySound,,0,-1"

                "OnCase03" "scream3,StopSound,,3,-1"
                "OnCase03" "scream3,PlaySound,,0,-1"
            }
            ambient_generic
            {
                "targetname" "scream1"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath01.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "scream1"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath01.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "scream2"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath02.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "scream2"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath02.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "scream3"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath03.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "scream3"
                "message" "vo\mvm\mght\heavy_mvm_m_paincrticialdeath03.mp3"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
        }
        flag
        {
            NoFixup 1
            tf_glow
            {
                "GlowColor" "184 56 59"
                "Mode" "0"
                "startdisabled" "0"
                "target" "bomb_bundle"
                "targetname" "glownow"
                "origin" "-4 40 4"
            }
            //////////////////////////BOMB 1
            ////////////////////////////////////
            item_teamflag
            {
                "angles" "0 90 0"
                "flag_icon" "../hud/objectives_flagpanel_carried"
                "flag_model" "models\props_trainyard\cart_bomb_separate.mdl"
                "flag_paper" "player_intel_papertrail"
                "flag_trail" "flagtrail"
                "GameType" "1"
                "NeutralType" "1"
                "ReturnBetweenWaves" "1"
                "ReturnTime" "60000"
                "ScoringType" "0"
                "StartDisabled" "0"
                "targetname" "bomb_bundle"
                "TeamNum" "3"
                "trail_effect" "1"
                "origin" "800 5680 412.186"

                "OnPickup1" "filter_redteam_bomb_pickup,TestActivator,!activator,0,-1"
                "OnDrop1" "filter_redteam_bomb_drop,TestActivator,!activator,0,-1"
                "OnDrop1" "player,$DisplayTextChat,Robots will carry in addtional bombs that you can pick up, which can be used against the boss!,0,1"
                "OnReturn" "!self,SetTeam,3,0,-1"
            }
            logic_relay
            {
                "targetname" "bomb_pickup_relay"
                "spawnflags" "2"

                "OnTrigger" "is_scout,testactivator,!activator,0,-1"
                "OnTrigger" "is_medic,testactivator,!activator,0,-1"
                "OnTrigger" "is_sniper,testactivator,!activator,0,-1"
                "OnTrigger" "is_engineer,testactivator,!activator,0,-1"
                "OnTrigger" "is_spy,testactivator,!activator,0,-1"
                "OnTrigger" "is_soldier,testactivator,!activator,0,-1"
                "OnTrigger" "is_heavy,testactivator,!activator,0,-1"
                "OnTrigger" "is_demo,testactivator,!activator,0,-1"
                "OnTrigger" "is_pyro,testactivator,!activator,0,-1"

                "OnTrigger" "!activator,$PlaySound,WeaponMedigun_Vaccinator.InvulnerableOn,0,-1"
                "OnTrigger" "!activator,$StopSound,WeaponMedigun_Vaccinator.InvulnerableOn,8,-1"
                "OnTrigger" "battalion_bomb_carrier*,Enable,,0,-1"
                "OnTrigger" "battalion_bomb_carrier*,$SetFakeParent,!activator,0,-1"
                "OnTrigger" "bomb_bundle,ForceDrop,,25,-1"
                "OnTrigger" "!activator,$DisplayTextCenter,25 seconds to deliver the bomb!,0,-1"

                "OnTrigger" "!activator,$addcond,65,0,-1"

                "OnTrigger" "!activator,$addcond,57,0,-1"
                "OnTrigger" "!activator,$removecond,57,5,-1"

                //attributes
                "OnTrigger" "!activator,$AddPlayerAttribute,mult max health|10,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,is miniboss|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,no double jump|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,always crit|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,move speed penalty|0.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,model scale|1.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,ammo regen|2,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from fire reduced|!activator|$SetVar$FireRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from fire increased|'..1/!activator.FireRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from blast reduced|!activator|$SetVar$BlastRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from blast increased|'..1/!activator.BlastRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from bullets reduced|!activator|$SetVar$BulletRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from bullets increased|'..1/!activator.BulletRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from crit reduced|!activator|$SetVar$CritRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from crit increased|'..1/!activator.CritRes,0,-1"
            }
            filter_activator_tfteam
            {
                "Negated" "0"
                "targetname" "filter_redteam_bomb_pickup"
                "TeamNum" "2"
                "origin" "0 0 0"

                "OnPass" "bomb_pickup_relay,Trigger,0,-1"
                "OnFail" "!activator,$GiveItem,bombhat,0,-1"
                "OnFail" "!activator,$AddPlayerAttribute,mult flag carrier move speed|1.2,0,-1"
            }
            filter_activator_tfteam
            {
                "Negated" "0"
                "targetname" "filter_redteam_bomb_drop"
                "TeamNum" "2"
                "origin" "0 0 0"

                "OnPass" "bomb_drop_relay,Trigger,0,-1"
                "OnFail" "bomb_bundle*,SetTeam,2,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,mult flag carrier move speed,0,-1"
            }
            logic_relay
            {
                "targetname" "bomb_pickup_relay"
                "spawnflags" "2"

                "OnTrigger" "is_scout,testactivator,!activator,0,-1"
                "OnTrigger" "is_medic,testactivator,!activator,0,-1"
                "OnTrigger" "is_sniper,testactivator,!activator,0,-1"
                "OnTrigger" "is_engineer,testactivator,!activator,0,-1"
                "OnTrigger" "is_spy,testactivator,!activator,0,-1"
                "OnTrigger" "is_soldier,testactivator,!activator,0,-1"
                "OnTrigger" "is_heavy,testactivator,!activator,0,-1"
                "OnTrigger" "is_demo,testactivator,!activator,0,-1"
                "OnTrigger" "is_pyro,testactivator,!activator,0,-1"

                "OnTrigger" "!activator,$PlaySound,WeaponMedigun_Vaccinator.InvulnerableOn,0,-1"
                "OnTrigger" "!activator,$StopSound,WeaponMedigun_Vaccinator.InvulnerableOn,8,-1"
                "OnTrigger" "battalion_bomb_carrier*,Enable,,0,-1"
                "OnTrigger" "battalion_bomb_carrier*,$SetFakeParent,!activator,0,-1"
                "OnTrigger" "bomb_bundle,ForceDrop,,25,-1"
                "OnTrigger" "!activator,$DisplayTextCenter,25 seconds to deliver the bomb!,0,-1"

                "OnTrigger" "!activator,$addcond,65,0,-1"

                "OnTrigger" "!activator,$addcond,57,0,-1"
                "OnTrigger" "!activator,$removecond,57,5,-1"

                //attributes
                "OnTrigger" "!activator,$AddPlayerAttribute,mult max health|10,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,is miniboss|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,no double jump|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,always crit|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,move speed penalty|0.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,model scale|1.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,ammo regen|2,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from fire reduced|!activator|$SetVar$FireRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from fire increased|'..1/!activator.FireRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from blast reduced|!activator|$SetVar$BlastRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from blast increased|'..1/!activator.BlastRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from bullets reduced|!activator|$SetVar$BulletRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from bullets increased|'..1/!activator.BulletRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from crit reduced|!activator|$SetVar$CritRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from crit increased|'..1/!activator.CritRes,0,-1"
            }
            logic_relay
            {
                "targetname" "bomb_drop_relay"
                "spawnflags" "2"

                "OnTrigger" "battalion_bomb_carrier,Disable,,0,-1"
                "OnTrigger" "bomb_bundle,ForceReset,,0,-1"
                //"OnTrigger" "bomb_bundle,$SetLocalOrigin,-12 -772 124,0,-1"
                //"OnTrigger" "!self,$CancelPending,,0.01,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,cannot pick up intelligence|1,0,-1"
                "OnTrigger" "!activator,$RemovePlayerAttribute,cannot pick up intelligence,25,-1"
                "OnTrigger" "!activator,$DisplayTextCenter,Cannot pick up bomb for a bit!,0,-1"

                "OnTrigger" "!activator,$removecond,65,0,-1"

                "OnTrigger" "!activator,$addcond,57,0,-1"
                "OnTrigger" "!activator,$removecond,57,5,-1"

                //attributes
                "OnTrigger" "!activator,$RemovePlayerAttribute,set BONUS: max health additive bonus,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,mult max health,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,is miniboss,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,no double jump,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,always crit,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,move speed penalty,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,model scale,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,ammo regen,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from fire increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from blast increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from bullets increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from crit increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,damage bonus,0,-1"
                "OnTrigger" "!activator,$RemovePlayerAttribute,heal rate bonus,0,-1"
            }
            /////////////////////BOMB 2
            //////////////////////////////
            item_teamflag
            {
                "angles" "0 90 0"
                "flag_icon" "../hud/objectives_flagpanel_carried"
                "flag_model" "models\props_trainyard\cart_bomb_separate.mdl"
                //"flag_model" "models\props_td\atom_bomb.mdl"
                "flag_paper" "player_intel_papertrail"
                "flag_trail" "flagtrail"
                "GameType" "1"
                "NeutralType" "1"
                "ReturnBetweenWaves" "1"
                "ReturnTime" "60000"
                "ScoringType" "0"
                "StartDisabled" "0"
                "targetname" "bomb_bundle_2"
                "TeamNum" "3"
                "trail_effect" "1"
                "origin" "800 5680 412.186"

                "OnPickup1" "filter_redteam_bomb_pickup_2,TestActivator,!activator,0,-1"
                "OnDrop1" "filter_redteam_bomb_drop_2,TestActivator,!activator,0,-1"
                "OnDrop1" "player,$DisplayTextChat,Robots will carry in addtional bombs that you can pick up, which can be used against the boss!,0,1"
                "OnReturn" "!self,SetTeam,3,0,-1"
            }
            logic_relay
            {
                "targetname" "bomb_pickup_relay_2"
                "spawnflags" "2"

                "OnTrigger" "is_scout,testactivator,!activator,0,-1"
                "OnTrigger" "is_medic,testactivator,!activator,0,-1"
                "OnTrigger" "is_sniper,testactivator,!activator,0,-1"
                "OnTrigger" "is_engineer,testactivator,!activator,0,-1"
                "OnTrigger" "is_spy,testactivator,!activator,0,-1"
                "OnTrigger" "is_soldier,testactivator,!activator,0,-1"
                "OnTrigger" "is_heavy,testactivator,!activator,0,-1"
                "OnTrigger" "is_demo,testactivator,!activator,0,-1"
                "OnTrigger" "is_pyro,testactivator,!activator,0,-1"

                "OnTrigger" "!activator,$PlaySound,WeaponMedigun_Vaccinator.InvulnerableOn,0,-1"
                "OnTrigger" "!activator,$StopSound,WeaponMedigun_Vaccinator.InvulnerableOn,8,-1"
                "OnTrigger" "battalion_bomb_carrier_2,Enable,,0,-1"
                "OnTrigger" "battalion_bomb_carrier_2,$SetFakeParent,!activator,0,-1"
                "OnTrigger" "bomb_bundle_2,ForceDrop,,25,-1"
                "OnTrigger" "!activator,$DisplayTextCenter,25 seconds to deliver the bomb!,0,-1"

                "OnTrigger" "!activator,$addcond,121,0,-1"

                "OnTrigger" "!activator,$addcond,57,0,-1"
                "OnTrigger" "!activator,$removecond,57,5,-1"

                //attributes
                "OnTrigger" "!activator,$AddPlayerAttribute,mult max health|10,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,is miniboss|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,no double jump|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,always crit|1,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,move speed penalty|0.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,model scale|1.75,0,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,ammo regen|2,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from fire reduced|!activator|$SetVar$FireRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from fire increased|'..1/!activator.FireRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from blast reduced|!activator|$SetVar$BlastRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from blast increased|'..1/!activator.BlastRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from bullets reduced|!activator|$SetVar$BulletRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from bullets increased|'..1/!activator.BulletRes,0,-1"

                "OnTrigger" "!activator,$GetPlayerAttribute,dmg taken from crit reduced|!activator|$SetVar$CritRes|1,0,-1"
                "OnTrigger" "!activator,$AddPlayerAttribute,$$='dmg taken from crit increased|'..1/!activator.CritRes,0,-1"
            }
            filter_activator_tfteam
            {
                "Negated" "0"
                "targetname" "filter_redteam_bomb_pickup_2"
                "TeamNum" "2"
                "origin" "0 0 0"

                "OnPass" "bomb_pickup_relay_2,Trigger,0,-1"
                "OnFail" "!activator,$GiveItem,bombhat,0,-1"
                "OnFail" "!activator,$AddPlayerAttribute,mult flag carrier move speed|1.4,0,-1"
            }
            filter_activator_tfteam
            {
                "Negated" "0"
                "targetname" "filter_redteam_bomb_drop_2"
                "TeamNum" "2"
                "origin" "0 0 0"

                "OnPass" "bomb_drop_relay_2,Trigger,0,-1"
                "OnFail" "bomb_bundle*,SetTeam,2,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,mult flag carrier move speed,0,-1"
            }
            logic_relay
            {
                "targetname" "bomb_drop_relay_2"
                "spawnflags" "2"

                "OnTrigger" "battalion_bomb_carrier_2,Disable,,0,-1"
                "OnTrigger" "bomb_bundle_2,ForceReset,,0,-1"
                //"OnTrigger" "bomb_bundle,$SetLocalOrigin,-12 -772 124,0,-1"
                //"OnTrigger" "!self,$CancelPending,,0.01,-1"

                "OnTrigger" "!activator,$AddPlayerAttribute,cannot pick up intelligence|1,0,-1"
                "OnTrigger" "!activator,$RemovePlayerAttribute,cannot pick up intelligence,25,-1"
                "OnTrigger" "!activator,$DisplayTextCenter,Cannot pick up bomb for a bit!,0,-1"

                "OnTrigger" "!activator,$removecond,121,0,-1"

                "OnTrigger" "!activator,$addcond,57,0,-1"
                "OnTrigger" "!activator,$removecond,57,5,-1"

                //attributes
                "OnTrigger" "!activator,$RemovePlayerAttribute,set BONUS: max health additive bonus,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,mult max health,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,is miniboss,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,no double jump,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,always crit,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,move speed penalty,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,model scale,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,ammo regen,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from fire increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from blast increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from bullets increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,dmg taken from crit increased,0,-1"

                "OnTrigger" "!activator,$RemovePlayerAttribute,damage bonus,0,-1"
                "OnTrigger" "!activator,$RemovePlayerAttribute,heal rate bonus,0,-1"
            }
            trigger_add_tf_player_condition
            {
                "condition" "26"
                "duration" "1"
                "origin" "0 0 0"
                "spawnflags" "1"
                "StartDisabled" "0"
                "targetname" "battalion_bomb_carrier_2"
                "filtername" "filter_redteam"
                "mins" "-225 -181 -70"
                "maxs" "225 181 70"

                "$modules" "fakeparent"

                "OnStartTouch" "!activator,$AddCond,26,0,-1"
                "OnEndTouch" "!activator,$RemoveCond,26,0,-1"
            }
            trigger_add_tf_player_condition
            {
                "condition" "26"
                "duration" "1"
                "origin" "0 0 0"
                "spawnflags" "1"
                "StartDisabled" "0"
                "targetname" "battalion_bomb_carrier"
                "filtername" "filter_redteam"
                "mins" "-225 -181 -70"
                "maxs" "225 181 70"

                "$modules" "fakeparent"

                "OnStartTouch" "!activator,$AddCond,26,0,-1"
                "OnEndTouch" "!activator,$RemoveCond,26,0,-1"
            }
            //////////////////all
            //////////////////////
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_scout"
                "tfclass" "1"

                "OnPass" "!activator,$RemovePlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|350,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_engineer"
                "tfclass" "9"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,damage bonus|2,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|1250,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_sniper"
                "tfclass" "2"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,damage bonus|2,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|1250,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_spy"
                "tfclass" "8"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,damage bonus|2,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|1250,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_medic"
                "tfclass" "5"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,heal rate bonus|2,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|3000,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_heavy"
                "tfclass" "6"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|2000,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_soldier"
                "tfclass" "3"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|2000,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_pyro"
                "tfclass" "7"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|1250,0,-1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_demo"
                "tfclass" "4"

                //"OnPass" "!activator,$AddPlayerAttribute,move speed penalty,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,set BONUS: max health additive bonus|1250,0,-1"
            }
        }
        flagdetschizo
        {
            OnSpawnOutput
            {
                Target auto
                Action Trigger
            }
            logic_relay
            {
                "targetname" "auto"
                "spawnflags" "2"
                //"OnTrigger" "flagalarmzone*,AddOutput,$filter filter_blueteam,0,-1"
                "OnTrigger" "flagalarmzone,Disable,,0,-1"
                //"OnTrigger" "player,$displaytextchat,triggered,0,-1"
            }
            // func_flagdetectionzone
            // {
            //     "origin" "4.8 -53.7 311.7"
            //     "alarm" "1"
            //     "StartDisabled" "0"
            //     "targetname" "new_alarm_zone"
            //     "TeamNum" "2"
            //     "$filterplayer" "filter_blueteam"

            //     "mins" "-640 -800 -242"
            //     "maxs" "640 800 242"
            // }
            trigger_multiple
            {
                "filtername" "filter_blueteam"
                "origin" "0 -64 352"
                "spawnflags" "1"
                "StartDisabled" "0"
                "targetname" "enable_if_blu"
                "wait" "1"

                "OnStartTouch" "flagalarmzone,Enable,,0,-1"
                "OnEndTouch" "flagalarmzone,Disable,,0,-1"

                "mins" "-640 -800 -242"
                "maxs" "640 800 242"
            }
        }
        boss_intro
        {
            OnSpawnOutput
            {
                Target tele_particle
                Action Stop
                Delay 8.5
            }
            OnSpawnOutput
            {
                Target teleporter_sound
                Action PlaySound 
                Delay 8.5
            }
            OnSpawnOutput
            {
                Target enter_sound
                Action PlaySound 
                Delay 6
            }
            ambient_generic
            {
                "targetname" "teleporter_sound"
                "message" "mvm\mvm_tele_deliver.wav"
                "health" "10"
                "pitch" "100"
                "radius" "5000"
                "spawnflags" "17"
            }
            ambient_generic
            {
                "targetname" "enter_sound"
                "message" "mvm\giant_heavy\giant_heavy_entrance.wav"
                "health" "10"
                "pitch" "100"
                "radius" "10"
                "spawnflags" "17"
            }
            info_particle_system
            {
                "effect_name" "teleporter_mvm_bot_persist"
                "flag_as_weather" "0"
                "start_active" "1"
                "targetname" "tele_particle"
                "origin" "-40.2 3749.5 128.2"
            }
        }
        Railgun
        {
            OnSpawnOutput
            {
                Target Rail_Check 
                Action Trigger
            }
            OnSpawnOutput
            {
                Target !parent 
                Action $giveitem 
                Param "RailgunRifle"
                Delay 0.1
            }
            OnSpawnOutput
            {
                Target !parent 
                Action $WeaponSwitchSlot
                Param 1
            }
            logic_relay
            {
                "targetname" "Rail_Check"
                "spawnflags" "2"
                "ontrigger" "Rail_Format,$format,,0.01,-1" 
                "ontrigger" "Rail_count,GetValue,,0.01,-1"
                "ontrigger" "!self,trigger,,0.1,-1"
            }
            OnSpawnOutput
            {
                Target Rail_count 
                Action Setvalue
                Param 0
                Delay 0.1
            }
			math_counter
			{
				"targetname" "Rail_count"
                "min" "0"
                "max" "100"

                "OnGetValue" "Rail_count,$SetVar$CurrentValue,,0,-1" 

                "onhitmax" "Rail_Format,$setkey$case16,Railgun Charge: %/100,2,-1" 

                "onhitmin" "!self,GetValue,,0,-1" 

                "outvalue" "Compare_Rail,setvaluecompare,,0,-1" 
                "outvalue" "Rail_Format,$setkey$case01,,0,-1"
                "outvalue" "Compare_canshoot,setvaluecompare,,0,-1" 

                "outvalue" "is_129,testactivator,!activator,0,-1" 

                "OnGetValue" "Rail_count,$SetVar$ChargeValue,,0,-1" 

                "OnGetValue" "!parent,$AddItemAttribute,$$='CARD: damage bonus|'..(1 + .01*(Rail_count.ChargeValue))..'|0',0.1,-1"
                "OnGetValue" "!parent,$AddItemAttribute,$$='mult bleeding dmg|'..(1 + .02*(Rail_count.ChargeValue))..'|0',0.1,-1"
                "OnHitMin" "Rail_NoShoot,Trigger,,0,-1"
                "OutValue" "Rail_Shoot,Trigger,,0,-1"
			}
            logic_compare
			{
				"targetname" "Compare_CanShoot"
				"comparevalue" "1"
                "onequalto" "!parent,$RemoveItemAttribute,no_attack|0,0,-1"
                "OnGreaterThan" "!parent,$RemoveItemAttribute,no_attack|0,0,-1"

                "OnLessThan" "!parent,$AddItemAttribute,no_attack|1|0,0,-1"

                "onequalto" "!parent,$AddItemAttribute,add cond when active|46|0,0,-1"
                "OnGreaterThan" "!parent,$AddItemAttribute,add cond when active|46|0,0,-1"

                "OnLessThan" "!parent,$RemoveItemAttribute,add cond when active|0,0,-1"
                
                "onequalto" "RailText,AddOutput,Color 0 136 50"
                "OnGreaterThan" "RailText,AddOutput,Color 0 136 50"
                "OnLessThan" "RailText,AddOutput,Color 255 0 274"
			}
            logic_compare
            {
                "targetname" "DamageDealtIsNotZero" // for sniper rifles: punishes attacking uber targets
                "comparevalue" "0"
                "onequalto" "Rail_count,subtract,100,0,-1"
            }
            logic_compare
            {
                "targetname" "SMGCharge"
                "comparevalue" "0"
                "OnGreaterThan" "Rail_count,add,1,0,-1"
                //"OnGreaterThan" "player,$displaytextchat,added,0,-1"
            }
            //displaying stuff
			logic_compare
			{
				"targetname" "Compare_Rail"
				"comparevalue" "0"
				"onequalto" "Rail_Format,$setkey$case16,Railgun Charge: %/100,0,-1"  
				"ongreaterthan" "Rail_Format,$setkey$case16,Railgun Charge: %/100,-1"
			}
			logic_case
			{
				"targetname" "Rail_Format" 
				"case16" "Railgun Charge: %/100"
				"ondefault" "RailText,$setkey$message,,0,-1"
				"ondefault" "RailText,display,0,0,-1"
			}
			game_text 
			{
				"targetname" "RailText"
				"color" "255 0 274" 
				"holdtime" "2"
				"spawnflags" "0"
                "channel" "2" 
				"x" "0.7"
                "y" "0.9"
			}
        }
        RageDetector // DO NOT USE THIS IN YOUR OWN MISSION WITHOUT MY PERMISSION
        {
            //NoFixup 1
            $filter_sendprop
            {
                "$name" "m_bRageDraining"
                "$value" "1"
                "targetname" "is_quite_annoyed"
                "origin" "35 -8 283"
                "$compare" "equal"

                //"OnPass" "!activator,$AddPlayerAttribute,damage bonus hidden|1.5,0,-1" // causes crashing??
                //"OnPass" "!activator,$additemattribute,damage bonus|1.5|0,0,-1"
                "OnPass" "!activator,$AddCond,32,0,-1"
                "OnPass" "!activator,$AddCond,81,0,-1"
                "OnPass" "yell,Start,,0,-1"
                "OnPass" "yell,Disable,,0.1,-1"
                "OnPass" "yell,Stop,,0.5,-1"
                "OnPass" "heal_count,Subtract,105,0,-1"
                "OnPass" "!activator,$removeitemattribute,fire input on kill|0,0,-1"
                "OnPass" "crit_enable,Trigger,,0.05,-1"
                "OnPass" "crit_enable,Disable,,0.2,-1"
                // "OnPass" "!activator,$RemovePlayerAttribute,generate rage on damage,0.1,-1" 
                // "OnPass" "!activator,$RemovePlayerAttribute,hidden maxhealth non buffed,10,-1"
                // "OnPass" "!activator,$RemovePlayerAttribute,CARD: move speed bonus,10,-1"
                "OnPass" "heal_count,Subtract,2500,10,-1"
                //"OnFail" "!activator,$RemovePlayerAttribute,damage bonus hidden,0,-1" // causes crashing??
                "OnFail" "!activator,$RemoveCond,32,0,-1"
                "OnFail" "yell,Enable,,0.1,-1"
                "OnFail" "crit_enable,Enable,,0,-1"
                "OnFail" "!activator,$additemattribute,fire input on kill|heal_count^add^250|0,0,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,SET BONUS: max health additive bonus,0,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,CARD: move speed bonus,0,-1"
                "OnFail" "!activator,$RemovePlayerAttribute,hidden maxhealth non buffed,0,-1"
                //"OnFail" "!activator,$removeitemattribute,damage bonus|0,0,-1"
            }
            logic_relay
            {
                "targetname" "rage_checker"
                "spawnflags" "2"
                "OnTrigger" "is_quite_annoyed,TestActivator,!activator,0,-1"
                "OnTrigger" "!self,Trigger,,0.5,-1"
            }
            OnSpawnOutput
            {
                Target rage_checker
                Action Trigger
            }
            logic_relay
            {
                "targetname" "crit_enable"
                "spawnflags" "2"
                "OnTrigger" "add_bonuses,Enable,,0,-1"
                "OnTrigger" "add_bonuses,Disable,,0.1,-1"
            }
            // trigger_add_tf_player_condition
            // {
            //     "condition" "19"
            //     "duration" "5"
            //     "filtername" "filter_redteam"
            //     "origin" "0 0 0"
            //     "spawnflags" "1"
            //     "StartDisabled" "1"
            //     "targetname" "add_bonuses"

            //     "mins" "-200 -200 -200"
            //     "maxs" "200 200 200"

            //     "OnStartTouch" "!activator,$AddPlayerAttribute,SET BONUS: max health additive bonus|100,0,-1"
            //     "OnStartTouch" "!activator,$AddPlayerAttribute,CARD: move speed bonus|1.15,0,-1"
            //     "OnEndTouch" "!activator,$RemovePlayerAttribute,SET BONUS: max health additive bonus,5,-1"
            //     "OnEndTouch" "!activator,$RemovePlayerAttribute,CARD: move speed bonus,5,-1"
            // }
            trigger_multiple
            {
                "origin" "0 0 0"
                "spawnflags" "1"
                "StartDisabled" "1"
                "targetname" "add_bonuses"
                "wait" "0"
                "filtername" "filter_redteam"
	
                "OnStartTouch" "!activator,$AddPlayerAttribute,SET BONUS: max health additive bonus|100,0,-1"
                "OnStartTouch" "!activator,$AddPlayerAttribute,CARD: move speed bonus|1.15,0,-1"
                "OnStartTouch" "!activator,$AddCond,19,0,-1"
                "OnStartTouch" "!activator,$RemoveCond,19,5,-1"
                "OnStartTouch" "is_81,TestActivator,!activator,0,-1"
                "OnStartTouch" "is_81,TestActivator,!activator,10,-1"
                "OnStartTouch" "!activator,$RemoveCond,81,9.9,-1"
                "OnEndTouch" "!activator,$RemovePlayerAttribute,SET BONUS: max health additive bonus,5,-1"
                "OnEndTouch" "!activator,$RemovePlayerAttribute,CARD: move speed bonus,5,-1"
                "OnEndTouchAll" "!activator,$RemovePlayerAttribute,hidden maxhealth non buffed,10,-1"
                "mins" "-200 -200 -200"
                "maxs" "200 200 200"
            }
            filter_tf_condition
            {
                "condition" "81"
                "Negated" "0"
                "targetname" "is_81"
                "origin" "35 -8 283"

                "OnPass" "!activator,$RemovePlayerAttribute,generate rage on damage,0.1,-1" 
                "OnPass" "!activator,$AddPlayerAttribute,hidden maxhealth non buffed|600,0,-1"
                "OnPass" "!activator,$AddPlayerAttribute,CARD: move speed bonus|1.25,0,-1"
                // "OnPass" "!activator,$AddPlayerAttribute,hidden maxhealth non buffed|600,5.01,-1"
                // "OnPass" "!activator,$AddPlayerAttribute,CARD: move speed bonus|1.25,5.01,-1"

                // "OnFail" "!activator,$RemovePlayerAttribute,hidden maxhealth non buffed,10,-1"
                // "OnFail" "!activator,$RemovePlayerAttribute,CARD: move speed bonus,10,-1"
                //"OnFail" "!self,$cancelpending,,0.5,-1"
            }
            info_particle_system
            {
                "angles" "0 0 0"
                "effect_name" "powerup_supernova_explode_red"
                "flag_as_weather" "0"
                "start_active" "0"
                "targetname" "yell"
                "origin" "0 0 0"
            }
            info_particle_system
            {
                "angles" "0 0 0"
                "effect_name" "bombinomicon_flash"
                "flag_as_weather" "0"
                "start_active" "0"
                "targetname" "yell"
                "origin" "0 0 0"
            }
            //stuff taken from self-made point temp
            NoFixup 1
            OnSpawnOutput
            {
                Target Healing_Check 
                Action Trigger
            }
            logic_relay
            {
                "targetname" "Healing_Check"
                "spawnflags" "2"
                "ontrigger" "Heal_Format,$format,,0.01,-1" 
                "ontrigger" "heal_count,GetValue,,0.01,-1"
                "ontrigger" "!self,trigger,,0.1,-1"
            }
            logic_compare
            {
                "targetname" "ChargeMinigun"
                "comparevalue" "1"
                "OnGreaterThan" "heal_count,add,1,0,-1"
                //"OnGreaterThan" "player,$displaytextchat,added,0,-1"
            }
			math_counter
			{
				"targetname" "heal_count"
                "min" "0"
                "max" "2500"

                "OnGetValue" "heal_count,$SetVar$CurrentValue,,0,-1" 

                "onhitmax" "!activator,$AddPlayerAttribute,generate rage on damage|3,0,-1" 
                "onhitmax" "!activator,$SetProp$m_flRageMeter,100,0.2,-1" 
                "onhitmax" "Heal_Format,$setkey$case16,Rage: %/2500,2,-1" 

                "onhitmin" "!self,GetValue,,0,-1" 

                "outvalue" "Compare_Heal,setvaluecompare,,0,-1" 
                "outvalue" "Heal_Format,$setkey$case01,,0,-1"

			}
            //filters

            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_scout"
                "tfclass" "1"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_soldier"
                "tfclass" "3"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_pyro"
                "tfclass" "7"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_demo"
                "tfclass" "4"

            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_heavy"
                "tfclass" "6"

            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_engineer"
                "tfclass" "9"

            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_medic"
                "tfclass" "5"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_sniper"
                "tfclass" "2"
            }
            filter_tf_class
            {
                "Negated" "0"
                "targetname" "is_spy"
                "tfclass" "8"
            }
            filter_multi
            {
                "Filter01" "is_soldier"
                "Filter02" "is_scout"
                "Filter03" "is_pyro"
                "Filter04" "is_demo"
                "Filter05" "is_heavy"
                "filtertype" "1"
                "Negated" "0"
                "targetname" "filter_firstclasses"
                "origin" "288 0 72"
            }
            filter_multi
            {
                "Filter01" "is_engineer"
                "Filter02" "is_medic"
                "Filter03" "is_sniper"
                "Filter04" "is_spy"
                "filtertype" "1"
                "Negated" "0"
                "targetname" "filter_secondclasses"
                "origin" "288 0 72"
            }
            filter_multi
            {
                "Filter01" "filter_firstclasses"
                "Filter02" "filter_secondclasses"
                "filtertype" "1"
                "Negated" "0"
                "targetname" "filter_allclasses"
                "origin" "288 0 72"
                "OnPass" "filter_blu_hit,TestActivator,!activator,0,-1"
                "OnPass" "player,$displaytextchat,passed class,0,-1"
            }
            filter_activator_tfteam
            {
                "Negated" "0"
                "targetname" "filter_blu_hit"
                "TeamNum" "3"
                "origin" "0 0 0"

                "OnPass" "ChargeMinigun,SetValueCompare,,0,-1"
                "OnPass" "player,$displaytextchat,passed hit,0,-1"
            }
            //displaying stuff
			logic_compare
			{
				"targetname" "Compare_Heal"
				"comparevalue" "0"
				"onequalto" "Heat_Formal,$setkey$case16,Rage: %/2500,0,-1"  
				"ongreaterthan" "Heal_Format,$setkey$case16,Rage: %/2500,-1"
			}
			logic_case
			{
				"targetname" "Heal_Format" 
				"case16" "Rage: %/2500"
				"ondefault" "Heal_Text,$setkey$message,,0,-1"
				"ondefault" "Heal_Text,display,0,0,-1"
			}
			game_text 
			{
				"targetname" "Heal_Text"
				"color" "255 0 274" 
				"holdtime" "2"
				"spawnflags" "0"
                "channel" "2" 
				"x" "0.7"
                "y" "0.9"
			}
        }
    }

    // PlayerSpawnTemplate
    // {
    //     Name spammer_fix
    // }
    // PlayerShootTemplate
    // {
    //     Name nadedynamite
    //     Itemname "Automayhem Atrocity"
    //     AttachToProjectile 1
    // }
    PlayerItemEquipSpawnTemplate
    {
        Name RageDetector
        Itemname "Bolshiviek's Commanding Shout"
    }
    PlayerItemEquipSpawnTemplate
    {
        Name Railgun
        Itemname "Super Railgun"
    }
    // PlayerItemEquipSpawnTemplate
    // {
    //     Name Shield
    //     Itemname "Protected Provoker"
    // }

    
    CustomWeapon
    {
        "bombhat"
        {
            OriginalItemName "Dead of Night"
            "custom item model" "models\empty.mdl"
            //"attachment scale" 2.5
            //"attachment angles" "15 0 0"
            //"attachment name" "head"
            //"attachment offset" "0 0 -200"
            "attach particle effect" 3036
        }
        //heavyboss
        "rocket_shooter"
        {
            OriginalItemName "Upgradeable TF_WEAPON_ROCKETLAUNCHER"
            "projectile acceleration" 1600
            "projectile acceleration start time" 2
            "projectile speed decreased" 0.1
            "mod projectile heat no predict target speed" 1  
            "mod projectile heat seek power" 360
            "mod projectile heat aim error" 90
            "mod projectile heat aim time" 2
            "damage bonus" 1.5
            "mult dmg vs giants" 5
            "energy weapon no deflect" 1
            "projectile no deflect" 1 
            "projectile spread angle penalty" 10
            "projectile trail particle" "eyeboss_projectile"
            //"dmg pierces resists absorbs" 1
        }
        "firebombs"
        {
            OriginalItemName "tf_weapon_pipebomblauncher"
            "set damagetype ignite" 1
            "max pipebombs increased" 32
            "explosion particle" "heavy_ring_of_fire_fp"
            "projectile spread angle penalty" 20
            "sticky arm time penalty" 5.2
            "damage causes airblast" 1
            "weapon burn time reduced" 0.5
            "dmg pierces resists absorbs" 1
            "weapon burn dmg increased" 3
            "blast radius decreased" 0.8
            "mult dmg vs giants" 5
            "projectile range decreased" 0.35
            "damage penalty" 0.5
        }
        "death" // dev item for testing phase 2
        {
            OriginalItemName "the direct hit"
            "dmg max health" 0.25
            "crit mod disabled" 0
        }
        "superdeath" // dev item for testing w6
        {
            OriginalItemName "tf_weapon_rocketlauncher"
            "damage bonus" 40
            "always crit" 1
            "allow friendly fire" 1
        }
    
        "homing_tank"
        {
            OriginalItemName "Upgradeable TF_WEAPON_ROCKETLAUNCHER"
            "projectile acceleration" 1600
            "projectile acceleration start time" 1.85
            "projectile speed decreased" 0.1
            "mod projectile heat no predict target speed" 1  
            "mod projectile heat seek power" 360
            "mod projectile heat aim error" 360
            "mod projectile heat aim time" 0.9
            "mult dmg vs giants" 2
            "mult dmg vs tanks" 0.5
            "projectile trail particle" "eyeboss_projectile"
        }

        //ACTUAL CUSTOMS
        //MULTI
        "Spine-Shatterer's Stars"
        {
            OriginalItemName "Upgradeable TF_WEAPON_SHOTGUN_PRIMARY"
            //misc
            "paintkit_proto_def_index" 210
            "set_item_texture_wear" 0.2
            "special item description" "Crits vs. Overhealed targets"

            //upside
            "mod max primary clip override" -1 
            "mod no reload display only" 1

            "bullets per shot bonus" 8
            "crit vs burning players" 262144
            //downside
            "fire rate penalty" 2.5
            "damage penalty" 0.35
            "maxammo metal reduced" 0.5
        }
        //SCOUT
        "Speed Demon's Firearm (Critboost Variant)"
        {
            OriginalItemName "Upgradeable TF_WEAPON_PISTOL"
            //misc
            "paintkit_proto_def_index" 205
            "set_item_texture_wear" 0.2
            "attach particle effect" 13
            "SPELL: set Halloween footstep type" 1 // 2 is horseless footsteps

            "set damagetype ignite" 1
            "projectile penetration" 1
            "weapon spread bonus" 0
            "weapon burn dmg increased" 3
            "weapon burn time increased" 2
            "clip size penalty hidden" 0.35
            
            "critboost on kill" 3
        }
        "Speed Demon's Firearm (Milk Variant)"
        {
            OriginalItemName "Upgradeable TF_WEAPON_PISTOL"
            //misc
            "paintkit_proto_def_index" 205
            "set_item_texture_wear" 0.2
            "attach particle effect" 13
            "SPELL: set Halloween footstep type" 1 // 2 is horseless footsteps

            "set damagetype ignite" 1
            "projectile penetration" 1
            "weapon spread bonus" 0
            "weapon burn dmg increased" 3
            "weapon burn time increased" 2
            "clip size penalty" 0.35
            
            "add cond on hit" 27
            "add cond on hit duration" 2.5
            "fire rate penalty" 1.75
            "special item description" "On Hit: Causes Mad Milk effect"
        }
        //SOLDIER

        "Nuclear-Capable Handheld Device"
        {
            OriginalItemName "upgradeable TF_WEAPON_ROCKETLAUNCHER"
            "blast radius increased" 1.3
            "fire rate penalty" 1.15
            "mult dmg vs giants" 1.5
            "mult dmg vs tanks" 1.5
            "card: damage bonus" 1.15
            "self dmg push force increased" 1.5
            "projectile speed decreased" 0.55

            //misc
            "paintkit_proto_def_index" 215
            "set_item_texture_wear" 0.2
            "explosion particle" "buster_expl_antigravity_coreflash"
            "projectile trail particle" "~utaunt_glowyplayer_purple_parent"
        }

        //HEAVY
        "Bolshiviek's Commanding Shout"
        {
            OriginalItemName "Iron Curtain"
            "special item description" "Rage meter grants increased health, speed and brief Minicrits to user and teammates."
            "special item description 2" "Charge by killing enemies. Requires 2500 points to charge."
            "damage penalty" 0.8
            //"fire input on kill" "heal_count^Add^400"
            "fire input on kill" "heal_count^add^250"
            //"fire input on hit name restrict" "player"
        }
        //sniper
        "RailgunRifle"
        {
            OriginalItemName "Upgradeable TF_WEAPON_SNIPERRIFLE"
            //"alt-fire disabled" 1
            "sniper fires tracer" 1
            
            "explosive sniper shot" 3
            "sniper only fire zoomed" 1
            "provide on active" 1
            //"cannot be upgraded" 1
            "SRifle Charge rate decreased" -1
            "custom item model" "models\workshop\weapons\c_models\c_essendon_eliminator\c_essendon_eliminator.mdl"

            //"fire input on hit" "Rail_count^Subtract^100"
            "fire input on hit" "DamageDealtIsNotZero^Compare^"
            // "single wep deploy time decreased" -1
            // "switch from wep deploy time decreased" -1
        }
        "Super Railgun"
        {
            OriginalItemName "Upgradeable TF_WEAPON_SMG"
            "card: damage bonus" 3
            "fire rate bonus hidden" 0.5
            "max health additive bonus" 175
            "clip size bonus" 1.8
            "spread penalty" 1.5
            "reload time increased" 1.5
            "hidden secondary max ammo penalty" 3
            "hidden primary max ammo bonus" 25
            "special item description" "On hit: Charge your primary weapon's direct damage and explosive headshot damage."
            "special item description 2" "+1% direct damage and +2% explosive headshot per point of charge."
            "special item description 3" "CANNOT SHOOT WHILE UNCHARGED. REPLACES PRIMARY."
            "fire input on hit" "SMGCharge^SetValueCompare^"
            // "fire input on hit" "player^$displaytextchat^"
//"fire input on hit" "Rail_count^add^1"
        }

        //SPY
        "French Rocket-lution" // more of a tankbuster
        {
            OriginalItemName "Upgradeable TF_WEAPON_REVOLVER"
            //"mult crit dmg" 1.5
            "damage bonus hidden" 1.5
            "mult dmg vs tanks" 1.5
            "fire rate penalty" 1.5
            "clip size penalty" 0.67
            "reload time increased" 2
            "override projectile type" 2
            "paintkit_proto_def_index" 228
            "set_item_texture_wear" 0.2
            "self dmg push force increased" 2
            "blast dmg to self increased" 0.5
            "special item description" "Fires Rockets."
        }
    }

    ExtraLoadoutItems
    {
        //Primary "death"
        //Primary "plane_shooter_gun"
        Scout
        {
            Secondary "Speed Demon's Firearm (Milk Variant)"
            Secondary "Speed Demon's Firearm (Critboost Variant)"
        }
        Soldier 
        {
            Secondary "Spine-Shatterer's Stars"
            Primary "Nuclear-Capable Handheld Device"
        }
        Pyro
        {
            Secondary "Spine-Shatterer's Stars"
        }
        Heavyweapons
        {
            Secondary "Spine-Shatterer's Stars"
            Primary "Bolshiviek's Commanding Shout"
        }
        Engineer
        {
            Primary "Spine-Shatterer's Stars"
        }
        // Sniper 
        // {
        //     Secondary "Super Railgun"
        // }
        Spy
        {
            Secondary "French Rocket-lution"
        }
    }

    ExtendedUpgrades  
	{
        DamageBonusGlobal
        {
            Name "Damage Bonus" 
			Attribute "Damage Bonus" 
			Cap 2
			Increment 0.25
			Cost 400
            Description "+25% Damage per upgrade tick."
			AllowedWeapons 
			{
				Itemname "Spine-Shatterer's Stars"
                //Itemname "Super Railgun"
			}
        }
    }

    DisallowUpgrade	[$SIGSEGV]
	{
		Upgrade	"generate rage on damage"
		ItemName "Bolshiviek's Commanding Shout" 
	}
    DisallowUpgrade	[$SIGSEGV]
	{
		Upgrade	"mod minigun can holster while spinning"
		ItemName "Bolshiviek's Commanding Shout" 
	}

    DisallowUpgrade	[$SIGSEGV]
	{
		Upgrade	"maxammo primary increased"
		ItemName "RailgunRifle" 
	}
    DisallowUpgrade	[$SIGSEGV]
	{
		Upgrade	"faster reload rate"
		ItemName "RailgunRifle" 
	}
    DisallowUpgrade	[$SIGSEGV]
	{
		Upgrade	"projectile penetration"
		ItemName "RailgunRifle" 
	}

    Mission // Buster
    {
        Where spawnbot
        Objective DestroySentries
        BeginAtWave 1
        RunForThisManyWaves 999
        DesiredCount 1
    
        InitialCooldown 45
        CooldownTime 80
    
        TFBot
        {
            Template T_TFBot_SentryBuster_Fix
            Tag no_reprogram
        }
    }

    Mission // 2 snipes
    {
        Where spawnbot_mission_sniper
        Objective Sniper 
        BeginAtWave 2
        RunForThisManyWaves 1
        DesiredCount 1
    
        InitialCooldown 15
        CooldownTime 55
    
        TFBot
        {
            Template T_TFBot_Sniper	
            Item "The Machina"
        }
    }

    Mission // w3 spies
    {
        Where spawnbot_mission_spy
        Objective Spy
        BeginAtWave 3
        RunForThisManyWaves 1
        DesiredCount 3
    
        InitialCooldown 28
        CooldownTime 80 
    
        TFBot
        {
            Template T_TFBot_Spy	
        }
    }

    Mission // w4 snipers
    {
        Where spawnbot_mission_sniper
        Objective Sniper 
        BeginAtWave 4
        RunForThisManyWaves 1
        DesiredCount 2
    
        InitialCooldown 30
        CooldownTime 65
    
        TFBot
        {
            Template T_TFBot_Sniper	
            Skill Expert
        }
    }

    Wave // Wave 1 
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_random_relay	
            Action Trigger
        }

        WaveSpawn
        {
            Name "suppy"
            Where spawnbot_left
            TotalCount 65
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 8
            WaitBetweenSpawns 17
            TotalCurrency 100
            Support 1
            TFBot
            {
                Class Scout 
                Skill Easy 	
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot
            TotalCount 2
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 0
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Giant_Soldier
                Tag no_reprogram
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot
            TotalCount 24
            MaxActive 7
            SpawnCount 3
            WaitBeforeStarting 0
            WaitBetweenSpawns 6
            TotalCurrency 50
        
            TFBot
            {
                Template T_TFBot_Scout_Bonk_Scattergun
                Skill Normal
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 30
            MaxActive 6
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 4
            TotalCurrency 50
        
            TFBot
            {
                Template T_TFBot_Medic_Crossbow
                Skill Easy
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2"
            WaitForAllSpawned "a1.1"
            Where spawnbot
            TotalCount 4
            MaxActive 3
            SpawnCount 2
            WaitBeforeStarting 11
            WaitBetweenSpawns 0
            TotalCurrency 100
            TFBot
            {
                Template T_TFBot_Giant_Pyro
                Tag noflank
                Tag no_reprogram
                Tag forcefollowbombpath
                CharacterAttributes
                {
                    "airblast disabled" 1
                }
            }
        }

        WaveSpawn
        {
            Name "a2.1"
            WaitForAllSpawned "a1.1"
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 24
            MaxActive 12
            SpawnCount 8
            WaitBeforeStarting 12
            WaitBetweenSpawns 8
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Demoman
                Tag noflank
                Tag forcefollowbombpath
            }
        }
        WaveSpawn
        {
            Name "a3"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 15
            WaitBetweenSpawns 10
            TotalCurrency 100
            TFBot
            {
                Template T_TFBot_Giant_Soldier_Crit
                Tag noflank
                Tag no_reprogram
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot_left
            TotalCount 36
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 18
            WaitBetweenSpawns 2
            TotalCurrency 100
            Support 1
            TFBot
            {
                Template T_TFBot_Pyro
                Tag noflank
                Skill Easy 
                Tag forcefollowbombpath
                CharacterAttributes
                {
                    "airblast disabled" 1
                }
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot_left
            TotalCount 30
            MaxActive 3
            SpawnCount 3
            WaitBeforeStarting 14
            WaitBetweenSpawns 2
            TotalCurrency 100
            Support 1
            TFBot
            {
                Template T_TFBot_Heavyweapons_Heavyweight_Champ
                Tag noflank
                Tag forcefollowbombpath
            }
        }
    }

    Wave // Wave 2
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_random_relay
            Action Trigger
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a1.1"
            Where spawnbot_left
            TotalCount 60
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 15
            WaitBetweenSpawns 16
            TotalCurrency 100
            Support 1
            TFBot
            {
                Template T_TFBot_Pyro
                Skill Easy 
                CharacterAttributes
                {
                    "airblast disabled" 1
                }
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot_left
            Where spawnbot
            Where spawnbot_right
            TotalCount 60
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 18
            WaitBetweenSpawns 16
            TotalCurrency 100
            Support 1
            RandomSpawn 1
            RandomChoice 
            {
                TFBot
                {
                    Template T_TFBot_Scout_Melee_Fix
                    Attributes AlwaysCrit
                    Tag nav_prefer_flank_left
                    Tag flankpusher
                }

                TFBot
                {
                    Template T_TFBot_Scout_Melee_Fix
                    Attributes AlwaysCrit
                    Tag nav_prefer_flank_right
                    Tag flankpusher
                }

                TFBot
                {
                    Template T_TFBot_Scout_Melee_Fix
                    Attributes AlwaysCrit
                    Tag nav_prefer_flank_middle
                    Tag flankpusher
                }
            }
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot_right
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 2.45
            WaitBetweenSpawns 20
            TotalCurrency 50
        
            TFBot
            {
                Template T_TFBot_Giant_Heavy_KGB
                Tag noflank
                Tag no_reprogram
                Tag forcefollowbombpath
            }
        }
        WaveSpawn
        {
            Name "a1"
            Where spawnbot_left
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 20
            TotalCurrency 50
        
            TFBot
            {
                Template T_TFBot_Giant_Heavy_KGB
                Tag noflank
                Tag no_reprogram
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot
            TotalCount 24
            MaxActive 12
            SpawnCount 4
            WaitBeforeStarting 0
            WaitBetweenSpawns 2.5
            TotalCurrency 100
            Squad 
            {
                TFBot
                {
                    Template T_TFBot_Pyro_Dragon
                    Tag noflank
                    Tag forcefollowbombpath
                    Skill Normal 
                }

                TFBot
                {
                    Template T_TFBot_Medic_QuickFix
                    Tag noflank
                    Tag forcefollowbombpath
                    Skill Expert
                }
            }
        }

        WaveSpawn
        {
            Name "a2"
            WaitForAllSpawned "a1.1"
            Where spawnbot
            TotalCount 4
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 12
            WaitBetweenSpawns 0
            TotalCurrency 200
            Squad 
            {
                TFBot
                {
                    Template T_TFBot_Giant_Demoman
                    ClassIcon demo_spammer
                    Tag no_reprogram
                }

                TFBot
                {
                    Class Medic
                    Name "Armored Big-Heal Medic"
                    ClassIcon medic_armored
                    Skill Expert
                    Health 1000
                    Scale 1.3
                    Tag no_reprogram
                    Item "The Quick-Fix"
                    Item "The Surgeon's Stahlhelm"
                    Item "Das Metalmeatencasen"
                    Tag bot_squad_member
                    // WeaponRestrictions SecondaryOnly
                    // Attributes Miniboss // fine because spy will be checked by supp pyros
                    Attributes IgnoreEnemies
                    ItemAttributes
                    {
                        ItemName "The Quick-Fix"
                        "ubercharge rate bonus" 0.01 // pretty much disables ubercharge
                    }
                    ItemAttributes
                    {
                        ItemName "TF_WEAPON_SYRINGEGUN_MEDIC"
                        "damage penalty" 0.1
                    }
                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.6
                        "airblast vulnerability multiplier" 0.6
                        "heal rate bonus" 200 
                        "health regen"	40
                    }
                }
            }
        }

        WaveSpawn
        {
            Name "a2.1"
            WaitForAllSpawned "a1.1"
            Where spawnbot
            TotalCount 30
            MaxActive 7
            SpawnCount 2
            WaitBeforeStarting 12
            WaitBetweenSpawns 2.25
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Engineer_Pomson
                Tag noflank
                Skill Easy 
                Tag forcefollowbombpath
            }
        }

        // WaveSpawn
        // {
        //     Name "a2.2"
        //     WaitForAllSpawned "a1.1"
        //     Where spawnbot_right
        //     TotalCount 16
        //     MaxActive 4
        //     SpawnCount 4
        //     WaitBeforeStarting 0
        //     WaitBetweenSpawns 0
        //     TotalCurrency 0
        
        //     TFBot
        //     {
        //         Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
        //         Item "fists of steel"
        //         Name "Fists of Steel Heavy"
        //         ClassIcon heavy_steelfist
        //         Tag noflank
        //         Tag forcefollowbombpath	
        //     }
        //}

        WaveSpawn
        {
            Name "a3"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 14
            MaxActive 14
            SpawnCount 14
            WaitBeforeStarting 25
            WaitBetweenSpawns 0
            TotalCurrency 100
            
            TFBot
            {
                Template T_TFBot_Soldier_Conch // KEEP AS SHORT CONCH OR PLAYERS WILL BE OVERWHELMED
                CharacterAttributes
                {
                    "increase buff duration" 2
                }
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 0
            TotalCurrency 50
            TFBot
            {
                Name "Giant Pistol Engineer"
                Class Engineer
                ClassIcon scout_pistol_nys
                Scale 1.75
                Health 2500
                Action FetchFlag
                Attributes MiniBoss
                Attributes HoldFireUntilFullReload
                Skill Expert
                MaxVisionRange 900
                WeaponRestrictions SecondaryOnly
                Tag no_reprogram
                Tag bot_giant
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 7
                }
            }
        }
        WaveSpawn
        {
            Name "a3.2"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 0
            TotalCurrency 50
            TFBot
            {
                Name "Giant Pistol Engineer"
                Class Engineer
                ClassIcon scout_pistol_nys
                Scale 1.75
                Health 2500
                Action FetchFlag
                Attributes MiniBoss
                Attributes HoldFireUntilFullReload
                Skill Expert
                MaxVisionRange 900
                WeaponRestrictions SecondaryOnly
                Tag no_reprogram
                Tag bot_giant
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 7 // 5=Scout,3=Soldier,6=Pyro,4=Demoman,2=Heavy,7=Buster
                }
            }
        }
    }

    Wave // Wave 3
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_random_relay
            Action Trigger
        }

        WaveSpawn // Tank 35k HP
        {
            Name "tank"
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 0
            WaitBetweenSpawns 0
        
            TotalCurrency 150
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "boss_path_middle_1"
                Health 20000
                Speed 75
                Skin 0
                SpawnTemplate HomingTank
                ClassIcon tank_homing
                OnKilledOutput
                {
                    Target boss_dead*
                    Action Trigger
                }
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot_right
            TotalCount 24
            MaxActive 6
            SpawnCount 3
            WaitBeforeStarting 28
            WaitBetweenSpawns 2
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Sniper_Huntsman
                Skill Normal 
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot
            TotalCount 12
            MaxActive 6
            SpawnCount 6
            WaitBeforeStarting 28
            WaitBetweenSpawns 0
            TotalCurrency 75
        
            TFBot
            {
                Class Soldier 
                Skill Normal
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 8
            MaxActive 4
            SpawnCount 2
            WaitBeforeStarting 28
            WaitBetweenSpawns 5
            TotalCurrency 25
        
            TFBot
            {
                Class Soldier 
                Skill Normal
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1.3"
            Where spawnbot
            TotalCount 3
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 33
            WaitBetweenSpawns 25
            TotalCurrency 100
        
            TFBot
            {
                Class Soldier
                Name "Giant Shotgun Soldier"
                ClassIcon heavy_shotgun
                Skill Expert
                Health 4000
                Tag no_reprogram
                WeaponRestrictions SecondaryOnly
                Attributes HoldFireUntilFullReload
                Attributes MiniBoss
                Tag noflank
                Tag forcefollowbombpath
                Item "upgradeable tf_weapon_shotgun_primary"
                ItemAttributes
                {
                    Itemname "upgradeable tf_weapon_shotgun_primary"
                    "move speed bonus" 1.2
                }
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                }
            }
        }

        WaveSpawn
        {
            Name "a2"
            WaitForAllSpawned "a1"
            Where spawnbot_right
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 18
            WaitBetweenSpawns 18
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Giant_Pyro_Phlog
                Tag noflank
                Tag no_reprogram
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2.1"
            WaitForAllSpawned "a1"
            Where spawnbot
            TotalCount 27
            MaxActive 9
            SpawnCount 9
            WaitBeforeStarting 15
            WaitBetweenSpawns 6
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Demoman
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2.2"
            WaitForAllSpawned "a1"
            Where spawnbot_right
            TotalCount 8
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 15
            WaitBetweenSpawns 0
            TotalCurrency 150
            Squad 
            {
                TFBot
                {
                    Template T_TFBot_Heavy_IronFist_Airblast
                    BehaviorModifiers Push 
                    Tag noflank
                    Tag forcefollowbombpath
                }

                TFBot
                {
                    Template T_TFBot_Medic_Shield
                    Tag bot_squad_member
                    Tag noflank
                    Tag forcefollowbombpath
                    ClassIcon medic_shield_lite
                }
            }
        }

        WaveSpawn
        {
            Name "a3"
            WaitForAllSpawned "a2.1"
            Where spawnbot_left
            TotalCount 10
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 16
            WaitBetweenSpawns 18
            TotalCurrency 100
            Squad 
            {
                TFBot
                {
                    Template T_TFBot_Giant_Heavyweapons
                    Skill Hard
                    Tag no_reprogram
                    MaxVisionRange 800
                }

                TFBot
                {
                    Template T_TFBot_Medic
                    Tag bot_squad_member
                    Tag no_reprogram
                }

                TFBot
                {
                    Template T_TFBot_Medic
                    Tag bot_squad_member
                    Tag no_reprogram
                }

                TFBot
                {
                    Template T_TFBot_Medic
                    Tag bot_squad_member
                    Tag no_reprogram
                }

                TFBot
                {
                    Template T_TFBot_Medic
                    Tag bot_squad_member
                    Tag no_reprogram
                }
            }
        }

        WaveSpawn
        {
            Name "a3.2"
            WaitForAllSpawned "a2.1"
            Where spawnbot
            TotalCount 18
            MaxActive 9
            SpawnCount 3
            WaitBeforeStarting 0
            WaitBetweenSpawns 7
            TotalCurrency 100
            Support Limited
            TFBot
            {
                Template T_TFBot_Scout_Cola
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2.1"
            Where spawnbot
            Where spawnbot_right
            TotalCount 30
            MaxActive 6
            SpawnCount 4
            WaitBeforeStarting 16
            WaitBetweenSpawns 5
            TotalCurrency 100
            Support Limited
            TFBot
            {
                Template T_TFBot_Soldier_RocketShotgun
                Tag noflank
                Tag forcefollowbombpath
            }
        }
    }

    Wave // Wave 4
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_random_relay
            Action Trigger
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot
            TotalCount 20
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 5
            WaitBetweenSpawns 0.5
            TotalCurrency 100
            Squad 
            {
                TFBot
                {
                    Class Soldier 
                    Skill Expert 
                    Tag noflank
                    Tag forcefollowbombpath
                }

                TFBot
                {
                    Template T_TFBot_Medic_Kritz
                }
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 4
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 10
            WaitBetweenSpawns 20
            TotalCurrency 100
            RandomSpawn 1
            TFBot
            {
                Template T_TFBot_Giant_Scout_Baseball
                Tag noflank
                Tag forcefollowbombpath
                Tag no_reprogram
            }
        }

        WaveSpawn
        {
            Name "a1.2"
            Where spawnbot
            TotalCount 18
            MaxActive 9
            SpawnCount 9
            WaitBeforeStarting 0
            WaitBetweenSpawns 5
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Heavy_Deflector
                Skill Hard
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2"
            WaitForAllSpawned "a1"
            Where spawnbot
            TotalCount 2
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 27.5
            WaitBetweenSpawns 0
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Giant_Heavyweapons
                Tag noflank
                Tag forcefollowbombpath
                MaxVisionRange 800
                Tag no_reprogram
            }
        }

        WaveSpawn
        {
            Name "a2.1"
            WaitForAllSpawned "a1"
            Where spawnbot
            TotalCount 15
            MaxActive 5
            SpawnCount 5
            WaitBeforeStarting 31.5
            WaitBetweenSpawns 0
            TotalCurrency 100
            TFBot
            {
                Template T_TFBot_Scout_Bonk_Scattergun
                Skill Easy
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2.2"
            WaitForAllSpawned "a1"
            Where spawnbot
            TotalCount 25
            MaxActive 10
            SpawnCount 5
            WaitBeforeStarting 25
            WaitBetweenSpawns 6
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Soldier_Buff_Banner
                Skill Normal 
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a3"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 30
            MaxActive 10
            SpawnCount 10
            WaitBeforeStarting 35
            WaitBetweenSpawns 4
            TotalCurrency 100
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Sniper_Bow_Burst
                    Classicon sniper_bow_burst2
                }

                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                    Tag bot_squad_member
                }
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 28
            MaxActive 8
            SpawnCount 4
            WaitBeforeStarting 35
            WaitBetweenSpawns 4
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Demoman_Knight	
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot
            Where spawnbot_left
            Where spawnbot_right
            TotalCount 3
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 30
            WaitBetweenSpawns 18
            TotalCurrency 100
            RandomSpawn 1
            TFbot
            {
                Template T_TFBot_Giant_Soldier_Spammer
                Tag no_reprogram
            }
        }
    }

    Wave // Wave 5
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_random_relay
            Action Trigger
        }

        WaveSpawn
        {
            Name "a1"
            Where spawnbot
            TotalCount 4
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 0
            TotalCurrency 200
            Squad 
            {
                TFBot
                {
                    Name "Giant Sticky Demo"
                    Class Demoman
                    ClassIcon demo_sticky_daan_giant
                    Scale 1.7
                    Health 3300
                    Tag no_reprogram
                    Attributes MiniBoss
                    Attributes HoldFireUntilFullReload
                    Attributes AlwaysCrit
                    Skill Expert
                    MaxVisionRange 1500
                    WeaponRestrictions SecondaryOnly
                    
                    Item "Bomb Beanie"
                    Item "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"
                    ItemAttributes
                    {
                        ItemName "TF_WEAPON_GRENADELAUNCHER"
                        "is_passive_weapon"    1
                        "override projectile type"    27 // Fires nothing
                        "fire rate penalty" 99
                    }
                    ItemAttributes
                    {
                        ItemName  "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"
                        "stickybomb charge rate"     0.001 
                        "max pipebombs decreased"    -7 
                        "projectile range increased" 0.55 
                        "fire rate bonus" 0.5
                        "faster reload rate" 0.5
                    } 
                    CharacterAttributes
                    {
                        "move speed bonus" 0.5
                        "damage force reduction" 0.4
                        "airblast vulnerability multiplier" 0.4
                        "override footstep sound set" 7 
                    }
                    Tag noflank
                    Tag forcefollowbombpath
                }

                TFBot
                {
                    Template T_TFBot_Giant_Medic_Regen
                    Tag bot_squad_member
                    Tag no_reprogram
                    Attributes IgnoreEnemies
                }
            }
        }

        WaveSpawn
        {
            Name "a1.1"
            Where spawnbot
            TotalCount 30
            MaxActive 8
            SpawnCount 2
            WaitBeforeStarting 8
            WaitBetweenSpawns 3
            TotalCurrency 100
        
            TFBot
            {
                Class Scout 
                Skill Normal
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a1.2"
            Where spawnbot
            TotalCount 18
            MaxActive 6
            SpawnCount 6
            WaitBeforeStarting 1
            WaitBetweenSpawns 0
            TotalCurrency 50
        
            TFBot
            {
                Template T_TFBot_Heavy_Brass
                Skill Normal 
            }
        }

        WaveSpawn
        {
            Name "a2"
            WaitForAllSpawned "a1"
            Where spawnbot
            TotalCount 24
            MaxActive 12
            SpawnCount 6
            WaitBeforeStarting 28
            WaitBetweenSpawns 12
            TotalCurrency 100
            
            TFBot
            {
                Template T_TFBot_Pyro
                Skill Easy
                CharacterAttributes
                {
                    "airblast disabled" 1
                }
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2.1"
            WaitForAllSpawned "a1"
            Where spawnbot_left
            TotalCount 12
            MaxActive 4
            SpawnCount 4
            WaitBeforeStarting 35
            WaitBetweenSpawns 12
            TotalCurrency 50
 
            TFBot
            {
                Template T_TFBot_Scout_Pistol
                Skill Hard
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a2.2"
            WaitForAllSpawned "a1"
            Where spawnbot_right
            TotalCount 3
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 26
            WaitBetweenSpawns 24
            TotalCurrency 200
        
            TFBot
            {
                Template T_TFBot_Giant_Soldier_BurstFire_NoCrit
                Attributes AlwaysCrit
            }
        }

        WaveSpawn // Tank 30k HP
        {
            Name "tank"
            WaitForAllSpawned "a2"
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 0
        
            TotalCurrency 200
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "boss_path_middle_1"
                Health 30000
                Speed 60
                Skin 0
                SpawnTemplate HomingTank
                ClassIcon tank_homing
                OnKilledOutput
                {
                    Target boss_dead*
                    Action Trigger
                }
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }

        WaveSpawn
        {
            Name "a3"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 18
            MaxActive 12
            SpawnCount 3
            WaitBeforeStarting 25
            WaitBetweenSpawns 6
            TotalCurrency 100
        
            TFBot
            {
                Template T_TFBot_Heavyweapons_Heavyweight_Champ_Fast
                Item "fists of steel"
                Name "Fists of Steel Heavy"
                ClassIcon heavy_steelfist
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "supp"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 75
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 4
            TotalCurrency 100
            Support 1
            TFBot
            {
                Class Soldier 
                Skill Normal 
            }
        }

        WaveSpawn
        {
            Name "supp"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 55
            MaxActive 3
            SpawnCount 3
            WaitBeforeStarting 40
            WaitBetweenSpawns 0
            TotalCurrency 100
            Support 1
            TFBot
            {
                Template T_TFBot_Heavyweapons_Shotgun
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot_right
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 35
            TotalCurrency 200
        
            TFBot
            {
                Name "Giant Laser Soldier"
                Class Soldier 
                ClassIcon soldier_mangler_hyper
                Scale 1.7
                Health 4000
                Tag no_reprogram
                Attributes MiniBoss
                Attributes HoldFireUntilFullReload
                Skill Hard
                MaxVisionRange 1000
                WeaponRestrictions SecondaryOnly
                AimLeadProjectileSpeed 1
                Tag bot_giant
                Item "The Cow Mangler 5000"
                Item "Lord Cockswain's Pith Helmet"
                Item "The Righteous Bison"
                ItemAttributes
                {
                    ItemName "The Cow Mangler 5000"
                    "is_passive_weapon" 1
                    "fire rate penalty" 999
                    "override projectile type" 27
                }
                ItemAttributes
                {
                    ItemName "The Righteous Bison"
                    "override projectile type" 13
                    "energy weapon penetration" 1
                    "faster reload rate" 0.52
                    "fire rate bonus" 0.15
                    "clip size bonus upgrade" 8
                    "custom item model" "models\weapons\c_models\c_drg_cowmangler\c_drg_cowmangler.mdl"
                }
                CharacterAttributes
                {
                    "move speed bonus" 0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3 
                }
                Action Mobber
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "a3.1"
            WaitForAllSpawned "a2"
            Where spawnbot
            TotalCount 4
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 25
            WaitBetweenSpawns 16
            TotalCurrency 200
        
            TFBot
            {
                Template T_TFBot_Giant_Demo_Burst
                Attributes AlwaysCrit
                Tag no_reprogram
                BehaviorModifiers Push
            }
        }
    }

    Wave // Wave 6
    {
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        InitWaveOutput
        {
            Target bombpath_choose_middle_or_right_relay
            Action Trigger
        }
        
        SpawnTemplate Music_Template
        SpawnTemplate boss_intro
        SpawnTemplate flag
        SpawnTemplate flagdetschizo
        // SpawnTemplate timer_phase3
        // SpawnTemplate boss_tutorial

        Explanation
        {
            Line "{red}WARNING: MAX CHARGE TITAN INCOMING. DEPLOYING {yellow}THE IRON BUNDLE"
            Line "{green}RED Engineers may spawn during the wave!"
            Line "{BLUE}The Bolshiviek's Commanding Shout now grants Full Crits!"
        }

        WaveSpawn 
		{
			WaitBeforeStarting 0
			TotalCount 1		
			Support limited
			FirstSpawnOutput
			{
				Target add_bonuses
				Action AddOutput
                Param "OnStartTouch !activator:$AddCond:33:0:-1"
			}	
		}
        WaveSpawn 
		{
			WaitBeforeStarting 0
			TotalCount 1		
			Support limited
			FirstSpawnOutput
			{
				Target add_bonuses
				Action AddOutput
                Param "OnStartTouch !activator:$RemoveCond:33:5:-1"
			}	
		}
        WaveSpawn 
		{
			WaitBeforeStarting 0
			TotalCount 1		
			Support limited
			FirstSpawnOutput
			{
				Target add_bonuses
				Action AddOutput
                Param "OnStartTouch !activator:$RemoveCond:19:0:-1"
			}	
		}

        WaveSpawn // Dummy
        {
            TotalCount 1
            SpawnCount 1
            WaitBeforeStarting 8.5
            StartWaveMessage "{yellow}Now Playing: {58D70B}The Unseen Ones - Hades OST"
            Support Limited 
            TFBot
            {
                ClassIcon red2_lite
            }
        }

        WaveSpawn // just chillin 3
		{
			WaitBeforeStarting 0
			TotalCount 1		
			Support limited
			FirstSpawnOutput
			{
				Target w2_theme_start
				Action Trigger
			}	
		}

        WaveSpawn // just chillin 3
		{
			WaitBeforeStarting 0
			TotalCount 1		
			Support limited
			FirstSpawnOutput
			{
				Target gauntlet*
				Action Enable
			}	
		}

        WaveSpawn // Dummy
        {
            TotalCount 1
            SpawnCount 1
            WaitBeforeStarting 2
        
            FirstSpawnWarningSound "vo\mvm\norm\heavy_mvm_domination06.mp3"
            Support Limited 
        }

        WaveSpawn
        {
            Name "1"
            Where spawnbot
            TotalCount 200
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 10
            WaitBetweenSpawns 5
            TotalCurrency 900
            Support 1
            TFBot
            {
                Template T_TFBot_Scout_Sandman_FastCharge
                Tag noflank
                Attributes AlwaysCrit
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "1"
            Where spawnbot
            TotalCount 200
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 10
            WaitBetweenSpawns 5
            TotalCurrency 900
            Support 1
            TFBot
            {
                Class Heavyweapons
                Skill Normal
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "2"
            Where spawnbot
            TotalCount 200
            MaxActive 2
            SpawnCount 2
            WaitBeforeStarting 30
            WaitBetweenSpawns 18
            TotalCurrency 900
            Support 1
            TFBot
            {
                Template T_TFBot_Sniper_Huntsman
                Tag noflank
                Attributes AlwaysCrit
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "3"
            Where spawnbot
            TotalCount 200
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 20
            WaitBetweenSpawns 18
            TotalCurrency 900
            Support 1
            TFBot
            {
                Class Soldier 
                Skill Normal 
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "3"
            Where spawnbot
            TotalCount 200
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 20
            WaitBetweenSpawns 18
            TotalCurrency 900
            Support 1
            TFBot
            {
                Class Pyro
                Skill Expert
                Attributes AlwaysFireWeapon
                CharacterAttributes
                {
                    "airblast disabled" 1
                }
                Tag noflank
                Tag forcefollowbombpath
            }
        }

        WaveSpawn
        {
            Name "red_suprise"
            Where gauntlet_1
            Where gauntlet_2
            Where gauntlet_3
            TotalCount 999
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 10
            WaitBetweenSpawns 4
            TotalCurrency 0
            Support 1
            HideIcon 1
            RandomChoice
            {
                TFBot
                {
                    Template T_TFBot_Engineer_Sentry_Teleporter
                    Class Engineer
                    Tag no_reprogram
                    ClassIcon engineer_ally
                    ExtAttr BuildDispenserAsTeleporter
                    Item "Battery Canteens"
                    ItemAttributes
                    {
                        ItemName "Battery Canteens"
                        "building instant upgrade" 1
                        "powerup charges" 1
                    }
                    FireWeapon [$SIGSEGV]  //Periodically fires weapon
                    {
                        Delay 5
                        Cooldown 8
                        Repeats 0 
                        Duration 0.5 
                        Type "Action" 
                    }
                    AddCond
                    {
                        Index 57
                        Duration 7.5
                    }
                    AlwaysGlow 1
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                        "engy dispenser radius increased" 4
                        "engy building health bonus" 5
                        "engy dispenser radius increased" 40
                    }
                }

                TFBot
                {
                    Template T_TFBot_Medic
                    WeaponRestrictions SecondaryOnly
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                }

                TFBot
                {
                    Class Heavyweapons
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Pyro
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Demoman
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Soldier
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Heavyweapons
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Pyro
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Demoman
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Soldier
                    Action Mobber
                     
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                }

                TFBot
                {
                    Class Heavyweapons
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Pyro
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Demoman
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Soldier
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Heavyweapons
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Pyro
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Demoman
                    Action Mobber
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                }

                TFBot
                {
                    Class Soldier
                    Action Mobber
                     
                    Skill Expert 
                    Tag no_reprogram
                    AddCond
                    {
                        Index 43
                    }
                    CharacterAttributes
                    {
                        "voice pitch scale" 0
                        "collect currency on kill" 1
                    }
                }
            }
        }

        WaveSpawn
        {
            Name "minion"
            Where carrier
            TotalCount 100
            MaxActive 3
            SpawnCount 1
            WaitBeforeStarting 30
            WaitBetweenSpawns 12
            TotalCurrency 100
            Support 1
            TFBot 
            {
                Template T_TFBot_Heavyweapons_Fist
            }
        }

        WaveSpawn
        {
            Name "boss"
            Where boss
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 8.5
            WaitBetweenSpawns 0
            TotalCurrency 0
            FirstSpawnOutput
            {
                Target setparent_relay
                Action Trigger
            }
            TFBot
            {
                Name "Iron Bundle"
                Class Heavyweapons
                ClassIcon soldier_shako_pierce_lite
                Scale 3
                Health 200000
            
                Attributes MiniBoss
                Attributes UseBossHealthBar
                Attributes DisableDodge
                Attributes SuppressFire
                Skill Expert
                MaxVisionRange 1800
                aimtrackinginterval 0
                Action Mobber
                //UseMeleeThreatPrioritization 1
                //BehaviorModifiers Push 
                Item "Steel Shako"
                Item "Bull Locks"
                Item "Gloves of Running Urgently MvM"
                //Item "Taunt: The Proletariat Showoff"
                SpawnTemplate warhawk_heavy
                Tag bot_giant
                Tag is_chief
                Tag no_reprogram
                UseHumanAnimations 1
                //tutorial
                // FireInput
                // {
                //     Target tutorial_script
                //     Action Trigger
				// 	Delay 0.5
				// 	Cooldown 1 
				// 	Repeats 1
				// 	IfHealthBelow 80001
				// }
                //phase2
                // FireInput [$SIGSEGV] 
				// {
				// 	Target activate_phase2
				//     Action Trigger
				// 	Delay 0
				// 	Cooldown 1 
				// 	Repeats 1
				// 	IfHealthBelow 50000
				// }
                // AddCond [$SIGSEGV] //Adds conditions to bots
				// {
				// 	Index 57
				// 	Delay 0.05
				// 	Duration 10
				// 	IfHealthBelow 50000
				// }
                // AddCond [$SIGSEGV] //Adds conditions to bots
				// {
				// 	Index 71
				// 	Delay 0.05
				// 	Duration 2.5
				// 	IfHealthBelow 50000
				// }
                // Taunt 
                // {
                //     Delay 3.5
                //     Repeats 1
                //     IfHealthBelow 50000
                //     Name "Taunt: The Proletariat Showoff" 
                // }
                //phase3
                // FireInput [$SIGSEGV] 
				// {
				// 	Target activate_phase3
				//     Action Trigger
				// 	Delay 0
				// 	Cooldown 1 
				// 	Repeats 1
				// 	IfHealthBelow 25000
				// }
                // AddCond [$SIGSEGV] //Adds conditions to bots
				// {
				// 	Index 57
				// 	Delay 0.05
				// 	Duration 10
				// 	IfHealthBelow 25000
				// }
                // AddCond [$SIGSEGV] //Adds conditions to bots
				// {
				// 	Index 71
				// 	Delay 0.05
				// 	Duration 2.5
				// 	IfHealthBelow 25000
				// }
                // Taunt 
                // {
                //     Delay 3.5
                //     Repeats 1
                //     IfHealthBelow 25000
                //     Name "Taunt: The Proletariat Showoff" 
                // }
                FireWeapon [$SIGSEGV]  
                {
                    Delay 0.1
                    Cooldown 0.1
                    Repeats 0 
					IfSeeTarget 1 
                    Duration 999
					Type "Secondary" 
				}
                FireWeapon [$SIGSEGV]  
                {
                    Delay 1
                    Cooldown 5
                    Repeats 0 
					IfSeeTarget 1 
                    Duration 3
					Type "Primary" 
				}
                ItemAttributes
                {
                    Itemname "TF_WEAPON_MINIGUN"
                    "fire rate bonus" 0.2
                    "bullets per shot bonus" 0.25
                    "weapon spread bonus" 0.5
                    "damage penalty" 0.75
                    "dmg bonus vs buildings" 1.5
                    "mult dmg vs giants" 5
                    "mult crit dmg" 0.45
                    "dmg pierces resists absorbs" 1
                }
                ItemAttributes
                {
                    Itemname "Gloves of Running Urgently MvM"
                    "self mark for death" 0
                }
                CharacterAttributes
                {
                    "move speed bonus" 0.35
                    "damage force reduction" 0
                    "cancel falling damage" 1
                    "airblast vulnerability multiplier" 0
                    "always allow taunt" 1
                    "no_jump" 1
                    "rage giving scale" 0.15
                    "blast dmg to self increased" 0
                    //"voice pitch scale" 0
                    "no self effect" 1
                    "cannot pick up intelligence" 1
                    "stomp building damage" 26532
                    "mult stun resistance" 0 
                    "deploy time decreased" 0.2
                    //"dmg from melee increased" 3
                    "not solid to players" 1
                }	
            }
        }
    }
}