#base robot_giant.pop
#base robot_standard.pop
#base custom_weapons_randomguy.pop
#base overclock_cactus_general.pop


//amalgamated, unyeilding, everlasting, eternal
//Null mission 2 of 2
//Advanced (expert) Difficulty, Endurance
//Made by Package O Lies

//spawnbot
//spawnbot_alley
//spawnbot_jeep
//spawnbot_left

//skybox_skyfire
//skybox_skyfall
//silence
//harvester
//skybox_square
//skybox_piercers
//skybox_theyhunger
//smoke

WaveSchedule
{
	StartingCurrency	2300
	RespawnWaveTime	5
	CanBotsAttackWhileInSpawnRoom	no
	FixedRespawnWaveTime	no
	AddSentryBusterWhenDamageDealtExceeds	3000
	AddSentryBusterWhenKillCountExceeds	20
	WaveStartCountdown 7
	BodyPartScaleSpeed 10
	Advanced	1
	NoRomevisionCosmetics 1 
	AllowBotExtraSlots 1
	Robotlimit 50 //hehehehehehehe
	MaxEntitySpeed 10000
	TextPrintTime 0 			
	
	//CustomNavFile mvm_null_b9a_fixed [$SIGSEGV]
	
	
	
	//LuaScriptFile "scripts/eternal_attempt1.lua"
	//LuaScriptFile "scripts/killeveryoneandleave.lua"
	
	
	PrecacheModel "models/bots/boss_bot/boss_tank_ubered.mdl"			
	PrecacheModel "models/weapons/c_models/c_critbanner/c_critbanner.mdl"
	//PrecacheModel "models\bots\demo_boss\bot_demo_boss_gibby.mdl"
	//PrecacheModel "models/bots/skangus_event_boss/bot_demo_boss_mega.mdl"  
	PrecacheModel "models/props_mvm/robot_hologram_color.mdl"
	PrecacheModel "models/props_tumb/mvm/tank_shield.mdl"
	
	
	//PrecacheParticle "pipebombtrail_green"
	PrecacheParticle "punch_wrath_damagedenied"
	PrecacheParticle "punch_wrathparticle"
	
   
	
	PrecacheSound "whiteordeal_start.mp3"
	PrecacheSound "whiteordeal_end.mp3"
	PrecacheSound "1_eternal.mp3"
	PrecacheSound "1_dark_fantasy_scene.mp3"
	PrecacheSound "phase_change_corrupt_lob.mp3"
	
	SpawnTemplate "Ubertank"    
	SpawnTemplate	NoMannPower
	SpawnTemplate "powerup_logic_bonk_logic"
	SpawnTemplate "DawnOrdealStart"
	SpawnTemplate "DawnOrdealEnd"
	SpawnTemplate "NoonOrdealStart"
	SpawnTemplate "NoonOrdealEnd"
	SpawnTemplate "DuskOrdealStart"
	SpawnTemplate "DuskOrdealEnd"
	SpawnTemplate PT_ColoredHolograms
	SpawnTemplate "MidnightOrdealStart"
	SpawnTemplate "MidnightOrdealEnd"
	SpawnTemplate annotations
	//SpawnTemplate "torturedsouls" it was too fucking goofy holy shit
	
	Templates
	{
		T_TFBot_Soldier_Critbanner
        {
            Class Soldier
            ClassIcon soldier_critbuff
            Name "Fallen Superbuff Banner Soldier"
			Skill Expert
			WeaponRestrictions PrimaryOnly
			Attributes SpawnWithFullCharge
			Item	"The Hellmet"
			Item "powerhouse_rocketlauncher_shellshocker"
			ItemAttributes
			{
				ItemName "powerhouse_rocketlauncher_shellshocker"
				"set_item_texture_wear" 0
			}
			CharacterAttributes
			{
				"deploy time increased" 0.5 
				"increase buff duration"	9.0
			}
            Item "The Buff Banner"
            ItemAttributes
            {
                ItemName "The Buff Banner"
                "custom item model" "models/weapons/c_models/c_critbanner/c_critbanner.mdl"
				"effect cond override" 33
            }
        }
		T_TFBot_Pyro_Hyper
		{
			Class Pyro
			Name "Fallen Hyper Pyro"
			Skill Expert
			Attributes AlwaysCrit
			ClassIcon pyro_hyper_lite
			Item "The Moonman Backpack"
			Item "The Hellmet"
			ItemAttributes 
			{
				ItemName "TF_WEAPON_FLAMETHROWER"
				"damage bonus"	2.5
			}
			CharacterAttributes
			{
				"move speed bonus"	1.5
			}
		}
		T_TFBot_Giant_Demo_Barrage
		{
			Class Demoman
			Name "Fallen Rainmaker"
			ClassIcon demo_scatter
			Scale 1.8
			Skill Expert
			Health 3500
			Attributes MiniBoss
			tag bot_giant
			Item "Glengarry Bonnet"
			WeaponRestrictions PrimaryOnly
			Attributes HoldFireUntilFullReload
			Item "gentlemanne_grenadelauncher_topshelf"
			ItemAttributes
			{
				ItemName "gentlemanne_grenadelauncher_topshelf"
				"damage Bonus" 1.42
				"clip size upgrade atomic" 26
				"faster reload rate" 0.22
				"fire rate bonus" 0.3
				"projectile spread angle penalty" 5
			}
			CharacterAttributes
			{
				"move speed bonus"	0.5
				"damage force reduction" 0.5
				"airblast vulnerability multiplier" 0.5
				"override footstep sound set" 4
			}
				
		}
		T_TFBot_Giant_Heavyweapons_LaserRocket	// By Randomguy, used in gay porn ages ago
		{
			Name "Fallen Giant Rocket Beam Heavy"
			Class Heavyweapons
			ClassIcon heavy_atomic_rocket
			Skill Expert
			Health 5000
			Attributes MiniBoss
			WeaponRestrictions PrimaryOnly
			MaxVisionRange 1200
			Item "the mk 50"

			CharacterAttributes
			{
				"move speed bonus" 0.5
				"damage force reduction" 0.3
				"airblast vulnerability multiplier" 0.3
				"override footstep sound set" 2
			}

			ItemAttributes
			{
				ItemName TF_WEAPON_MINIGUN
				"attach particle effect" 704
				"override projectile type" 13
				"energy weapon penetration" 1
				"dmg bonus vs buildings" 4
				"dmg penalty vs players" 2
			}

			ItemAttributes
			{
				ItemName TF_WEAPON_SHOTGUN_HWG
				"override projectile type" 2
				"mini rockets" 1
				"damage bonus" 12
				is_passive_weapon 1
				"Projectile speed decreased" 0.3
				"faster reload rate" -1
			}
		}
		T_TFBot_Medic_Kritz
		{
			Name "Fallen Kritz Medic"
			Class Medic
			ClassIcon medic_kritz
			Skill Expert
			Attributes SpawnWithFullCharge
			Item "Flatliner"
			Item "The Kritzkrieg"
			Item "The Overdose"
			
			ItemAttributes
			{
				ItemName "The Kritzkrieg"
				"ubercharge rate bonus" 100
				"uber duration bonus" 92
			}
			
			CharacterAttributes
			{
				"bot medic uber health threshold" 69420
			}
		}
	}
	ItemAttributes   //Prevents demo boss' stickies from being destroyed.
	{
		ItemName "The Scottish Resistance"
		"stickies detonate stickies" 0
	}
	ItemAttributes   //Prevents demo boss' stickies from being destroyed.
	{
		ItemName "The Quickiebomb Launcher"
		"stickies detonate stickies" 0
	}
	
	
	PointTemplates
    {
		Ubertank //Yoinked from Hell-Met
		{
			NoFixup 1
			logic_relay //relay that disables damage to tanks named "ubertank1"
			{
				"targetname" "tank_uber_on"
				"OnTrigger" "ubertank,SetDamageFilter,filter_yes,0,-1"
			}
			logic_relay // relay that enables damage to tanks named "ubertank1"
			{
				"targetname" "tank_uber_off"
				"OnTrigger" "ubertank,SetDamageFilter,filter_red,0,-1"
				"OnTrigger" "ubertank,Skin,0,0,-1"
			}
			filter_activator_name
			{
				"filtername" "absolutely"
				"Negated" "0"
				"targetname" "filter_yes"
			}
		}
		LaserOnAim
		{
			OnSpawnOutput
			{
				Target "popscript"
				Action "$LaserOnAim"
				Delay 0.01
			}
		}
		PlayerSpawnTemplate 
		{
			Name LaserOnAim
		}
		distort //Yoinked from Yoovy
		{
			OnSpawnOutput
			{
				Target "!activator"
				Action "addoutput"
				Param "renderfx 15"
			}
		}
		NoMannPower
        {
            NoFixup 1
            logic_timer
            {
                "targetname" "mannpower_kill"
                "RefireTime" "0.01"
                "spawnflags" "0"
                "UseRandomTime" "0"
                "OnTimer" "item_powerup_rune,kill,,0,-1"
            }
        }
		powerup_logic_bonk_logic //Yoinked from Riles, formerly known as Jurrel
        {
            NoFixup 1
            logic_timer
            {  
                "targetname"    "regen_fix_timer"
                "RefireTime"    "0.1"
				"spawnflags"    "0"
				"StartDisabled" "0"
				"UseRandomTime" "0"
                "OnTimer"       "regen_fix,Toggle,,0,-1"
                "OnTimer"       "regen_fix2,Toggle,,0,-1"
            }
            trigger_multiple
			{
				"targetname" "regen_fix"
				"spawnflags" "1"
                "StartDisabled" "0"
				"mins" "-2880 -5000 -1800"
				"maxs" "2880 5000 1800"
				"origin" "600 4500 1200"
                "filtername" "filter_regencond"
                "OnStartTouch" "!activator,$AddPlayerAttribute,health regen|1000,0,-1"       
			}
            trigger_multiple
			{
				"targetname" "regen_fix2"
				"spawnflags" "1"
                "StartDisabled" "0"
				"mins" "-2880 -5000 -1800"
				"maxs" "2880 5000 1800"
				"origin" "600 4500 1200"
                "filtername" "filter_noregencond"
                "OnStartTouch" "!activator,$RemovePlayerAttribute,health regen,0,-1"
			}
            filter_tf_condition
			{
				"targetname" "filter_regencond"
				"condition" "92"
			}
            filter_multi
			{
				"targetname" "filter_scoutnoregen"
				"filter01" "filter_regenscout"
				"filter02" "filter_noregencond"
			}
            filter_tf_condition
			{
				"targetname" "filter_noregencond"
				"condition" "92"
                "Negated" "1"
			}
            filter_tf_bot_has_tag
			{
				"Negated" "0"
				"require_all_tags" "1"
				"tags" "bot_regenscout"
				"targetname" "filter_regenscout"
			}
        }
		PT_ColoredHolograms //Yoinked from Seelpit
		{
			logic_relay
			{
				"OnSpawn" "robot_hologram*,$SetModel,models/props_mvm/robot_hologram_color.mdl,0,-1"
				"OnSpawn" "robot_hologram*,$setkey$color,100 100 100,0,-1"
			}
		}
		logic
		{
			NoFixup 1
            logic_auto
            {
                "OnMapSpawn" "tf_objective_resource,$SetClientProp$m_iszMvMPopfileName,(exp) 0,0,-1"
                "OnMapSpawn" "demobosstargetname,AddOutput,targetname yes,1,-1"
            }
		}
		DemoBossEntities
        {
            NoFixup 1
			OnSpawnOutput
			{
				Target "!activator"
				Action "AddOutput"
				Param "targetname demobosstargetname"
			}
			env_shake
            {
                "targetname" "nukestickies_shaker"
                "amplitude" "45"
                "radius" "4000"
                "duration" "2"
                "frequency" "120"
            }
			info_particle_system
            {
                "origin" "0 0 100"
                "targetname" "phasechangeparticle"
                "start_active" "0"
                "flag_as_weather" "0"
                "effect_name" "punch_wrath_damagedenied"
            }
			ambient_generic
            {
                "targetname" "phasechangesound"
                "message" "misc\halloween\spell_meteor_cast.wav"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			ambient_generic
            {
                "targetname" "ragecorrupted1"
                "message" "phase_change_corrupt_lob.mp3"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			ambient_generic
            {
                "targetname" "ragecorrupted2"
                "message" "phase_change_corrupt_lob.mp3"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			ambient_generic
            {
                "targetname" "ragecorrupted3"
                "message" "phase_change_corrupt_lob.mp3"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			ambient_generic
            {
                "targetname" "kablooey"
                "message" "weapons\det_pack_timer.wav"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
            ambient_generic
            {
                "targetname" "kablooey_2"
                "message" "misc\doomsday_missile_explosion.wav"
               "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			ambient_generic
            {
                "targetname" "kablooey_3"
                "message" "misc\doomsday_missile_explosion.wav"
                "health" "10"
                "radius" "2100"
                "spawnflags" "49"
                "origin" "0 0 100"
            }
			logic_relay
            {
                "targetname" "demophase2_start"
                "ontrigger" "demobosstargetname,$AddCond,52,0.1,-1"
                "ontrigger" "phasechangeparticle,Start,0,0,-1"
                "ontrigger" "phasechangeparticle,Stop,0,5,-1"
                "ontrigger" "phasechangesound,PlaySound,0,0,-1"
                "ontrigger" "phasechangesound,StopSound,0,10,-1"
				"ontrigger" "ragecorrupted1,PlaySound,0,0,-1"
				"ontrigger" "ragecorrupted1,StopSound,0,10,-1"
				"ontrigger" "ragecorrupted2,PlaySound,0,0,-1"
				"ontrigger" "ragecorrupted2,StopSound,0,10,-1"
				"ontrigger" "ragecorrupted3,PlaySound,0,0,-1"
				"ontrigger" "ragecorrupted3,StopSound,0,10,-1"
                "ontrigger" "demobosstargetname,$RemoveCond,52,1.5,-1"
                "ontrigger" "!activator,$ChangeAttributes,demophase2,0,-1"
            }
		}
		nukerdemoparticleandshits
        {
            OnSpawnOutput
            {
                Target judgement
                Action Trigger
                Delay 0.017
            }
            OnParentKilledOutput
			{
				Target "nukestickies_boomrelay"
				Action "trigger"
				Delay 0.00
				Param 1
			}
			logic_relay
            {
                "targetname" "nukestickies_boomrelay"
                "ontrigger" "nukestickies_shaker,StartShake,0,0,-1"
                "ontrigger" "!self,Kill,0,0.5,-1"
            }
            OnSpawnOutput
            {
                Target "boss_about_to_blow"
                Action Start
                Delay 4
            }
            
            logic_relay
            {
                "targetname" "judgement"
                "ontrigger" "kablooey,PlaySound,0,2.5,-1"
                "ontrigger" "kablooey,PlaySound,0,5.5,-1"
                "ontrigger" "kablooey,PlaySound,0,7,-1"
                "ontrigger" "kablooey,PlaySound,0,7.75.,-1"
                "ontrigger" "kablooey,PlaySound,0,8.125.,-1"
                "ontrigger" "kablooey,PlaySound,0,8.3125.,-1"
                "ontrigger" "kablooey,PlaySound,0,8.390625.,-1"
                "ontrigger" "kablooey,PlaySound,0,8.453125.,-1"
				"ontrigger" "nukestickies_shaker,StartShake,0,8.5,-1"
				"onTrigger" "kablooey_2,PlaySound,,8.5,1"
				"onTrigger" "kablooey_3,PlaySound,,8.5,1"
            }
            
            info_particle_system
            {
                "targetname" "boss_about_to_blow"
                "origin" "0 0 0"
                "angles" "-90 0 0"
                "effect_name" "charge_up"
            }
            tf_glow
            {
                "GlowColor" "0 255 255 155"
                "target" "!parent"
                "startdisabled" "0"
            }
            obj_sentrygun //obj_teleporter
            {
                "targetname" "nuker_hitbox"
                "origin" "0 0 0"
                "angles" "0 0 0"
                "solid" "6"
                "modelscale" "3.1"
                "DisableShadows" "1"
                "TeamNum" "3"
                "health" "2750"
                "defaultupgrade" "2"
                "rendermode" "10" //10
                "renderamt" "0" //0
                "SolidToPlayer" "0"
				"SolidToPlayers" "0"
                "damagefilter" "filter_red"
                //"OnDestroyed" "!parent:kill:0:0:-1,0,-1"
                "OnDamaged" "player,$DisplayTextCenter,$$=test(!caller.m_iHealth>1,'Nuke HP: '..string(max(!caller.m_iHealth, 0)),''),0,-1"
				"OnDamaged" "!parentRunScriptCodetry{if(caller.GetHealth()<1){self.Kill()}}catch(e){}0-1"
                //"CollisionGroup" "20"
            } 
            // OnSpawnOutput
            // {
            //     Target "!parent"
            //     "action" "$SetCollisionFilter"
            //     "param" "filter_is_blu_engi"
            // }
            OnSpawnOutput
            {
                Target "!parent"
                "action" "$SetProp$m_CollisionGroup"
                "param" "1"
                "delay" "0.1"
            }
            point_push
			{
				"targetname" "boss_push"
				"radius" "400"
				"magnitude" "1300"
				"innerradius" "400"
				"startdisabled" 1
				"spawnflags" 8
				"origin" "0 0 0"
			}
            trigger_multiple
            {
                "targetname" "excusemesir"
                "origin" "0 0 0"
                "mins" "-90 -90 -90"
                "maxs" "90 90 90"
                "spawnflags" "1"
                "filtername" "filter_is_red"
                "OnStartTouch" "!activatorRunScriptCodeself.ApplyAbsVelocityImpulse(Vector(0,0,700))0.2-1"
                "OnStartTouch" "nuker_hitbox,$SetProp$m_CollisionGroup,1,0,-1"
                "OnEndTouchAll" "nuker_hitbox,$SetProp$m_CollisionGroup,0,0.5,-1"
                "wait" "0.1"
                "StartDisabled" "0"
            }
            OnSpawnOutput
            {
                "target" "nuker_hitbox"
                "action" "$SetModelOverride"
                "param" "models\weapons\w_models\w_stickybomb.mdl"
                "delay" "0.1"
            }
            OnSpawnOutput
            {
                "target" "excusemesir"
                "action" "disable"
                "delay" "0.9"
            }
            OnSpawnOutput
            {
                "target" "boss_push"
                "action" "disable"
                "delay" "0.8"
            }
            OnSpawnOutput
            {
                "target" "nuker_hitbox"
                "action" "disable"
                "delay" "0.2"
            }
            OnSpawnOutput
            {
                "target" "nuker_hitbox"
                "action" "SetHealth"
                "param" "2750"
                "delay" "0.2"
            }
            OnSpawnOutput
            {
                "target" "nuker_hitbox"
                "action" "$SetCollisionFilter"
                "param" "filter_is_red"
                "delay" "0.1"
            }
            OnSpawnOutput
            {
                Target "nuker_hitbox"
                Action "AddOutput"
                Param "$OnDestroyed !parent:kill:0:0:-1,0,-1"
            }
            prop_dynamic
            {
                "model" "models/props_gameplay/cap_circle_768.mdl"
                "targetname" "nuke_range"
                "solid" "0"
                "skin" "2" //set to 0 for neutral, 1 for red, 2 for blu
                "origin" "0 0 50"
                "angles" "0 0 0"
                "StartDisabled" 0
                "modelscale" 2.1
                "$positiononly" 1
                "$modules" "fakeparent"
                "parentname" ""
                "$fakeparentoffset" "0 0 50"
            }
            OnSpawnOutput
            {
                Target "nuke_range"
                Action "$SetFakeParent"
                Param "nuker_hitbox"
            }
            OnSpawnOutput
            {
                Target "nuke_range"
                Action "$SetLocalAngles"
                Param "0 0 0"
                delay 0.2
            }
            OnParentKilledOutput
            {
                Target "nuke_range"
                Action "kill"
            }
            tf_glow
            {
                "GlowColor" "0 255 255 155"
                "target" "nuke_range"
                "startdisabled" "0"
            }

        }
		SpawnTemplate
		{
			Name "logic"
		}
		annotations
		{
			NoFixup 1
			logic_relay 
			{
				"targetname" "annotationrelay"
				"OnTrigger" "tankwarning,Show,,0,-1"
			}
			NoFixup 1
			training_annotation
			{
			  "targetname"   "tankwarning"
			  "parentname" 	 "ubertank"
			  "display_text" "Destroy The Transmitters To Deactivate The Uber!"
			  "lifetime"     "6"
			  "origin" "-4000 -3000 135"
			}
		}	
		SpawnTemplate annotations
		DawnTextStart
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
						OnSpawnOutput
			{
				Target "bottom_text2"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The dawn of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "2"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "A REQUEST"
				"x" "-1"
				"y" "0.45"
				"channel" "1"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "One day a question crossed my mind. Where does a machine go when they die?"
				"x" "-1"
				"y" "0.5"
				"channel" "3"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text2"
				"message" "For what purpose were they given their artificial souls?"
				"x" "-1"
				"y" "0.53"
				"channel" "4"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		NoonTextStart
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
						OnSpawnOutput
			{
				Target "bottom_text2"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The noon of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "2"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "ARMAMENTS"
				"x" "-1"
				"y" "0.45"
				"channel" "1"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "Their machines were always eventually rebuilt, regardless of designer;"
				"x" "-1"
				"y" "0.5"
				"channel" "3"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text2"
				"message" "deployed countless times, they served until death and beyond."
				"x" "-1"
				"y" "0.53"
				"channel" "4"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		NoonTextEnd
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The noon of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "5"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "ARMAMENTS"
				"x" "-1"
				"y" "0.45"
				"channel" "6"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "No matter how powerful, they were always crushed eventually."
				"x" "-1"
				"y" "0.5"
				"channel" "7"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		DawnTextEnd
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			OnSpawnOutput
			{
				Target "bottom_text2"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The dawn of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "9"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "A REQUEST"
				"x" "-1"
				"y" "0.45"
				"channel" "6"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "They will march on to their dooms eternally, incapable of"
				"x" "-1"
				"y" "0.5"
				"channel" "7"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text2"
				"message" "concieving anything but their mindless goal, until the day they're simply forgotten."
				"x" "-1"
				"y" "0.53"
				"channel" "8"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		DuskTextStart
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			OnSpawnOutput
			{
				Target "bottom_text2"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The dusk of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "2"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "THE MERCENARIES"
				"x" "-1"
				"y" "0.45"
				"channel" "1"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "Suddenly, one day, the company realized the medals had power. Many tried and"
				"x" "-1"
				"y" "0.5"
				"channel" "3"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text2"
				"message" "failed in the hunt for them over the many years of strife."
				"x" "-1"
				"y" "0.53"
				"channel" "4"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		DuskTextEnd
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The dusk of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "5"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "THE MERCENARIES"
				"x" "-1"
				"y" "0.45"
				"channel" "6"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "That power eventually corrupted them, to the point even the mercenaries no longer desired it."
				"x" "-1"
				"y" "0.5"
				"channel" "7"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
		}
		MidnightTextStart
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			OnSpawnOutput
			{
				Target "bottom_text2"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The midnight of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "2"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "THE ETERNAL"
				"x" "-1"
				"y" "0.45"
				"channel" "1"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "One stood above the others, simple, yet powerful; gleaning what it could from"
				"x" "-1"
				"y" "0.5"
				"channel" "3"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.0"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text2"
				"message" "imperfection, it was distilled into what could only be described as a monster."
				"x" "-1"
				"y" "0.53"
				"channel" "4"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.0"
			}
		}
		MidnightTextEnd
		{
			OnSpawnOutput
			{
				Target "upper_text"
				Action "Display"
				Delay 0
			}

			OnSpawnOutput
			{
				Target "middle_text"
				Action "Display"
				Delay 0
			}
			OnSpawnOutput
			{
				Target "bottom_text"
				Action "Display"
				Delay 0.5
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "upper_text"
				"message" "The midnight of white"
				"x" "-1"
				"y" "0.4"
				"spawnflags" "1"
				//"effect" "2"
				"channel" "5"
				"color" "255 255 255"
				"fxtime" "0.2"
				"fadeout" "1"
				"fadein" "0.2"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "middle_text"
				"message" "THE ETERNAL"
				"x" "-1"
				"y" "0.45"
				"channel" "6"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.5"
			}
			game_text
			{
				"origin" "1984 1984 99999"
				"targetname" "bottom_text"
				"message" "???"
				"x" "-1"
				"y" "0.5"
				"channel" "7"
				"spawnflags" "1"
				"color" "255 255 255"
				"fadein" "0.2"
				"fadeout" "1"
				"holdtime" "4.0"
			}
		}
		DawnOrdealStart
		{
			logic_relay
			{
				"targetname" "dawn_start"
				"ontrigger" "wavestart1,playsound,,0,-1"
				"ontrigger" "wavestart11,playsound,,0,-1"
				"ontrigger" "wavestart1,StopSound,0,10,-1"
				"ontrigger" "wavestart11,StopSound,0,10,-1"
				
			}
			ambient_generic
			{
				"targetname" "wavestart1"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "wavestart11"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
		}
		DawnOrdealEnd
		{
			logic_relay
			{
				"targetname" "dawn_end"
				"ontrigger" "waveend1,playsound,,0,-1"
				"ontrigger" "waveend11,playsound,,0,-1"
				"ontrigger" "killwave1bitches,trigger,,0,-1"
				"ontrigger" "getmoners1,trigger,,1,-1"
			}
			ambient_generic
			{
				"targetname" "waveend1"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "waveend11"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			logic_relay
			{
				"targetname" "killwave1bitches"
				"ontrigger" "pop_interface,$KillWavespawn,1resetsupports,0,-1"
				"ontrigger" "pop_interface,$KillWavespawn,1support1,0,-1"
			}
			logic_relay
			{
				"targetname" "getmoners1"
				"ontrigger" "pop_interface,$CollectCash,,0,-1"
			}
			point_populator_interface
			{
				"targetname" "pop_interface"
			}
		}
		NoonOrdealStart
		{
			logic_relay
			{
				"targetname" "noon_start"
				"ontrigger" "wavestart2,playsound,,0,-1"
				"ontrigger" "wavestart22,playsound,,0,-1"
				"ontrigger" "wavestart2,StopSound,0,10,-1"
				"ontrigger" "wavestart22,StopSound,0,10,-1"
				"ontrigger" "suppressionphase1,playsound,,0,-1"
			}
			ambient_generic
			{
				"targetname" "wavestart2"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "wavestart22"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "suppressionphase1"
				"message" "#1_eternal.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
		}
		NoonOrdealEnd
		{
			logic_relay
			{
				"targetname" "noon_end"
				"ontrigger" "waveend2,playsound,,0,-1"
				"ontrigger" "waveend22,playsound,,0,-1"
				"ontrigger" "killwave2bitches,trigger,,0,-1"
				"ontrigger" "getmoners2,trigger,,1,-1"
			}
			ambient_generic
			{
				"targetname" "waveend2"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "waveend22"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			logic_relay
			{
				"targetname" "killwave2bitches"
				"ontrigger" "pop_interface,$KillWavespawn,2resetsupports,0,-1"
				"ontrigger" "pop_interface,$KillWavespawn,2support2,0,-1"
			}
			logic_relay
			{
				"targetname" "getmoners2"
				"ontrigger" "pop_interface,$CollectCash,,0,-1"
			}
			point_populator_interface
			{
				"targetname" "pop_interface"
			}
		}
		DuskOrdealStart
		{
			logic_relay
			{
				"targetname" "dusk_start"
				"ontrigger" "wavestart3,playsound,,0,-1"
				"ontrigger" "suppressionphase2,playsound,,2,-1"
				"ontrigger" "wavestart33,playsound,,0,-1"
				"ontrigger" "wavestart3,StopSound,0,10,-1"
				"ontrigger" "wavestart33,StopSound,0,10,-1"
				"ontrigger" "suppressionphase22,playsound,,2,-1"
				"ontrigger" "suppressionphase222,playsound,,132,-1"
				"ontrigger" "suppressionphase2222,playsound,,132,-1"
			}
			ambient_generic
			{
				"targetname" "wavestart3"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "suppressionphase2"
				"message" "#1_dark_fantasy_scene.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "wavestart33"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "suppressionphase22"
				"message" "#1_dark_fantasy_scene.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "suppressionphase222"
				"message" "#1_dark_fantasy_scene.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "suppressionphase2222"
				"message" "#1_dark_fantasy_scene.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
		}
		DuskOrdealEnd
		{
			logic_relay
			{
				"targetname" "dusk_end"
				"ontrigger" "waveend3,playsound,,0,-1"
				"ontrigger" "waveend33,playsound,,0,-1"
				"ontrigger" "killwave3bitches,trigger,,0,-1"
				"ontrigger" "getmoners3,trigger,,1,-1"
			}
			ambient_generic
			{
				"targetname" "waveend3"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "waveend33"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			logic_relay
			{
				"targetname" "killwave3bitches"
				"ontrigger" "pop_interface,$KillWavespawn,3resetsupports,0,-1"
				"ontrigger" "pop_interface,$KillWavespawn,3support1,0,-1"
			}
			logic_relay
			{
				"targetname" "getmoners3"
				"ontrigger" "pop_interface,$CollectCash,,0,-1"
			}
			point_populator_interface
			{
				"targetname" "pop_interface"
			}
		}
		MidnightOrdealStart
		{
			logic_relay
			{
				"targetname" "midnight_start"
				"ontrigger" "wavestart4,playsound,,0,-1"
				"ontrigger" "wavestart44,playsound,,0,-1"
			}
			ambient_generic
			{
				"targetname" "wavestart4"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "wavestart44"
				"message" "whiteordeal_start.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
		}
		MidnightOrdealEnd
		{
			logic_relay
			{
				"targetname" "midnight_end"
				"ontrigger" "waveend4,playsound,,0,-1"
				"ontrigger" "waveend44,playsound,,0,-1"
				"ontrigger" "killwave4bitches,trigger,,0,-1"
			}
			ambient_generic
			{
				"targetname" "waveend4"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			ambient_generic
			{
				"targetname" "waveend44"
				"message" "whiteordeal_end.mp3"
				"health" "10"
				"pitch" "100"
				"spawnflags" "17"
			}
			logic_relay
			{
				"targetname" "killwave4bitches"
				"ontrigger" "pop_interface,$KillWavespawn,4exptext,0,-1"
			}
			point_populator_interface
			{
				"targetname" "pop_interface"
			}
		}
	}
	
	
	Mission
	{
		Objective	DestroySentries
		Where	spawnbot
		Where   spawnbot_alley
		BeginAtWave	1
		RunForThisManyWaves	6
		InitialCooldown	5
		CooldownTime	35
		DesiredCount	1
		TFBot
		{
			Template T_TFBot_SentryBuster
			Name "Used Sentry Buster"
			Tag bot_giant
		}
	}
	Mission
	{
		Objective	Spy
		Where	spawnbot_jeep
		Where	spawnbot_alley
		BeginAtWave	1
		RunForThisManyWaves	1
		InitialCooldown	30
		CooldownTime	80
		DesiredCount	4
		TFBot
		{
			Class Spy
			Name "Fallen Spy"
			Skill Expert
			Item "the merc's muffler"
			Item "A Hat to Kill For"
		}
	}
	Mission
	{
		Objective	Spy
		Where	spawnbot_jeep
		Where	spawnbot_alley
		BeginAtWave	3
		RunForThisManyWaves	1
		InitialCooldown	10
		CooldownTime	45
		DesiredCount	2
		TFBot
		{
			Class Spy
			Name "Fallen Spy"
			Skill Expert
			Item "the merc's muffler"
			Item "A Hat to Kill For"
		}
	}
	Mission
	{
		Objective	Sniper
		Where	spawnbot_jeep
		Where	spawnbot_alley
		BeginAtWave	2
		RunForThisManyWaves	1
		InitialCooldown	40
		CooldownTime	70
		DesiredCount	4
		TFBot
		{
			Template	T_TFBot_Sniper_Sydney_Sleeper
			Name "Fallen Sydney sniper"
			Item "The Razorback"
		}
	}
	Mission
	{
		Objective	Sniper
		Where	spawnbot_jeep
		Where	spawnbot_alley
		BeginAtWave	3
		RunForThisManyWaves	1
		InitialCooldown	30
		CooldownTime	40
		DesiredCount	2
		TFBot
		{
			Template	T_TFBot_Sniper
			Skill Expert
			Name "Fallen Machina Sniper"
			Item "The Crocodile Smile"
			Item "The Chronomancer"
			Item  "The Triggerman's Tacticals"
			Item	"sniper's snipin' glass"
			Item "The Machina"
		}
	}
	Mission
	{
		Objective	Engineer
		Where	spawnbot_jeep
		BeginAtWave	2
		RunForThisManyWaves	1
		InitialCooldown 60
		CooldownTime	60
		DesiredCount	1
		TFBot
		{
			Template	T_TFBot_Engineer_Sentry_Battle_TeleIn
			Name "Fallen Engineer"
			Item "The Data Mining Light"
		}
	}
	Mission
	{
		Objective	Engineer
		Where	spawnbot_jeep
		BeginAtWave	3
		RunForThisManyWaves	1
		InitialCooldown 30
		CooldownTime	40
		DesiredCount	2
		TFBot
		{
			Template	T_TFBot_Engineer_Sentry_Battle_TeleIn
			Name "Fallen Engineer"
			Item "The Data Mining Light"
			Item "The Jag"
			Skill Expert
		}
	}
	Wave 
	{
		CustomMaxWaveNumber 4
		Explanation [$SIGSEGV] 
		{
			Line "{White}Welcome back to robot hell."
			Line "{Grey}It's nice to see you again."
			Line "{White}We do hope you enjoy your mission."
		}
		StartWaveOutput
		{
			Target	wave_start_relay_ironman
			Action	Trigger
		}
		//InitWaveOutput
		//{
			//Target wave_start_relay_ironman
			//Action RunScriptCode
			//Param "
				//local resource = Entities.FindByClassname(null, `tf_objective_resource`)
				//NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 1)
                //NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
			//"
		//}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		//WaveSpawn
		//{
		//	FirstSpawnOutPut
		//	{
		//		 Target    wave_start_relay_ironman
		//		Action    RunScriptCode
		//		Param "
        //        EntFire(`wave_start_relay_ironman`, `Trigger`)
        //        local resource = Entities.FindByClassname(null, `tf_objective_resource`)
         //       NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 1)
         //       NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
		//		"
		//	}
		//}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target Dawn_Start
                Action Trigger
            }
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target DawnTextStart
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target forwardupgrade
				Action Disable
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target upgradestationdoor
				Action Close
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			Name 1aa
			Where	spawnbot_alley
			Totalcount 6
			Spawncount 1
			MaxActive 3
			WaitBeforeStarting	8
			WaitBetweenSpawns	6
			TotalCurrency 75
			FirstSpawnOutput
            {
                Target ironman_mode_intel ///(bomb targetname)
                Action SetReturnTime
                Param 45 ///(number of seconds for bomb timer)
            }
			
			TFBot
			{
				Template T_TFBot_Giant_Scout
				Attributes HoldFireUntilFullReload
				Name "Fallen Giant Scout"
			}
		}
		WaveSpawn
		{
			Name 1ab
			Where spawnbot
			Where	spawnbot_left
			Totalcount 32
			Spawncount 8
			MaxActive 16
			WaitBeforeStarting	10
			WaitBetweenSpawns	7
			TotalCurrency 75
			
			TFBot
			{
				Template T_TFBot_Sniper_Huntsman
				ItemAttributes //damage fix from halloween update
				{
					ItemName "The Huntsman"
					"damage bonus" 0.65
				}
				Name "Fallen Bowman"
			}
		}
		WaveSpawn
		{
			Name	wave1tanks1
			TotalCurrency	100
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	6
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFTank deployed with 30k (30000) HP!`)
				"
			}
			Tank
			{
				Health	30000
				Name tankboss
				Speed	75
				StartingPathTrackNode	tank_path_a_1
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			Name 1ab
			WaitForAllSpawned 1aa
			Where spawnbot
			Where	spawnbot_left
			Totalcount 3
			Spawncount 3
			MaxActive 3
			WaitBeforeStarting	0
			WaitBetweenSpawns	9
			TotalCurrency 100
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
					Name "Fallen Giant Rapid Fire Soldier"
					Item "The Gilded Guard"
					Item "craftsmann_rocketlauncher_americanpastoral"
					ItemAttributes
					{
						ItemName "craftsmann_rocketlauncher_americanpastoral"
						"set_item_texture_wear" 0
						"reload time decreased" -1
						"fire rate bonus" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Hard
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Hard
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 1ba
			WaitForAllSpawned 1ab
			Where spawnbot
			Where	spawnbot_left
			Totalcount 15
			Spawncount 3
			MaxActive 9
			WaitBeforeStarting	20
			WaitBetweenSpawns	5.5
			TotalCurrency 80
			Squad
			{
				TFBot
				{
					Template T_TFBot_Heavy_IronFist_Airblast
					Name "Fallen Steel Gauntlet Pusher"
					ClassIcon heavy_steelfist_pusher
					Item "Officer's Ushanka"
				}
				TFBot
				{
					Class Heavyweapons
					Name "Fallen Heavyweapons"
					Item "The Team Captain"
					Skill Hard
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 1ca
			WaitForAllSpawned 1ab
			Where spawnbot
			Where	spawnbot_left
			Totalcount 20
			Spawncount 5
			MaxActive 6
			WaitBeforeStarting	22
			WaitBetweenSpawns	6
			TotalCurrency 80
			TFBot
			{
				Class Demoman
				Name "Scrapped Rapid Fire Demo"
				Skill Hard
				Item "Scotsman's Stove Pipe"
				ClassIcon demo_spammer_giant
				Item "warbird_grenadelauncher_butcherbird"
				ItemAttributes
				{
					ItemName "warbird_grenadelauncher_butcherbird"
					"set_item_texture_wear" 0
					"reload time decreased" -1
					"fire rate bonus" 0.75
				}
			}
		}
		WaveSpawn
		{
			Name 1ca
			WaitForAllSpawned 1ba
			Where spawnbot_left
			Totalcount 6
			Spawncount 3
			MaxActive 6
			WaitBeforeStarting	0
			WaitBetweenSpawns	7
			TotalCurrency 85
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
					Name "Fallen Giant Heavy"
					Item "The Patriot Peak"
				
					ItemAttributes
					{
						ItemName "The Patriot Peak"
						"set item tint rgb" "1315860"
					}
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
					Name "Fallen Bowman"
					ItemAttributes //damage fix from halloween update
					{
						ItemName "The Huntsman"
						"damage bonus" 0.65
					}
				}
				TFBot
				{
					Template T_TFBot_Sniper_Huntsman
					Name "Fallen Bowman"
					ItemAttributes //damage fix from halloween update
					{
						ItemName "The Huntsman"
						"damage bonus" 0.65
					}
				}
			}
		}
		WaveSpawn
		{
			Name 1da
			WaitForAllDead 1ca
			Where spawnbot_tank
			Totalcount 3
			Spawncount 1
			MaxActive 2
			WaitBeforeStarting	0
			WaitBetweenSpawns	13
			TotalCurrency 70
			TFBot
			{
				Template T_TFBot_Giant_Demoman
				ClassIcon demo_spammer
				Item	"Scotsman's Stove Pipe"
				Name "Fallen Giant Rapid Fire Demo"
				Item "warbird_grenadelauncher_butcherbird"
				ItemAttributes
				{
					ItemName "warbird_grenadelauncher_butcherbird"
					"set_item_texture_wear" 0
					"reload time decreased" -1
					"fire rate bonus" 0.75
				}
			}
		}
		WaveSpawn
		{
			Name 1db
			WaitForAllDead 1ca
			Where spawnbot_alley
			Totalcount 3
			Spawncount 1
			MaxActive 2
			WaitBeforeStarting	0
			WaitBetweenSpawns	13
			TotalCurrency 75
			TFBot
			{
				Template T_TFBot_Giant_Demoman
				ClassIcon demo_spammer
				Item	"Scotsman's Stove Pipe"
				Name "Fallen Giant Rapid Fire Demo"
				Item "warbird_grenadelauncher_butcherbird"
				ItemAttributes
				{
					ItemName "warbird_grenadelauncher_butcherbird"
					"set_item_texture_wear" 0
					"reload time decreased" -1
					"fire rate bonus" 0.75
				}
			}
		}
		WaveSpawn
		{
			Name 1db
			WaitForAllDead 1ca
			Where spawnbot_alley
			Where spawnbot
			Where spawnbot_left
			RandomSpawn 1
			Totalcount 10
			Spawncount 2
			MaxActive 6
			WaitBeforeStarting	4
			WaitBetweenSpawns	10
			TotalCurrency 15
			TFBot
			{
				Class Pyro
				Name "Fallen Pyro"
				ClassIcon pyro_reflect_daan
				Skill Expert
				Item "Traffic Cone"
			}
		}
		WaveSpawn
		{
			Name 1db
			WaitForAllDead 1ca
			Where spawnbot_alley
			Totalcount 12
			Spawncount 2
			MaxActive 7
			WaitBeforeStarting	4
			WaitBetweenSpawns	8
			TotalCurrency 95
			TFBot
			{
				Template T_TFBot_Heavy_IronFist_Airblast
				Name "Fallen Steel Gauntlet Pusher"
				ClassIcon heavy_steelfist_pusher
				Item "Officer's Ushanka"
			}
		}
		WaveSpawn
		{
			Name	wave1tank2
			WaitForAllSpawned 1db
			TotalCurrency	75
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	10
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFTank deployed with 25k (25000) HP!`)
				"
			}
			Tank
			{
				Health	25000
				Name tankboss
				Speed	75
				StartingPathTrackNode	tank_path_b_1
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			Name 1support1
			WaitForAllSpawned 1db
			Where spawnbot
			Support 1
			Totalcount 100
			Spawncount 7
			MaxActive 8
			WaitBeforeStarting	18
			WaitBetweenSpawns	0
			TotalCurrency 100
			RandomChoice
			{
				TFBot
				{
					Class Scout
					Skill Normal
					Name "Fallen Scout"
				}
			}
		}
		WaveSpawn
		{
			Name 1ea
			WaitForAllSpawned 1db
			Where spawnbot
			Totalcount 10
			Spawncount 5
			MaxActive 10
			WaitBeforeStarting	30
			WaitBetweenSpawns	30
			TotalCurrency 80
			Squad
			{
				NoWaitForFormation 1
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
					Attributes Aggressive
					Name "Fallen Giant Heavy"
					Item "The Patriot Peak"
				
					ItemAttributes
					{
						ItemName "The Patriot Peak"
						"set item tint rgb" "1315860"
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_Critbanner
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
				TFBot
				{
					Class Heavyweapons
					Name "Fallen Heavyweapons"
					Item "The Team Captain"
					Skill Hard
				}
				TFBot
				{
					Class Heavyweapons
					Name "Fallen Heavyweapons"
					Item "The Team Captain" 
					Skill Hard
				}
			}
		}
		WaveSpawn
		{
			Name 1fa
			WaitForAllSpawned 1ea
			Where spawnbot
			Where spawnbot_left
			Totalcount 8
			Spawncount 4
			MaxActive 8
			WaitBeforeStarting	33
			WaitBetweenSpawns	10
			TotalCurrency 125
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Soldier_Spammer
					Name "Fallen Giant Rapid Fire Soldier"
					Item "The Gilded Guard"
					Item "craftsmann_rocketlauncher_americanpastoral"
					ItemAttributes
					{
						ItemName "craftsmann_rocketlauncher_americanpastoral"
						"set_item_texture_wear" 0
						"reload time decreased" -1
						"fire rate bonus" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 1ga
			WaitForAllSpawned 1fa
			Where spawnbot
			Where spawnbot_left
			Totalcount 6
			Spawncount 1
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	12
			TotalCurrency 100
			TFBot
			{
				Class Heavyweapons
				Name "Fallen Heavyweapons"
				Attributes Aggressive
				Item "The Team Captain"
				Skill Expert
			}
		}
		WaveSpawn
		{
			Name 1ga
			WaitForAllSpawned 1fa
			Where spawnbot
			Where spawnbot_left
			Totalcount 3
			Spawncount 1
			MaxActive 3
			WaitBeforeStarting	12
			WaitBetweenSpawns	15
			TotalCurrency 75
			TFBot
			{
				Template T_TFBot_Giant_Soldier_Spammer
				Attributes Aggressive
				Name "Fallen Giant Rapid Fire Soldier"
				Item "The Gilded Guard"
				Item "craftsmann_rocketlauncher_americanpastoral"
				ItemAttributes
				{
					ItemName "craftsmann_rocketlauncher_americanpastoral"
					"set_item_texture_wear" 0
					"reload time decreased" -1
					"fire rate bonus" 0.5
				}
			}
		}
		WaveSpawn
		{
			Name	1ga
			WaitForAllSpawned 1fa
			TotalCurrency	250
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	4
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFTank deployed with 25k (25000) HP!`)
				"
			}
			Tank
			{
				Health	25000
				Name tankboss
				Speed	75
				StartingPathTrackNode	tank_path_a_1
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			Name 1resetsupports
			WaitForAllSpawned 1ab
			Where spawnbot
			Where	spawnbot_left
			Support 1
			Totalcount 50
			Spawncount 1
			MaxActive 1
			WaitBeforeStarting	30
			WaitBetweenSpawnsAfterDeath	60
			TotalCurrency 95
			TFBot
			{
				Class Heavyweapons
				ClassIcon heavy_accurate_lite
				Skill Easy
				Item "Tomislav"
				Name "Fallen Tomislav Heavy"
				Item "Capone's Capper"
			}	
		}
		
		WaveSpawn
		{
			
			WaitForAllDead 1ga
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target Dawn_End
                Action Trigger
            }
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			WaitBeforeStarting 0
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Disable`)
					EntFire(`spawnbot`, `Disable`)
					EntFire(`spawnbot_left`, `Disable`)
					EntFire(`spawnbot_tank`, `Disable`)
					EntFire(`spawnbot_jeep`, `Disable`)
                "
			}
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFMemory repository out of date; rebuilding... `);"
			}
			WaitBeforeStarting 2
			
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_butcher_rc1b_exp_lucid_nightmare.pop `);"
			}
			WaitBeforeStarting 4
			
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_creepside_b3_adv_dismal_devilry.pop `);"
			}
			WaitBeforeStarting 4.33
			
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_skeleclipse_b7a_exp_when_the_sun_shines_red.pop `);"
			}
			WaitBeforeStarting 4.66
			
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_autumnull_rc2_adv_dynamic_disaster.pop `);"
			}
			WaitBeforeStarting 4.99
			
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFUpdate Complete. `);"
			}
			WaitBeforeStarting 5.33
			
		}
		WaveSpawn
		{
			
			WaitForAllDead 1ga
			WaitBeforeStarting	8
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Enable`)
					EntFire(`spawnbot`, `Enable`)
					EntFire(`spawnbot_left`, `Enable`)
					EntFire(`spawnbot_tank`, `Enable`)
					EntFire(`spawnbot_jeep`, `Enable`)
                "
			}
		}
		WaveSpawn
		{
			WaitForAllDead 1ga
			FirstSpawnOutput
			{
				Target DawnTextEnd
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
	}
	Wave
	{
		CustomMaxWaveNumber 4
		StartWaveOutput
		{
			Target	wave_start_relay_ironman
			Action	Trigger
		}
		InitWaveOutput
		{
			Target wave_start_relay
			Action RunScriptCode
			Param "
				local ent = Entities.FindByClassname(null, `tf_objective_resource`)
				if (ent)
				{
					ent.AcceptInput(`$SetClientProp$m_iszMvMPopfileName`, `(Exp) The Horrors`, null, null)
				}
				//local resource = Entities.FindByClassname(null, `tf_objective_resource`)
				//NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 2)
                //NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
			"
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		//WaveSpawn
		//{
		//	FirstSpawnOutPut
		//	{
		//		 Target    wave_start_relay_ironman
		//		Action    RunScriptCode
		//		Param "
         //       EntFire(`wave_start_relay_ironman`, `Trigger`)
         //       local resource = Entities.FindByClassname(null, `tf_objective_resource`)
        //        NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 2)
        //        NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
		//		"
		//	}
		//}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target forwardupgrade
				Action Disable
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target upgradestationdoor
				Action Close
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target Noon_Start
                Action Trigger
            }
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target NoonTextStart
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFNow Playing: Lobotomy Corproation - Eternal by Sound Phenomenon `);"
			}
			WaitBeforeStarting 0
		}
		WaveSpawn
		{
			WaitBeforeStarting 0
			DoneOutput
            {
                Target gamerules
                Action RunScriptCode
                Param "
                    ScreenFade(null,200,200,0,8,0.5,0.5,1)
                    EntFire(`gamerules`,`PlayVO`,`npc/combine_gunship/ping_search.wav`)
                "
            }
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFF00FFThe bomb will take additional time to reset (70 seconds). `);"
			}
		}
		WaveSpawn
		{
			Name	wave2tank1
			TotalCurrency	60
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	4
			FirstSpawnWarningSound player\invulnerable_on.wav
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFUbertank deployed with 25k (25000) HP!`)
				"
			}
			
			Tank
			{
				Health	25000
				Name "ubertank"
				Skin 2
				Classicon tank_uber_lite
				Model "models/bots/boss_bot/boss_tank_ubered.mdl" [$SIGSEGV]
				Speed	75 
				StartingPathTrackNode	tank_path_b_1
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			
			WaitBeforeStarting	4
			DoneOutput
			{
				Target tank_uber_on
				Action Trigger 
			}
		}
		WaveSpawn
		{
			Name 2resetsupports
			Where spawnbot
			Where	spawnbot_left
			Support 1
			Totalcount 50
			Spawncount 1
			MaxActive 1
			WaitBeforeStarting	45
			WaitBetweenSpawnsAfterDeath	50
			TotalCurrency 50
			TFBot
			{
				Class Scout
				Scale 1.5
				Health 375
				ClassIcon scout_stun_giant_armored
				Name "Fallen Armored Sandman Scout"
				Item "Das Metalmeatencasen"
				Item "The Sandman"
				Item "Batter's Helmet"
				WeaponRestrictions MeleeOnly
				ItemAttributes
				{
					ItemName "The Sandman"
					"effect bar recharge rate increased" 0.5
					"max health additive penalty" -0
				}
				Itemattributes
				{
				Itemname "Batter's Helmet"
				"set item tint RGB" 8626083
				}
			}
		}
		WaveSpawn
		{
			WaitBeforeStarting 7
			FirstSpawnOutput
			{
				Target annotationrelay
				Action Trigger
			}
		}
		WaveSpawn
		{
			Name 2aa
			Where spawnbot
			Totalcount 3
			Spawncount 1
			MaxActive 2
			WaitBeforeStarting	7
			WaitBetweenSpawns	8
			TotalCurrency 40
			DoneWarningSound player\invulnerable_off.wav
			FirstSpawnOutput
            {
                Target ironman_mode_intel ///(bomb targetname)
                Action SetReturnTime
                Param 70 ///(number of seconds for bomb timer)
            }
			
			DoneOutput
			{
				Target tank_uber_off
				Action Trigger 
			}
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons_Deflector
				Name "Fallen Giant Transmitter Heavy"
				Item "Lo-Fi Longwave"
				ItemAttributes
				{
					ItemName "Lo-Fi Longwave"
					"Attach Particle Effect" 65
				}
			}
		}
		WaveSpawn
		{
			Name 2aa
			Where spawnbot_left
			Totalcount 5
			Spawncount 1
			MaxActive 5
			WaitBeforeStarting	6
			WaitBetweenSpawns	8
			TotalCurrency 100
			TFBot
            { 
                Class Scout
                Name "Scrapped Giant Regen Scout"
			    Skill Expert
			    Item "Bonk! Atomic Punch"
			    WeaponRestrictions MeleeOnly
			    ClassIcon scout_regenbonk
			    Health 1600
			    Attributes MiniBoss
                Tag bot_regenscout
                ItemAttributes
                {
                    ItemName "Bonk! Atomic Punch"
                    "effect cond override" 92
                }
                Item "Batsaber"
                Item "Bonk Helm"
                ItemColor
                {
                    ItemName "Bonk! Atomic Punch"
                    Red 202
                    Green 100
                    Blue 0
                }
                ItemColor
                {
                    ItemName "Bonk Helm"
                    Red 255
                    Green 120
                    Blue 0
                }
				ItemAttributes 
                {
					ItemName "Batsaber"
					"set item tint rgb" 6901050
				}
			    CharacterAttributes
			    {
			    	"damage force reduction" 0.7
			    	"airblast vulnerability multiplier" 0.7
			    	"override footstep sound set" 5
			    	"effect bar recharge rate increased" 0.7
                    "voice pitch scale" 0
			    }
			}
		}
		WaveSpawn
		{
			Name 2ba
			WaitForAllDead 2aa
			Where spawnbot_tank
			Totalcount 4
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	16
			TotalCurrency 100
			Squad
			{
				TFBot
				{
					ClassIcon	soldier_bison_spammer
					WeaponRestrictions	PrimaryOnly
					Skill	Expert
					Health 4200
					Name	"Fallen Giant Laser Soldier"
					Item	 "The Cow Mangler 5000"
					Class	Soldier
					Attributes MiniBoss
					Item "The Hellmet"

					ItemAttributes
					{
						ItemName	"The Cow Mangler 5000"
						"clip size upgrade atomic"	26.0
						"fire rate bonus"	0.075
						"faster reload rate"	-0.8
						"energy weapon penetration" 1
						"override projectile type" 13
						"projectile speed decreased" 1.2	
					}
					
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction"	0.4
						"airblast vulnerability multiplier"	0.4
						"override footstep sound set"	3
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Regen
					Name "Fallen Giant Regen Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 2ba
			WaitForAllDead 2aa
			Where spawnbot
			Totalcount 27
			Spawncount 3
			MaxActive 10
			WaitBeforeStarting	0
			WaitBetweenSpawns	5
			TotalCurrency 100
			RandomChoice
			{
				TFBot
				{
					Class Soldier
					Skill Normal
					Name "Fallen Soldier"
				}
				TFBot
				{
					Class Heavy
					Skill Normal
					Name "Fallen Heavyweapons"
				}
			}
		}
		WaveSpawn
		{
			Name 2ca
			WaitForAllSpawned 2ba
			Where spawnbot
			Totalcount 20
			Spawncount 4
			MaxActive 8
			WaitBeforeStarting	12
			WaitBetweenSpawns	15
			TotalCurrency 100
			Squad
			{
				TFBot
				{
					Name "Fallen Pyro"
					Class Pyro
					Skill Normal
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 2ca
			WaitForAllSpawned 2ba
			Where spawnbot_left
			Totalcount 6
			Spawncount 1
			MaxActive 4
			WaitBeforeStarting	14
			WaitBetweenSpawns	8
			TotalCurrency 100
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons_Shotgun
				Name "Fallen Giant Shotgun Heavy"
				Item "The Team Captain"
				Item "The Purity Fist"
				Item "gentlemanne_shotgun_coffinnail"
				ItemAttributes
				{
					ItemName "gentlemanne_shotgun_coffinnail"
					"set_item_texture_wear" 4
					"fire rate bonus" 2.5
					"bullets per shot bonus" 10
					"damage penalty" 0.5
					"faster reload rate" 0.1
					"attack projectiles" 1
				}
			}
		}
		WaveSpawn
		{
			Name 2cb
			WaitForAllDead 2ba
			Where spawnbot
			Totalcount 8
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	20
			TotalCurrency 100
			TFBot
			{
				ClassIcon	scout_popper2
				Health	1400
				Name	"Fallen Super Pop Scout"
				Class	Scout
				Skill	Expert
				MaxVisionRange	1400
				WeaponRestrictions	PrimaryOnly
				Tag	"bot_giant"
				Attributes	"MiniBoss"
				ItemAttributes
				{
					ItemName	"the soda popper"
					"damage bonus" 1
				}
				CharacterAttributes
				{
					"override footstep sound set"	5
					"move speed bonus"	1.1
					"damage force reduction"	0.7
					"airblast vulnerability multiplier"	0.3
					"airblast vertical vulnerability multiplier"	0.5
				}
				Item	"the soda popper"
				Item	"the crit-a-cola"
			}
		}
		WaveSpawn
		{
			Name 2da
			WaitForAllSpawned 2ca
			Where spawnbot_left
			Totalcount 5
			Spawncount 5
			MaxActive 5
			WaitBeforeStarting	0
			WaitBetweenSpawns	8
			TotalCurrency 100
			Squad
			{
				TFBot
				{
					Name "Fallen Rocket Storm Soldier"
					Class Soldier
					Skill Expert
					Health 4200
					Attributes AlwaysCrit
					ClassIcon soldier_rocketrain_homing_nys
					Attributes HoldFireUntilFullReload
					Attributes MiniBoss
					Item "The Lucky Shot"
					//Item "The Cross-Comm Crash Helmet"
					Item "Big Steel Jaw of Summer Fun"
					Item "powerhouse_rocketlauncher_shellshocker"
					RocketCustomParticle eyeboss_projectile [$SIGSEGV]
				
					AimOffset "0 0 200"
					
					
					HomingRockets
					{
						IgnoreDisguisedSpies 1
						IgnoreStealthedSpies 1
						TurnPower 75
						MaxAimError 270
						AimTime 1
						RocketSpeed 0.42
					}
				
					AddCond
					{
						Index 36
					}
				
					ItemAttributes
					{
						ItemName "powerhouse_rocketlauncher_shellshocker"
						"projectile speed increased" 0.5
						"Mult Projectile Count" 7
						"projectile spread angle penalty" 25
						"clip size upgrade atomic" -1
						"faster reload rate" 1.5
					}
				
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.2
						"airblast vulnerability multiplier" 0.2
						"override footstep sound set" 3
					}
				}
				TFBot
				{
					Class Heavyweapons
					Skill Hard
					Item "The Team Captain"
					Name "Fallen Heavyweapons"
				}
				TFBot
				{
					Class Heavyweapons
					Skill Hard
					Item "The Team Captain"
					Name "Fallen Heavyweapons"
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Regen
					Name "Fallen Giant Regen Medic"
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name	wave2tank2
			WaitForAllDead 2da
			TotalCurrency	100
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	2
			FirstSpawnWarningSound player\invulnerable_on.wav
			
			
			Tank
			{
				Health	25000
				Name "ubertank"
				Skin 2
				Classicon tank_uber_lite
				Model "models/bots/boss_bot/boss_tank_ubered.mdl" [$SIGSEGV]
				Speed	75 
				StartingPathTrackNode	tank_path_b_1
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			WaitForAllSpawned wave2tank2
			FirstSpawnOutput
			{
				Target tank_uber_on
				Action Trigger 
			}
		}
		WaveSpawn
		{
			WaitForAllSpawned wave2tank2
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFUbertank deployed with 25k (25000) HP!`)
				"
			}
		}
		WaveSpawn
		{
			Name 2ea
			WaitForAllDead 2da
			Where spawnbot
			Totalcount 3
			Spawncount 3
			MaxActive 3
			WaitBeforeStarting	4
			WaitBetweenSpawns	20
			TotalCurrency 150
			DoneWarningSound player\invulnerable_off.wav
			
			DoneOutput
			{
				Target tank_uber_off
				Action Trigger 
			}
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_Deflector
					Name "Fallen Giant Transmitter Heavy"
					Item "Lo-Fi Longwave"
					ItemAttributes
					{
						ItemName "Lo-Fi Longwave"
						"Attach Particle Effect" 65
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Regen
					Name "Fallen Giant Regen Medic"
					CharacterAttributes
					{
						"health from healers reduced" 0.001
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic_Regen
					Name "Fallen Giant Regen Medic"
					CharacterAttributes
					{
						"health from healers reduced" 0.001
					}
				}
			}
		}
		WaveSpawn
		{
			Name 2eb
			WaitForAllDead 2da
			Where spawnbot_jeep
			Totalcount 20
			Spawncount 5
			MaxActive 12
			WaitBeforeStarting	6
			WaitBetweenSpawns	6
			TotalCurrency 100
			
			TFBot
			{
				Name "Fallen Fury Pyro"
				Class Pyro
				Skill Hard
				ClassIcon pyro_dragon_fury_swordstone_giant
				MaxVisionRange 800
				Item "The Dragon's Fury"
				Item "The Sengoku Scorcher"
			}
		}
		WaveSpawn
		{
			Name 2fa
			WaitForAllSpawned  2ea
			Where spawnbot_tank
			Where spawnbot
			RandomSpawn 1
			Totalcount 4
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	30
			WaitBetweenSpawns	30
			TotalCurrency 225
			Squad
			{
				TFBot
				{
					Class Soldier
					Name "Fallen Rocketwall Soldier"
					ClassIcon soldier_rocketwall
					Health 4000
					Item "The Shogun's Shoulder Guard"
					Skill Expert
					WeaponRestrictions PrimaryOnly
					Attributes MiniBoss
					Attributes HoldFireUntilFullReload
					Tag bot_giant
					Attributes AlwaysCrit
					Item "The Whirly Warrior"
					Item "The Air Strike"
					ItemAttributes
					{
						ItemName "The Air Strike"
						"faster reload rate" 0.5
						"damage bonus" 1
						"fire rate bonus" 0.001
						"clip size upgrade atomic" 12.0
						"Projectile speed increased" 0.5
						"projectile spread angle penalty" 8
					}
					CharacterAttributes
					{
						"move speed bonus"	0.5
						"damage force reduction" 0.4
						"airblast vulnerability multiplier" 0.4
						"override footstep sound set" 3
					}
				}
				TFBot
				{
					Template T_TFBot_Medic_Quickuber
					Name "Fallen Quick Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 2fa
			WaitForAllSpawned  2ea
			Where spawnbot_tank
			Where spawnbot
			RandomSpawn 1
			Totalcount 4
			Spawncount 1
			MaxActive 4
			WaitBeforeStarting	32
			WaitBetweenSpawns	16
			TotalCurrency 225
			TFBot
			{
				Template T_TFBot_Giant_Heavyweapons_Deflector
				Name "Fallen Giant Deflector Heavy"
			}
		}
		
		WaveSpawn
		{
			Name 2fb
			WaitForAllSpawned 2ea
			Where spawnbot_alley
			Totalcount 12
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	34
			WaitBetweenSpawns	10
			TotalCurrency 100
			TFBot
			{
				Template T_TFBot_Demoman_Samurai
				Name "Fallen Samurai Demo"
				Attributes AlwaysCrit
			}
		}
		WaveSpawn
		{
			Name	2ga
			WaitForAllDead 2fa
			TotalCurrency	300
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			WaitBeforeStarting	5
			FirstSpawnOutput                                                                                                                                                            
			{
				Target ST_maker_relay   
				Action Trigger                         
			}
			Tank
			{
				Health	25000
				Name	sticky_tank
				Classicon tank_sticky_hellmet
				Speed	75
				StartingPathTrackNode	tank_path_a_1
				OnKilledOutput                                  
				{
					Target ST_kill_relay
					Action Trigger                         
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
				}
			}
		}
		WaveSpawn
		{
			WaitForAllDead 2fa
			WaitBeforeStarting 5
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFStickytank deployed with 25k (25000) HP!`)
				"
			}
		}
		WaveSpawn
		{
			Name 2gb
			WaitForAllDead 2fb
			Where spawnbot_alley
			Totalcount 2
			Spawncount 1
			MaxActive 2
			WaitBeforeStarting	0
			WaitBetweenSpawns	5
			TotalCurrency 50
			TFBot
            { 
                Class Scout
                Name "Scrapped Giant Regen Scout"
			    Skill Expert
			    Item "Bonk! Atomic Punch"
			    WeaponRestrictions MeleeOnly
			    ClassIcon scout_regenbonk
			    Health 1600
			    Attributes MiniBoss
                Tag bot_regenscout
                ItemAttributes
                {
                    ItemName "Bonk! Atomic Punch"
                    "effect cond override" 92
                }
                Item "Batsaber"
                Item "Bonk Helm"
                ItemColor
                {
                    ItemName "Bonk! Atomic Punch"
                    Red 202
                    Green 100
                    Blue 0
                }
                ItemColor
                {
                    ItemName "Bonk Helm"
                    Red 255
                    Green 120
                    Blue 0
                }
				ItemAttributes 
                {
					ItemName "Batsaber"
					"set item tint rgb" 6901050
				}
			    CharacterAttributes
			    {
			    	"damage force reduction" 0.7
			    	"airblast vulnerability multiplier" 0.7
			    	"override footstep sound set" 5
			    	"effect bar recharge rate increased" 0.7
                    "voice pitch scale" 0
			    }
			}
		}
		WaveSpawn
		{
			Name 2support2
			WaitForAllDead 2fb
			Where spawnbot_alley
			Totalcount 4
			Spawncount 2
			MaxActive 4
			Hideicon 1
			Support Limited
			WaitBeforeStarting	5
			WaitBetweenSpawns	10
			//TotalCurrency 50
			TFBot
            { 
                Template T_TFBot_Engineer_Sentry_Teleporter
				Name "Fallen Engineer"
				Item "The Data Mining Light"
				Item "the jag"
				Item "Roboot"
				TeleportWhere spawnbot_left
			}
		}
		WaveSpawn
		{
			Name 2support2
			WaitForAllDead 2gb
			Where spawnbot_left
			Support 1
			Totalcount 100
			Spawncount 5
			MaxActive 11
			WaitBeforeStarting	0
			WaitBetweenSpawns	6
			TotalCurrency 100
			TFBot
			{
				Class Scout
				Attributes Aggressive
				Skill Normal
			}
		}
		WaveSpawn
		{
			Name 2ga
			WaitForAllDead 2gb
		}
		WaveSpawn
		{
			Name 2ga
			WaitForAllDead 2fa
			Where spawnbot_alley
			FirstSpawnWarningSound "mvm\giant_heavy\giant_heavy_entrance.wav"
			DoneWarningSound "ambient\explosions\explode_2.wav"
			Totalcount 1
			Spawncount 1
			MaxActive 1
			WaitBeforeStarting	12
			WaitBetweenSpawns	9
			TotalCurrency 300

				
					TFBot
					{
						Class Demoman
						Name "Fallen Major Catastrophe"
						ClassIcon demo_bomber
						Health 43000
						Scale 1.9
						FastUpdate 1
						UseMeleeThreatPrioritization 1  
						Attributes UseBossHealthBar
						SpawnTemplate "DemoBossEntities"  
						
						//UseCustomModel "models/bots/skangus_event_boss/bot_demo_boss_mega.mdl"  
						FireInput
						{
							Target "demophase2_start" //Entity name to use
							Action "Trigger" //Input to fire
							Param "" //Parameter to use
							Delay 0 //Delay before firing the input
							Cooldown 1 //Cooldown between firing the input
							Repeats 1 //How many times should the input be fired
							IfHealthBelow 30001 //When set, the task activates only when the bot health is below specified value
						}
						FireWeapon    //Periodically fires weapon
						{
							Delay 3.0 //Time before the first fire input starts (Default: 10)
							Cooldown 10.5 //Time between each fire input (Default: 10)
							Repeats 0 //How many times should bot use the fire input in total (Default: 0 - Infinite)
							Duration 0.4 //How long should the button be pressed (Default: 0.1)
							Type "Primary" 
							//IfSeeTarget 1
							IfHealthBelow 30001
						}
						FireWeapon    //Periodically fires weapon
						{
							Delay 12.0 //Time before the first fire input starts (Default: 10)
							Cooldown 10.5 //Time between each fire input (Default: 10)
							Repeats 0 //How many times should bot use the fire input in total (Default: 0 - Infinite)
							Duration 0.4 //How long should the button be pressed (Default: 0.1)
							Type "Secondary" 
							IfHealthBelow 30001
						}
						ShootTemplate
						{
							Name nukerdemoparticleandshits
							AttachToProjectile 1
							ItemName "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"
						}
						EventChangeAttributes
						{
							Default
							{
								Skill Expert
								Attributes HoldFireUntilFullReload
								Attributes MiniBoss
								Item "Forgotten King's Pauldrons"
								Item "Prince Tavish's Crown"
								Item "Upgradeable TF_WEAPON_GRENADELAUNCHER"
								WeaponRestrictions PrimaryOnly
								CustomEyeGlowColor "0 175 8"  
								ItemAttributes
								{
									ItemName "Upgradeable TF_WEAPON_GRENADELAUNCHER"
									"paintkit_proto_def_index" 255
									"set_item_texture_wear"    0.2
									//"custom projectile model" "models/props_skangus_event\w_grenade_toxic.mdl"
									//"explosion particle" "greenfist_explosion"
									//"projectile trail particle" "pipebombtrail_green"
									"damage bonus" 1.5
									"clip size bonus" 4
									"projectile spread angle penalty" 2
									"faster reload rate" 0.001
									"fire rate bonus" 0.5
									"grenade bounce speed" 0.5
									"grenade bounce damage" 0.5
									"no self blast dmg" 1
									"killstreak tier" 1
								}
								CharacterAttributes
								{
									"move speed bonus"	0.45
									"damage force reduction" 0
									"airblast vulnerability multiplier" 0
									"airblast vertical vulnerability multiplier" 0
									"override footstep sound set" 3
									"gesture speed increase" 0.5
									"voice pitch scale" 0
									"rage giving scale" 0.4
									//"SET BONUS: dmg from sentry reduced" 3
									//"dmg taken mult from special damage type 1" 0.7754
									//"dmg taken mult from special damage type 2" 0.6449
									//"dmg taken mult from special damage type 3" 2
									"health from healers reduced" 0.001
									"mult stun resistance" 0
									"cancel falling damage" 1
								}
							}
							demophase2
							{
								Skill Expert
								Attributes SuppressFire
								Attributes MiniBoss
								Item "Forgotten King's Pauldrons"
								Item "Prince Tavish's Crown"
								Item "The Loch-n-Load"
								Item "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"
								WeaponRestrictions SecondaryOnly
								CustomEyeGlowColor "13 229 229"  
								ItemAttributes
								{
									ItemName    "The Loch-n-Load"
									"is_passive_weapon"    1
									"override projectile type"    27 // Fires nothing
								}
								ItemAttributes
								{
									ItemName "Upgradeable TF_WEAPON_PIPEBOMBLAUNCHER"
									"paintkit_proto_def_index" 245
									"set_item_texture_wear"    0.2
									"faster reload rate" 0.1
									"damage bonus" 40
									"blast radius increased" 6.5
									"fire rate bonus" 7
									"sticky arm time penalty" 4.6
									"hand scale" 1
									//"grenade launcher mortar mode" 0
									"explosion particle" "fireSmokeExplosion"
									"projectile no deflect" 1
									"damage causes airblast" 1
									"airblast pushback scale" 5
									"no self blast dmg" 1
									"mult projectile scale" 3
									"use large smoke explosion" 1
									"max pipebombs decreased"    -7
									"projectile range increased" 0.55
									"custom kill icon" "megaton"
									"killstreak tier" 1
								}
								CharacterAttributes
								{
									"attach particle Effect" 56
									"move speed bonus"	0.45
									"bombinomicon effect on death" 1
									"damage force reduction" 0
									"airblast vulnerability multiplier" 0
									"airblast vertical vulnerability multiplier" 0
									"override footstep sound set" 3
									"gesture speed increase" 2
									"voice pitch scale" 0
									"rage giving scale" 0.4
									//"SET BONUS: dmg from sentry reduced" 3
									//"dmg taken mult from special damage type 1" 0.7754
									//"dmg taken mult from special damage type 2" 0.6449
									//"dmg taken mult from special damage type 3" 2
									"health from healers reduced" 0.001
									"mult stun resistance" 0
									"cancel falling damage" 1
								}
							}
						}
					}
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			WaitForAllDead 2ga
			FirstSpawnOutput
            {
                Target Noon_End
                Action Trigger
            }
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target NoonTextEnd
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFMemory repository out of date; rebuilding... `);"
			}
			WaitBeforeStarting 2
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_doppler_b12_adv_vendetta.pop `);"
			}
			WaitBeforeStarting 4
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_dockyard_rc7_exp_overkill.pop `);"
			}
			WaitBeforeStarting 4.33
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_mannhattan_advanced1.pop `);"
			}
			WaitBeforeStarting 4.66
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_hurricane_rc3_exp_thunderous_fury_of_a_robotic_typhoon.pop `);"
			}
			WaitBeforeStarting 4.99
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFUpdate Complete. `);"
			}
			WaitBeforeStarting 5.33
			
		}
		WaveSpawn
		{
			WaitForAllDead 2ga
			WaitBeforeStarting 0
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Disable`)
					EntFire(`spawnbot`, `Disable`)
					EntFire(`spawnbot_left`, `Disable`)
					EntFire(`spawnbot_tank`, `Disable`)
					EntFire(`spawnbot_jeep`, `Disable`)
                "
			}
		}
		WaveSpawn
		{
			
			WaitForAllDead 2ga
			WaitBeforeStarting	8
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Enable`)
					EntFire(`spawnbot`, `Enable`)
					EntFire(`spawnbot_left`, `Enable`)
					EntFire(`spawnbot_tank`, `Enable`)
					EntFire(`spawnbot_jeep`, `Enable`)
                "
			}
		}
		WaveSpawn
		{
			
			WaitForAllDead 2ga
			WaitBeforeStarting	8
		}
	}
	Wave 
	{
		CustomMaxWaveNumber 4
		StartWaveOutput
		{
			Target	wave_start_relay_ironman
			Action	Trigger
		}
		InitWaveOutput
		{
			Target wave_start_relay
			Action RunScriptCode
			Param "
				IncludeScript(`tankextensions_main`, getroottable())
				IncludeScript(`tankextensions/vactank`, getroottable())
				//local resource = Entities.FindByClassname(null, `tf_objective_resource`)
				//NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 3)
               // NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
				TankExt.SetValueOverrides({
					VACTANK_RESIST_MULT = 0.15
				})
			"
		}
		DoneOutput
		{
			Target	wave_finished_relay
			Action	Trigger
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target forwardupgrade
				Action Disable
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutPut
			{
				 Target    wave_start_relay_ironman
				Action    RunScriptCode
				Param "
                EntFire(`wave_start_relay_ironman`, `Trigger`)
				local ent = Entities.FindByClassname(null, `tf_objective_resource`)
				if (ent)
				{
					ent.AcceptInput(`$SetClientProp$m_iszMvMPopfileName`, `(Exp) Under The Moonlight`, null, null)
				}
                //local resource = Entities.FindByClassname(null, `tf_objective_resource`)
                //NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 3)
               // NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
				TankExt.SetValueOverrides({
					VACTANK_RESIST_MULT = 0.15
				})
				"
			}
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target upgradestationdoor
				Action Close
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target DuskTextStart
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target Dusk_Start
                Action Trigger
            }
		}
		WaveSpawn
		{
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFNow Playing: Lobotomy Corproation - Dark Fantasy Scene by Sound Phenomenon `);"
			}
			WaitBeforeStarting 2
		}
		WaveSpawn
		{
			WaitBeforeStarting 0
			DoneOutput
            {
                Target gamerules
                Action RunScriptCode
                Param "
                    ScreenFade(null,200,200,0,8,0.5,0.5,1)
                    EntFire(`gamerules`,`PlayVO`,`npc/combine_gunship/ping_search.wav`)
                "
            }
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFF00FFThe bomb will take additional time to reset (100 seconds). `);"
			}
		}
		WaveSpawn
		{
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target ironman_mode_intel ///(bomb targetname)
                Action SetReturnTime
                Param 100 ///(number of seconds for bomb timer)
            }
		}
		WaveSpawn
		{
			Name 3resetsupports
			Where spawnbot
			Where	spawnbot_left
			Support 1
			Totalcount 100
			Spawncount 1
			MaxActive 1
			WaitBeforeStarting	45
			WaitBetweenSpawnsAfterDeath	5
			TotalCurrency 300
			TFBot
			{
				Template T_TFBot_Demoman_Knight
				Name "Fallen Demoknight"
				Attributes AlwaysCrit
			}
		}
		WaveSpawn
		{
			Name	3aa
			TotalCurrency	200
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			FirstSpawnWarningSound "mvm\giant_heavy\giant_heavy_entrance.wav"
			DoneWarningSound "ambient\explosions\explode_2.wav"
			Where spawnbot
			WaitBeforeStarting	2
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFF00FFRec. eive... `);"
			}
			Squad
			{
				TFBot
				{
					Class Demoman
					Name "Fallen 얀샋ㄷ읃ㄴㄴ둫ㄷㄱ"
					Health 38000
					ClassIcon demo_atomic

					Skill Expert
					//UseCustomModel	"models\bots\demo_boss\bot_demo_boss_gibby.mdl"
					FastUpdate 1
					Scale 1.8
					Tag bot_squad_leader
					WeaponRestrictions PrimaryOnly
					Attributes MiniBoss
					Attributes HoldFireUntilFullReload
					Attributes UseBossHealthBar
					Attributes AlwaysCrit
					Item "The Loose Cannon"
					Item "The Eyelander"
					Item "The King of Scotland Cape"
					Item "Hero's Tail"
					Item "The Antarctic Researcher"
					Item "Batter's Bracers"
					Item "Forest Footwear"
					
					
					ItemAttributes
					{
						ItemName "The Loose Cannon"
						"grenade launcher mortar mode" 0
						"grenade not explode on impact" 0
						"faster reload rate" -0.8
						"fire rate penalty" 30
						"custom projectile model" "models/props_td/atom_bomb.mdl"
						"Projectile speed increased" 0.8
						"fuse bonus" 1.35
						"damage bonus" 15
						"damage causes airblast" 1
						"blast radius increased" 1.35
						"use large smoke explosion" 1
						"custom kill icon" "megaton"
						"killstreak tier" 1
					}
					ItemAttributes
					{
						ItemName "The Eyelander"
						"faster reload rate" -0.8
						"fire rate bonus" 10000
						"is_passive_weapon" 1
						"damage penalty" 0
						"custom kill icon" "megaton"
						"killstreak tier" 1
					}
					CharacterAttributes
					{
						"attach particle Effect" 56
						"health regen" 25
						"ragdolls become ash" 1
						"dmg taken from fire increased" 1.2
						"dmg taken from crit reduced" 0.75
						"rage giving scale" 0.2
						"no self blast dmg" 1
						"cancel falling damage" 1
						"gesture speed increase" 0.20
						"move speed bonus"	0.5
						"bombinomicon effect on death" 1
						//"head scale" 0
						"hand scale" 0
						"damage force reduction" 0.1
						"increased jump height" 1.5
						"airblast vulnerability multiplier" 0.1
						"override footstep sound set" 4
					}
					Item "Hero's Hachimaki"
					ItemAttributes
					{
						ItemName "Hero's Hachimaki"
						"set item tint RGB" 1315860
					}
				}
				TFBot
				{
					Class Engineer
					Item "gentlemanne_shotgun_coffinnail"
					Name "Left Hand"
					ClassIcon heavy_shotgun
					Health 2
					Scale 0.65
					Skill Expert
					Attributes MiniBoss
					Attributes AlwaysCrit
					Tag bot_giant
					Tag bot_sentrybuster
					Item "The Data Mining Light"
					//SpawnTemplate LaserOnAim
					Skin 3
					ItemAttributes
					{
						ItemName "gentlemanne_shotgun_coffinnail"
						"mult_dmgtaken_active" 0
						"projectile penetration" 1
						"shot penetrate all players" 1 //just in case
						"fire rate bonus" 2.5
						"bullets per shot bonus" 4
						"mult_player_movespeed_active" 100
						"faster reload rate" -0.8
						"killstreak tier" 1
					}
					ItemAttributes
					{
						ItemName "tf_weapon_wrench"
						"active health degen" -2
					}
					CharacterAttributes
					{
						"rage giving scale" 0
						"ragdolls become ash" 1
						"bombinomicon effect on death" 1
						"health regen" -2
						"move speed bonus"	0.01
						"hand scale" 2.5
						"head scale" 0.001
						"damage force reduction" 0.01
						"airblast vulnerability multiplier" 0.01
						"building cost reduction" 20
						"increased jump height" 1.5
					}
				}
				TFBot
				{
					Class Engineer
					Item "gentlemanne_shotgun_dressedtokill"
					ClassIcon soldier_rocketwall
					Name "Right Hand"
					Attributes HoldFireUntilFullReload
					Health 2
					Scale 0.65
					Skill Expert
					Attributes MiniBoss
					Attributes AlwaysCrit
					Tag bot_giant
					Tag bot_sentrybuster
					//SpawnTemplate LaserOnAim
					Skin 3
					ItemAttributes
					{
						ItemName "gentlemanne_shotgun_dressedtokill"
						"mult_dmgtaken_active" 0
						"mult_player_movespeed_active" 100
						"damage bonus" 14
						"override projectile type" 2
						"damage causes airblast" 1
						"faster reload rate" -0.8
						"fire rate bonus" 4
						"rocket specialist" 1
						"Projectile speed increased" 1
						"killstreak tier" 1
					}
					ItemAttributes
					{
						ItemName "TF_WEAPON_PISTOL"
						"damage bonus" 8
						"fire rate bonus" 0.001
						"clip size penalty" 0.5
						"override projectile type" 2
						"is_passive_weapon" 1
						"mini rockets" 1
						"projectile spread angle penalty" 10
						"faster reload rate" 5.5
						"weapon spread bonus" 0
						"projectile speed increased" 0.55
						"killstreak tier" 1
					}
					ItemAttributes
					{
						ItemName "tf_weapon_wrench"
						"active health degen" -2
					}
					CharacterAttributes
					{
						"rage giving scale" 0
						"ragdolls become ash" 1
						"bombinomicon effect on death" 1
						"health regen" -2
						"move speed bonus"	0.01
						"hand scale" 2.5
						"head scale" 0.001
						"damage force reduction" 0.01
						"airblast vulnerability multiplier" 0.01
						"building cost reduction" 20
						"increased jump height" 1.5
					}
				}
			}
		}
		WaveSpawn
		{
			Name 3ab
			Where spawnbot_jeep
			Where spawnbot
			Where spawnbot_left
			Where spawnbot_alley
			RandomSpawn 1
			Totalcount 20
			Spawncount 5
			MaxActive 20
			WaitBeforeStarting	6
			WaitBetweenSpawns	5
			TotalCurrency 50
			TFBot
			{
				Template T_TFBot_Heavyweapons_Gnome
				Skill Expert
				Health 300
				Action Mobber
				Item "The All-Father"
				Item "Point and Shoot"
				Name "Fallen Heavy Mittens"
			}
		}
		WaveSpawn
		{
			Name 3ba
			WaitForAllDead 3aa
			Where spawnbot_jeep
			Totalcount 16
			Spawncount 16
			MaxActive 16
			WaitBeforeStarting	0
			WaitBetweenSpawns	15
			TotalCurrency 100
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
			}
		}
		WaveSpawn
		{
			Name 3ba
			WaitForAllDead 3aa
			Where spawnbot_left
			Totalcount 6
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	15
			TotalCurrency 150
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demo_Barrage
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Expert
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 3ba
			WaitForAllDead 3aa
			Where spawnbot
			Totalcount 6
			Spawncount 2
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	15
			TotalCurrency 150
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demo_Barrage
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Expert
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 3bb
			WaitForAllDead 3aa
			Where spawnbot_jeep
			Totalcount 10
			Spawncount 2
			MaxActive 5
			WaitBeforeStarting	7
			WaitBetweenSpawns	10
			TotalCurrency 50
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
				Attributes AlwaysCrit
				Skill Expert
				Name "Fallen Extended Conch Soldier"
			}
		}
		WaveSpawn 
        {
            Name 3ca
            WaitForAllSpawned 3bc
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 3
            WaitBetweenSpawns 0
        
            TotalCurrency 100
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFBullet resistant (85%) tank deployed with 40k (40000) HP!`)
				"
			}
        
            Tank
            {
                ClassIcon 	tank_vac_trio_lite
                Name "vactank_bullet"
                StartingPathTrackNode "tank_path_a_1"
                Health 40000
                Speed 75
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
		WaveSpawn
		{
			Name 3bc
			WaitForAllSpawned 3ba
			WaitBeforeStarting	5
		}
		WaveSpawn
		{
			Name 3bc
			WaitForAllSpawned 3bb
			WaitBeforeStarting	5
		}
		WaveSpawn
		{
			Name 3ca
			WaitForAllSpawned 3bc
			Where spawnbot_jeep
			Totalcount 17
			Spawncount 17
			MaxActive 17
			WaitBeforeStarting	9
			WaitBetweenSpawns	9
			TotalCurrency 100
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					Name "oh my goodness gracious"
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
			}
		}
		WaveSpawn
		{
			Name 3cb
			WaitForAllSpawned 3ca
			Where spawnbot_tank
			Totalcount 8
			Spawncount 4
			MaxActive 8
			WaitBeforeStarting	4
			WaitBetweenSpawns	10
			TotalCurrency 150
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
					Name "Fallen Giant Natascha Heavy"
					Health 5000
					ClassIcon heavy_natascha_nys_giant
					Item "Natascha"
					Item "Officer's Ushanka"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "Natascha"
						"damage bonus"	1.5
						"minigun spinup time increased" 1.7
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_RocketPush //Delta drop blast soldier with some tweaks
					Name "Scrapped Blast Banner Soldier"
					ClassIcon 	soldier_blast_buff_yoovy
					Skill Expert
					Item "Jumper's Jeepcap"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "The Liberty Launcher"
						"damage bonus" 1
						"fire rate bonus" 0.0001
						"faster reload rate" 0.8
						"blast radius increased" 1.1
						"projectile spread angle penalty" 3
						"Projectile speed increased" 0.5
						"apply z velocity on damage" 300
					}
					Attributes SpawnWithFullCharge
					Item "The Buff Banner"
					CharacterAttributes
					{
						"increase buff duration"	9.0
						"deploy time increased" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_RocketPush
					Name "Scrapped Blast Banner Soldier"
					ClassIcon 	soldier_blast_buff_yoovy
					Skill Expert
					Item "Jumper's Jeepcap"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "The Liberty Launcher"
						"damage bonus" 1
						"fire rate bonus" 0.0001
						"faster reload rate" 0.8
						"blast radius increased" 1.1
						"projectile spread angle penalty" 3
						"Projectile speed increased" 0.5
						"apply z velocity on damage" 300
					}
					Attributes SpawnWithFullCharge
					Item "The Buff Banner"
					CharacterAttributes
					{
						"increase buff duration"	9.0
						"deploy time increased" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Expert
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 3cb
			WaitForAllSpawned 3ca
			Where spawnbot
			Totalcount 8
			Spawncount 4
			MaxActive 8
			WaitBeforeStarting	2
			WaitBetweenSpawns	10
			TotalCurrency 150
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons
					Name "Fallen Giant Natascha Heavy"
					Health 5000
					ClassIcon heavy_natascha_nys_giant
					Item "Natascha"
					Item "Officer's Ushanka"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "Natascha"
						"damage bonus"	1.5
						"minigun spinup time increased" 1.7
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_RocketPush //Delta drop blast soldier with some tweaks
					Name "Scrapped Blast Banner Soldier"
					ClassIcon 	soldier_blast_buff_yoovy
					Skill Expert
					Item "Jumper's Jeepcap"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "The Liberty Launcher"
						"damage bonus" 1
						"fire rate bonus" 0.0001
						"faster reload rate" 0.8
						"blast radius increased" 1.1
						"projectile spread angle penalty" 3
						"Projectile speed increased" 0.5
						"apply z velocity on damage" 300
					}
					Attributes SpawnWithFullCharge
					Item "The Buff Banner"
					CharacterAttributes
					{
						"increase buff duration"	9.0
						"deploy time increased" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Soldier_RocketPush
					Name "Scrapped Blast Banner Soldier"
					ClassIcon 	soldier_blast_buff_yoovy
					Skill Expert
					Item "Jumper's Jeepcap"
					Item "Merc's Pride Scarf"
					ItemAttributes
					{
						ItemName "The Liberty Launcher"
						"damage bonus" 1
						"fire rate bonus" 0.0001
						"faster reload rate" 0.8
						"blast radius increased" 1.1
						"projectile spread angle penalty" 3
						"Projectile speed increased" 0.5
						"apply z velocity on damage" 300
					}
					Attributes SpawnWithFullCharge
					Item "The Buff Banner"
					CharacterAttributes
					{
						"increase buff duration"	9.0
						"deploy time increased" 0.5
					}
				}
				TFBot
				{
					Template T_TFBot_Medic
					Skill Expert
					Item "Field Practice"
					Name "Fallen Uber Medic"
				}
			}
		}
		WaveSpawn
		{
			Name 3da
			WaitForAllDead 3cb
			Where spawnbot
			Totalcount 17
			Spawncount 17
			MaxActive 17
			WaitBeforeStarting	0
			WaitBetweenSpawns	9
			TotalCurrency 100
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					Attributes AlwaysFireWeapon
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
				TFBot
				{
					Template T_TFBot_Pyro_Hyper
					CharacterAttributes
					{
						"airblast disabled" 1
					}
				}
			}
		}
		WaveSpawn
		{
			Name 3db
			WaitForAllDead 3cb
			Where spawnbot
			Totalcount 15
			Spawncount 3
			MaxActive 7
			WaitBeforeStarting	12
			WaitBetweenSpawns	8
			TotalCurrency 100
			TFBot
			{
				Template T_TFBot_Giant_Scout_FaN
				Name "Fallen Super FaN Scout"
			}
		}
		WaveSpawn 
        {
            Name 3ea
            WaitForAllSpawned 3da
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 14
            WaitBetweenSpawns 0
        
            TotalCurrency 100
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFBlast resistant (85%) tank deployed with 35k (35000) HP!`)
				"
			}
        
            Tank
            {
                ClassIcon 	tank_vac_trio_lite
                Name "vactank_blast"
                StartingPathTrackNode "tank_path_a_1"
                Health 35000
                Speed 75
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
		WaveSpawn
		{
			Name 3ea
			WaitForAllSpawned 3da
			Where spawnbot_jeep
			Where spawnbot
			Where spawnbot_alley
			RandomSpawn 1
			Totalcount 50
			Spawncount 5
			MaxActive 20
			WaitBeforeStarting	20
			WaitBetweenSpawns	0
			TotalCurrency 100
			TFBot
			{
				Template T_TFBot_Soldier_Extended_Concheror
				Skill Expert
				Name "Scrapped Extended Conch Soldier"
				Attributes AlwaysCrit
				CharacterAttributes
				{
					"fire rate bonus" 0.8
				}
			}
		}
		WaveSpawn
		{
			Name 3eb
			WaitForAllSpawned 3ea
			Where spawnbot_alley
			Totalcount 4
			Spawncount 4
			MaxActive 4
			WaitBeforeStarting	0
			WaitBetweenSpawns	30
			TotalCurrency 200
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demo_Barrage
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
					Skill Expert
					Name "Fallen Extended Conch Soldier"
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
					Skill Expert
					Name "Fallen Extended Conch Soldier"
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
					Skill Expert
					Name "Fallen Extended Conch Soldier"
					Attributes AlwaysCrit
				}
			}
		}
		WaveSpawn
		{
			Name 3eb
			WaitForAllSpawned 3ea
			Where spawnbot_left
			Totalcount 3
			Spawncount 3
			MaxActive 3
			WaitBeforeStarting	0
			WaitBetweenSpawns	30
			TotalCurrency 150
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Demo_Barrage
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
					Skill Expert
					Name "Fallen Extended Conch Soldier"
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Soldier_Extended_Concheror
					Skill Expert
					Name "Fallen Extended Conch Soldier"
					Attributes AlwaysCrit
				}
			}
		}
		WaveSpawn
		{
			Name 3fa
			WaitForAllDead 3eb
			Where spawnbot_alley
			Totalcount 8
			Spawncount 2
			MaxActive 6
			WaitBeforeStarting	0
			WaitBetweenSpawns	20
			TotalCurrency 400
			Squad
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_LaserRocket
					Attributes Aggressive
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Giant_Medic
					Name "Fallen Giant Medic"
					ClassIcon medic_pop
				}
			}
		}
		WaveSpawn
		{
			Name 3fb
			WaitForAllDead 3eb
			Where spawnbot_jeep
			Totalcount 28
			Spawncount 7
			Maxactive 12
			WaitBeforeStarting 15
			WaitBetweenSpawns 2
			TFBot
			{
				Class Spy
				Skill Expert
				Name "Fallen Spy"
				ClassIcon spy_giant
				Item "the merc's muffler"
				Item "A Hat to Kill For"
				Attributes IgnoreFlag
			}
		}
		WaveSpawn 
        {
            Name 3firetank
            WaitForAllSpawned 3da
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 40
            WaitBetweenSpawns 0
        
            TotalCurrency 100
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFFire resistant (85%) tank deployed with 30k (30000) HP!`)
				"
			}
        
            Tank
            {
                ClassIcon 	tank_vac_trio_lite
                Name "vactank_fire"
                StartingPathTrackNode "tank_path_a_1"
                Health 30000
                Speed 75
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
		WaveSpawn 
        {
            Name Finale
            WaitForAllSpawned 3fa
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 10
            WaitBetweenSpawns 0
        
            TotalCurrency 100
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFTank deployed with 30k (30000) HP!`)
				"
			}
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "tank_path_a_1"
                Health 30000
                Speed 75
                Skin 0
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
		WaveSpawn 
        {
            Name Finale
            WaitForAllSpawned 3fa
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 47
            WaitBetweenSpawns 0
        
            TotalCurrency 0
			
			FirstSpawnOutPut
			{
				Target wave_start_relay
				Action RunScriptCode
				Param "
				ClientPrint(null,3,`\x0799CCFFTank deployed with 40k (40000) HP!`)
				"
			}
        
            Tank
            {
                Name "tankboss"
                StartingPathTrackNode "tank_path_a_1"
                Health 40000
                Speed 75
                Skin 1
        
                OnBombDroppedOutput
                {
                    Target boss_deploy_relay
                    Action Trigger
                }
            }
        }
		WaveSpawn
		{
			Name Finale
			WaitForAllSpawned 3fa
			Where spawnbot 
			Totalcount 6
			Spawncount 1
			MaxActive 6
			WaitBeforeStarting	30
			WaitBetweenSpawns	7
			TotalCurrency 200
			RandomChoice
			{
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_HealOnKill
					Name "Fallen Giant HoK Heavy"
					Item "The Tungsten Toque"
					Item "Merc's Pride Scarf"
					Item "Deflector"
					Attributes AlwaysCrit
					ItemAttributes
					{
						ItemName "Deflector"
						"attack projectiles" 1
						"killstreak tier" 1
					}
					CharacterAttributes
					{
						"move speed bonus"	0.4
						"damage force reduction" 0.3
						"airblast vulnerability multiplier" 0.4
						"airblast vertical vulnerability multiplier" 0.1
						"rage giving scale"	0.9
						"override footstep sound set" 2
						"health from healers reduced" 0.3
					}
				}
				TFBot
				{
					Template T_TFBot_Giant_Heavyweapons_HealOnKill
					Name "Fallen Giant HoK Heavy"
					Item "The Tungsten Toque"
					Item "Deflector"
					Attributes AlwaysCrit
					ItemAttributes
					{
						ItemName "Deflector"
						"attack projectiles" 1
						"killstreak tier" 1
					}
					CharacterAttributes
					{
						"move speed bonus"	0.4
						"damage force reduction" 0.3
						"airblast vulnerability multiplier" 0.4
						"airblast vertical vulnerability multiplier" 0.1
						"rage giving scale"	0.9
						"override footstep sound set" 2
						"health from healers reduced" 0.3
					}
				}
			}
		}
		WaveSpawn
		{
			Name 3support1
			Support 1
			WaitForAllSpawned 3fa
			Where spawnbot_tank
			Where spawnbot 
			Where spawnbot_left
			Where spawnbot_alley
			RandomSpawn 1
			Totalcount 100
			Spawncount 6
			MaxActive 14
			WaitBeforeStarting	45
			WaitBetweenSpawns	12
			TotalCurrency 100
			Squad
			{
				TFBot
				{
					Name "Fallen Fury Pyro"
					Class Pyro
					Skill Expert
					ClassIcon pyro_dragon_fury_swordstone_giant
					MaxVisionRange 800
					Item "The Dragon's Fury"
					Item "The Sengoku Scorcher"
					Attributes AlwaysCrit
				}
				TFBot
				{
					Template T_TFBot_Medic_Bigheal
					Name "Fallen Big Heal Medic"
					Item "The Surgeon's Stahlhelm"
				}
			}
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			WaitBeforeStarting	0
			FirstSpawnOutput
            {
                Target Dusk_End
                Action Trigger
            }
		}
		WaveSpawn
		{
			
			WaitForAllDead Finale
			WaitBeforeStarting	8
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target DuskTextEnd
				Action ForceSpawn
			}
			WaitBeforeStarting	0
			
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			WaitBeforeStarting 0
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Disable`)
					EntFire(`spawnbot`, `Disable`)
					EntFire(`spawnbot_left`, `Disable`)
					EntFire(`spawnbot_tank`, `Disable`)
					EntFire(`spawnbot_jeep`, `Disable`)
                "
			}
		}
		WaveSpawn
		{	
			Waitbeforestarting 14
			WaitForAllDead Finale
			FirstSpawnOutPut
			{
				
				
				Target wave_start_relay_ironman
				Action RunScriptCode
				Param "
				IncludeScript(`tankextensions_main`, getroottable())
				IncludeScript(`tankextensions/vactank`, getroottable())
				local ent = Entities.FindByClassname(null, `tf_objective_resource`)
				if (ent)
				{
					ent.AcceptInput(`$SetClientProp$m_iszMvMPopfileName`, `(Exp) 0`, null, null)
				}
				//local resource = Entities.FindByClassname(null, `tf_objective_resource`)
				//NetProps.SetPropInt(resource, `m_nMannVsMachineWaveCount`, 4)
               // NetProps.SetPropInt(resource, `m_nMannVsMachineMaxWaveCount`, 4)
			"
			}
		}
		WaveSpawn
		{
			
			WaitForAllDead Finale
			WaitBeforeStarting	26
			FirstSpawnOutput
			{
				 Target gamerules
                Action RunScriptCode
                Param "
                    EntFire(`spawnbot_alley`, `Enable`)
					EntFire(`spawnbot`, `Enable`)
					EntFire(`spawnbot_left`, `Enable`)
					EntFire(`spawnbot_tank`, `Enable`)
					EntFire(`spawnbot_jeep`, `Enable`)
                "
			}
		}
		WaveSpawn
		{
			
			WaitForAllDead Finale
			WaitBeforeStarting	26
			FirstSpawnOutput
			{
				Target	whiteout_relay
				Action	Trigger
			}
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFMemory repository out of date; rebuilding... `);"
			}
			WaitBeforeStarting 2
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_cliffside_b8_adv_nemesis.pop `);"
			}
			WaitBeforeStarting 4
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFF... `);"
			}
			WaitBeforeStarting 5
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoad Failed. `);"
			}
			WaitBeforeStarting 6
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_cliffside_b8_adv_nemesis.pop `);"
			}
			WaitBeforeStarting 7
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFF... `);"
			}
			WaitBeforeStarting 8
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoad Failed. `);"
			}
			WaitBeforeStarting 10
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFLoading mvm_cliffside_b8_adv_nemesis.pop `);"
			}
			WaitBeforeStarting 11
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFF... `);"
			}
			WaitBeforeStarting 12
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFError: file does not exist in memory repository. `);"
			}
			WaitBeforeStarting 14
		}
				WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFError: file does not exist. `);"
			}
			WaitBeforeStarting 16
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFError: file never existed. `);"
			}
			WaitBeforeStarting 18
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFIt will be waiting. `);"
			}
			WaitBeforeStarting 20
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			WaitBeforeStarting 26
			TotalCurrency	0
			TotalCount	1
			MaxActive	1
			SpawnCount	1
			Where	boss
			Support Limited
			TFBot
			{
				Class Scout
				Name "an arbiter comes forth in"
				ClassIcon pyro_dragon_fury_swordstone_giant
				Health 1
				Scale 0.1
				CharacterAttributes
				{
					"health regen" -100
				}
			}
		}
		WaveSpawn
		{
			WaitForAllDead Finale
			FirstSpawnOutput
			{
				Target gamerules
				Action RunScriptCode
				Param "ClientPrint(null,3,`\x08FFFFFFFFCommencing Extraction... `);"
			}
			WaitBeforeStarting 24
		}
	}
}
